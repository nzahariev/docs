
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Nencho's Docs">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../pandas_cheatsheet/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.4">
    
    
      
        <title>Python Fundamentals - Nencho's Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-3673QMK9C4"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-3673QMK9C4",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-3673QMK9C4",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#python-fundamentals" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Nencho&#39;s Docs" class="md-header__button md-logo" aria-label="Nencho's Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Nencho's Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Python Fundamentals
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="deep-orange" data-md-color-accent="deep-orange"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/nzahariev" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Nencho&#39;s Docs" class="md-nav__button md-logo" aria-label="Nencho's Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Nencho's Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/nzahariev" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Python Fundamentals
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Python Fundamentals
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#this-doc-was-provided-by-gto76" class="md-nav__link">
    <span class="md-ellipsis">
      This doc was provided by: gto76
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main" class="md-nav__link">
    <span class="md-ellipsis">
      Main
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    <span class="md-ellipsis">
      List
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dictionary" class="md-nav__link">
    <span class="md-ellipsis">
      Dictionary
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dictionary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#counter" class="md-nav__link">
    <span class="md-ellipsis">
      Counter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set" class="md-nav__link">
    <span class="md-ellipsis">
      Set
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Set">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frozen-set" class="md-nav__link">
    <span class="md-ellipsis">
      Frozen Set
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tuple" class="md-nav__link">
    <span class="md-ellipsis">
      Tuple
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tuple">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#named-tuple" class="md-nav__link">
    <span class="md-ellipsis">
      Named Tuple
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#range" class="md-nav__link">
    <span class="md-ellipsis">
      Range
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enumerate" class="md-nav__link">
    <span class="md-ellipsis">
      Enumerate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iterator" class="md-nav__link">
    <span class="md-ellipsis">
      Iterator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Iterator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itertools" class="md-nav__link">
    <span class="md-ellipsis">
      Itertools
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generator" class="md-nav__link">
    <span class="md-ellipsis">
      Generator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type" class="md-nav__link">
    <span class="md-ellipsis">
      Type
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#some-types-do-not-have-built-in-names-so-they-must-be-imported" class="md-nav__link">
    <span class="md-ellipsis">
      Some types do not have built-in names, so they must be imported:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abstract-base-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Abstract Base Classes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string" class="md-nav__link">
    <span class="md-ellipsis">
      String
    </span>
  </a>
  
    <nav class="md-nav" aria-label="String">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#property-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Property Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regex" class="md-nav__link">
    <span class="md-ellipsis">
      Regex
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Regex">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#match-object" class="md-nav__link">
    <span class="md-ellipsis">
      Match Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#special-sequences" class="md-nav__link">
    <span class="md-ellipsis">
      Special Sequences
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#format" class="md-nav__link">
    <span class="md-ellipsis">
      Format
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#general-options" class="md-nav__link">
    <span class="md-ellipsis">
      General Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strings" class="md-nav__link">
    <span class="md-ellipsis">
      Strings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Numbers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#floats" class="md-nav__link">
    <span class="md-ellipsis">
      Floats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Floats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comparison-of-presentation-types" class="md-nav__link">
    <span class="md-ellipsis">
      Comparison of presentation types:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ints" class="md-nav__link">
    <span class="md-ellipsis">
      Ints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#numbers_1" class="md-nav__link">
    <span class="md-ellipsis">
      Numbers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Numbers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#math" class="md-nav__link">
    <span class="md-ellipsis">
      Math
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#statistics" class="md-nav__link">
    <span class="md-ellipsis">
      Statistics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random" class="md-nav__link">
    <span class="md-ellipsis">
      Random
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bin-hex" class="md-nav__link">
    <span class="md-ellipsis">
      Bin, Hex
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitwise-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Bitwise Operators
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combinatorics" class="md-nav__link">
    <span class="md-ellipsis">
      Combinatorics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datetime" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Datetime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#now" class="md-nav__link">
    <span class="md-ellipsis">
      Now
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timezone" class="md-nav__link">
    <span class="md-ellipsis">
      Timezone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encode" class="md-nav__link">
    <span class="md-ellipsis">
      Encode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decode" class="md-nav__link">
    <span class="md-ellipsis">
      Decode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#format_1" class="md-nav__link">
    <span class="md-ellipsis">
      Format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arithmetics" class="md-nav__link">
    <span class="md-ellipsis">
      Arithmetics
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Arguments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inside-function-call" class="md-nav__link">
    <span class="md-ellipsis">
      Inside Function Call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inside-function-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Inside Function Definition
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#splat-operator" class="md-nav__link">
    <span class="md-ellipsis">
      Splat Operator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Splat Operator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inside-function-call_1" class="md-nav__link">
    <span class="md-ellipsis">
      Inside Function Call
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inside Function Call">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#is-the-same-as" class="md-nav__link">
    <span class="md-ellipsis">
      Is the same as:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inside-function-definition_1" class="md-nav__link">
    <span class="md-ellipsis">
      Inside Function Definition
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inside Function Definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#legal-argument-combinations" class="md-nav__link">
    <span class="md-ellipsis">
      Legal argument combinations:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-uses" class="md-nav__link">
    <span class="md-ellipsis">
      Other Uses
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inline" class="md-nav__link">
    <span class="md-ellipsis">
      Inline
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lambda" class="md-nav__link">
    <span class="md-ellipsis">
      Lambda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprehensions" class="md-nav__link">
    <span class="md-ellipsis">
      Comprehensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map-filter-reduce" class="md-nav__link">
    <span class="md-ellipsis">
      Map, Filter, Reduce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#any-all" class="md-nav__link">
    <span class="md-ellipsis">
      Any, All
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-expression" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Expression
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#named-tuple-enum-dataclass" class="md-nav__link">
    <span class="md-ellipsis">
      Named Tuple, Enum, Dataclass
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#imports" class="md-nav__link">
    <span class="md-ellipsis">
      Imports
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#closure" class="md-nav__link">
    <span class="md-ellipsis">
      Closure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Closure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#partial" class="md-nav__link">
    <span class="md-ellipsis">
      Partial
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-local" class="md-nav__link">
    <span class="md-ellipsis">
      Non-Local
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decorator" class="md-nav__link">
    <span class="md-ellipsis">
      Decorator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#debugger-example" class="md-nav__link">
    <span class="md-ellipsis">
      Debugger Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lru-cache" class="md-nav__link">
    <span class="md-ellipsis">
      LRU Cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parametrized-decorator" class="md-nav__link">
    <span class="md-ellipsis">
      Parametrized Decorator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class" class="md-nav__link">
    <span class="md-ellipsis">
      Class
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#expressions-that-call-the-str-method" class="md-nav__link">
    <span class="md-ellipsis">
      Expressions that call the str() method:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressions-that-call-the-repr-method" class="md-nav__link">
    <span class="md-ellipsis">
      Expressions that call the repr() method:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constructor-overloading" class="md-nav__link">
    <span class="md-ellipsis">
      Constructor Overloading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      Inheritance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple Inheritance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#property" class="md-nav__link">
    <span class="md-ellipsis">
      Property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataclass" class="md-nav__link">
    <span class="md-ellipsis">
      Dataclass
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dataclass">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inline_1" class="md-nav__link">
    <span class="md-ellipsis">
      Inline:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest-of-type-annotations-cpython-interpreter-ignores-them-all" class="md-nav__link">
    <span class="md-ellipsis">
      Rest of type annotations (CPython interpreter ignores them all):
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slots" class="md-nav__link">
    <span class="md-ellipsis">
      Slots
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy" class="md-nav__link">
    <span class="md-ellipsis">
      Copy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duck-types" class="md-nav__link">
    <span class="md-ellipsis">
      Duck Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Duck Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comparable" class="md-nav__link">
    <span class="md-ellipsis">
      Comparable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hashable" class="md-nav__link">
    <span class="md-ellipsis">
      Hashable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortable" class="md-nav__link">
    <span class="md-ellipsis">
      Sortable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iterator_1" class="md-nav__link">
    <span class="md-ellipsis">
      Iterator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Iterator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python-has-many-different-iterator-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Python has many different iterator objects:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callable" class="md-nav__link">
    <span class="md-ellipsis">
      Callable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#context-manager" class="md-nav__link">
    <span class="md-ellipsis">
      Context Manager
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iterable-duck-types" class="md-nav__link">
    <span class="md-ellipsis">
      Iterable Duck Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Iterable Duck Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iterable" class="md-nav__link">
    <span class="md-ellipsis">
      Iterable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection" class="md-nav__link">
    <span class="md-ellipsis">
      Collection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence" class="md-nav__link">
    <span class="md-ellipsis">
      Sequence
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sequence">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#discrepancies-between-glossary-definitions-and-abstract-base-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Discrepancies between glossary definitions and abstract base classes:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abc-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      ABC Sequence
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ABC Sequence">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-of-required-and-automatically-available-special-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Table of required and automatically available special methods:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enum" class="md-nav__link">
    <span class="md-ellipsis">
      Enum
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Enum">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inline_2" class="md-nav__link">
    <span class="md-ellipsis">
      Inline
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-defined-functions-cannot-be-values-so-they-must-be-wrapped" class="md-nav__link">
    <span class="md-ellipsis">
      User-defined functions cannot be values, so they must be wrapped:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#complex-example" class="md-nav__link">
    <span class="md-ellipsis">
      Complex Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#catching-exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Catching Exceptions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raising-exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Raising Exceptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Raising Exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#re-raising-caught-exception" class="md-nav__link">
    <span class="md-ellipsis">
      Re-raising caught exception:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exception-object" class="md-nav__link">
    <span class="md-ellipsis">
      Exception Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#built-in-exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Built-in Exceptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Built-in Exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collections-and-their-exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Collections and their exceptions:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#useful-built-in-exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Useful built-in exceptions:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-defined-exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      User-defined Exceptions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exit" class="md-nav__link">
    <span class="md-ellipsis">
      Exit
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#print" class="md-nav__link">
    <span class="md-ellipsis">
      Print
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Print">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pretty-print" class="md-nav__link">
    <span class="md-ellipsis">
      Pretty Print
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input" class="md-nav__link">
    <span class="md-ellipsis">
      Input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Command Line Arguments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command Line Arguments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#argument-parser" class="md-nav__link">
    <span class="md-ellipsis">
      Argument Parser
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open" class="md-nav__link">
    <span class="md-ellipsis">
      Open
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Open">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modes" class="md-nav__link">
    <span class="md-ellipsis">
      Modes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions_1" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-object" class="md-nav__link">
    <span class="md-ellipsis">
      File Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-text-from-file" class="md-nav__link">
    <span class="md-ellipsis">
      Read Text from File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-text-to-file" class="md-nav__link">
    <span class="md-ellipsis">
      Write Text to File
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paths" class="md-nav__link">
    <span class="md-ellipsis">
      Paths
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paths">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#direntry" class="md-nav__link">
    <span class="md-ellipsis">
      DirEntry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path-object" class="md-nav__link">
    <span class="md-ellipsis">
      Path Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#os-commands" class="md-nav__link">
    <span class="md-ellipsis">
      OS Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OS Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shell-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Shell Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Shell Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sends-1-1-to-the-basic-calculator-and-captures-its-output" class="md-nav__link">
    <span class="md-ellipsis">
      Sends '1 + 1' to the basic calculator and captures its output:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sends-testin-to-the-basic-calculator-running-in-standard-mode-and-saves-its-output-to-testout" class="md-nav__link">
    <span class="md-ellipsis">
      Sends test.in to the basic calculator running in standard mode and saves its output to test.out:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    <span class="md-ellipsis">
      JSON
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JSON">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read-object-from-json-file" class="md-nav__link">
    <span class="md-ellipsis">
      Read Object from JSON File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-object-to-json-file" class="md-nav__link">
    <span class="md-ellipsis">
      Write Object to JSON File
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pickle" class="md-nav__link">
    <span class="md-ellipsis">
      Pickle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pickle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read-object-from-file" class="md-nav__link">
    <span class="md-ellipsis">
      Read Object from File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-object-to-file" class="md-nav__link">
    <span class="md-ellipsis">
      Write Object to File
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#csv" class="md-nav__link">
    <span class="md-ellipsis">
      CSV
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CSV">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read" class="md-nav__link">
    <span class="md-ellipsis">
      Read
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write" class="md-nav__link">
    <span class="md-ellipsis">
      Write
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dialects" class="md-nav__link">
    <span class="md-ellipsis">
      Dialects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-rows-from-csv-file" class="md-nav__link">
    <span class="md-ellipsis">
      Read Rows from CSV File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-rows-to-csv-file" class="md-nav__link">
    <span class="md-ellipsis">
      Write Rows to CSV File
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sqlite" class="md-nav__link">
    <span class="md-ellipsis">
      SQLite
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQLite">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read_1" class="md-nav__link">
    <span class="md-ellipsis">
      Read
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write_1" class="md-nav__link">
    <span class="md-ellipsis">
      Write
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Write">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#or" class="md-nav__link">
    <span class="md-ellipsis">
      Or:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placeholders" class="md-nav__link">
    <span class="md-ellipsis">
      Placeholders
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_1" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlalchemy" class="md-nav__link">
    <span class="md-ellipsis">
      SqlAlchemy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bytes" class="md-nav__link">
    <span class="md-ellipsis">
      Bytes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bytes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encode_1" class="md-nav__link">
    <span class="md-ellipsis">
      Encode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decode_1" class="md-nav__link">
    <span class="md-ellipsis">
      Decode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-bytes-from-file" class="md-nav__link">
    <span class="md-ellipsis">
      Read Bytes from File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-bytes-to-file" class="md-nav__link">
    <span class="md-ellipsis">
      Write Bytes to File
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#struct" class="md-nav__link">
    <span class="md-ellipsis">
      Struct
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Struct">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format_2" class="md-nav__link">
    <span class="md-ellipsis">
      Format
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-standard-type-sizes-and-manual-alignment-padding-start-format-string-with" class="md-nav__link">
    <span class="md-ellipsis">
      For standard type sizes and manual alignment (padding) start format string with:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#besides-numbers-pack-and-unpack-also-support-bytes-objects-as-part-of-the-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      Besides numbers, pack() and unpack() also support bytes objects as part of the sequence:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integer-types-use-a-capital-letter-for-unsigned-type-minimum-and-standard-sizes-are-in-brackets" class="md-nav__link">
    <span class="md-ellipsis">
      Integer types. Use a capital letter for unsigned type. Minimum and standard sizes are in brackets:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#floating-point-types-struct-always-uses-standard-sizes" class="md-nav__link">
    <span class="md-ellipsis">
      Floating point types (struct always uses standard sizes):
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array" class="md-nav__link">
    <span class="md-ellipsis">
      Array
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory-view" class="md-nav__link">
    <span class="md-ellipsis">
      Memory View
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deque" class="md-nav__link">
    <span class="md-ellipsis">
      Deque
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#threading" class="md-nav__link">
    <span class="md-ellipsis">
      Threading
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Threading">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thread" class="md-nav__link">
    <span class="md-ellipsis">
      Thread
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lock" class="md-nav__link">
    <span class="md-ellipsis">
      Lock
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#or_1" class="md-nav__link">
    <span class="md-ellipsis">
      Or:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semaphore-event-barrier" class="md-nav__link">
    <span class="md-ellipsis">
      Semaphore, Event, Barrier
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queue" class="md-nav__link">
    <span class="md-ellipsis">
      Queue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread-pool-executor" class="md-nav__link">
    <span class="md-ellipsis">
      Thread Pool Executor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operator" class="md-nav__link">
    <span class="md-ellipsis">
      Operator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#match-statement" class="md-nav__link">
    <span class="md-ellipsis">
      Match Statement
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Match Statement">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_2" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    <span class="md-ellipsis">
      Logging
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    <span class="md-ellipsis">
      Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creates-a-logger-that-writes-all-messages-to-file-and-sends-them-to-the-roots-handler-that-prints-warnings-or-higher" class="md-nav__link">
    <span class="md-ellipsis">
      Creates a logger that writes all messages to file and sends them to the root's handler that prints warnings or higher:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introspection" class="md-nav__link">
    <span class="md-ellipsis">
      Introspection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coroutines" class="md-nav__link">
    <span class="md-ellipsis">
      Coroutines
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Coroutines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#runs-a-terminal-game-where-you-control-an-asterisk-that-must-avoid-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Runs a terminal game where you control an asterisk that must avoid numbers:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pandas_cheatsheet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pandas Fundamentals
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Containers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Containers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux Commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../bash/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bash Scripting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unix-text/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unix Text Processing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Cloud
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Cloud
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../aws/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWS CLI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#this-doc-was-provided-by-gto76" class="md-nav__link">
    <span class="md-ellipsis">
      This doc was provided by: gto76
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#main" class="md-nav__link">
    <span class="md-ellipsis">
      Main
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#list" class="md-nav__link">
    <span class="md-ellipsis">
      List
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dictionary" class="md-nav__link">
    <span class="md-ellipsis">
      Dictionary
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dictionary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#counter" class="md-nav__link">
    <span class="md-ellipsis">
      Counter
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set" class="md-nav__link">
    <span class="md-ellipsis">
      Set
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Set">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frozen-set" class="md-nav__link">
    <span class="md-ellipsis">
      Frozen Set
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tuple" class="md-nav__link">
    <span class="md-ellipsis">
      Tuple
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Tuple">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#named-tuple" class="md-nav__link">
    <span class="md-ellipsis">
      Named Tuple
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#range" class="md-nav__link">
    <span class="md-ellipsis">
      Range
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enumerate" class="md-nav__link">
    <span class="md-ellipsis">
      Enumerate
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iterator" class="md-nav__link">
    <span class="md-ellipsis">
      Iterator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Iterator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#itertools" class="md-nav__link">
    <span class="md-ellipsis">
      Itertools
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#generator" class="md-nav__link">
    <span class="md-ellipsis">
      Generator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type" class="md-nav__link">
    <span class="md-ellipsis">
      Type
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Type">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#some-types-do-not-have-built-in-names-so-they-must-be-imported" class="md-nav__link">
    <span class="md-ellipsis">
      Some types do not have built-in names, so they must be imported:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abstract-base-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Abstract Base Classes
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string" class="md-nav__link">
    <span class="md-ellipsis">
      String
    </span>
  </a>
  
    <nav class="md-nav" aria-label="String">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#property-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Property Methods
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#regex" class="md-nav__link">
    <span class="md-ellipsis">
      Regex
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Regex">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#match-object" class="md-nav__link">
    <span class="md-ellipsis">
      Match Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#special-sequences" class="md-nav__link">
    <span class="md-ellipsis">
      Special Sequences
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#format" class="md-nav__link">
    <span class="md-ellipsis">
      Format
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#general-options" class="md-nav__link">
    <span class="md-ellipsis">
      General Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#strings" class="md-nav__link">
    <span class="md-ellipsis">
      Strings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Numbers
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#floats" class="md-nav__link">
    <span class="md-ellipsis">
      Floats
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Floats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comparison-of-presentation-types" class="md-nav__link">
    <span class="md-ellipsis">
      Comparison of presentation types:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ints" class="md-nav__link">
    <span class="md-ellipsis">
      Ints
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#numbers_1" class="md-nav__link">
    <span class="md-ellipsis">
      Numbers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Numbers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Basic Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#math" class="md-nav__link">
    <span class="md-ellipsis">
      Math
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#statistics" class="md-nav__link">
    <span class="md-ellipsis">
      Statistics
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#random" class="md-nav__link">
    <span class="md-ellipsis">
      Random
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bin-hex" class="md-nav__link">
    <span class="md-ellipsis">
      Bin, Hex
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitwise-operators" class="md-nav__link">
    <span class="md-ellipsis">
      Bitwise Operators
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#combinatorics" class="md-nav__link">
    <span class="md-ellipsis">
      Combinatorics
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datetime" class="md-nav__link">
    <span class="md-ellipsis">
      Datetime
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Datetime">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#now" class="md-nav__link">
    <span class="md-ellipsis">
      Now
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timezone" class="md-nav__link">
    <span class="md-ellipsis">
      Timezone
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#encode" class="md-nav__link">
    <span class="md-ellipsis">
      Encode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decode" class="md-nav__link">
    <span class="md-ellipsis">
      Decode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#format_1" class="md-nav__link">
    <span class="md-ellipsis">
      Format
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arithmetics" class="md-nav__link">
    <span class="md-ellipsis">
      Arithmetics
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Arguments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Arguments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inside-function-call" class="md-nav__link">
    <span class="md-ellipsis">
      Inside Function Call
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inside-function-definition" class="md-nav__link">
    <span class="md-ellipsis">
      Inside Function Definition
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#splat-operator" class="md-nav__link">
    <span class="md-ellipsis">
      Splat Operator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Splat Operator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inside-function-call_1" class="md-nav__link">
    <span class="md-ellipsis">
      Inside Function Call
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inside Function Call">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#is-the-same-as" class="md-nav__link">
    <span class="md-ellipsis">
      Is the same as:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inside-function-definition_1" class="md-nav__link">
    <span class="md-ellipsis">
      Inside Function Definition
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inside Function Definition">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#legal-argument-combinations" class="md-nav__link">
    <span class="md-ellipsis">
      Legal argument combinations:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-uses" class="md-nav__link">
    <span class="md-ellipsis">
      Other Uses
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#inline" class="md-nav__link">
    <span class="md-ellipsis">
      Inline
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lambda" class="md-nav__link">
    <span class="md-ellipsis">
      Lambda
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comprehensions" class="md-nav__link">
    <span class="md-ellipsis">
      Comprehensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#map-filter-reduce" class="md-nav__link">
    <span class="md-ellipsis">
      Map, Filter, Reduce
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#any-all" class="md-nav__link">
    <span class="md-ellipsis">
      Any, All
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-expression" class="md-nav__link">
    <span class="md-ellipsis">
      Conditional Expression
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#named-tuple-enum-dataclass" class="md-nav__link">
    <span class="md-ellipsis">
      Named Tuple, Enum, Dataclass
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#imports" class="md-nav__link">
    <span class="md-ellipsis">
      Imports
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#closure" class="md-nav__link">
    <span class="md-ellipsis">
      Closure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Closure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#partial" class="md-nav__link">
    <span class="md-ellipsis">
      Partial
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#non-local" class="md-nav__link">
    <span class="md-ellipsis">
      Non-Local
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decorator" class="md-nav__link">
    <span class="md-ellipsis">
      Decorator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Decorator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#debugger-example" class="md-nav__link">
    <span class="md-ellipsis">
      Debugger Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lru-cache" class="md-nav__link">
    <span class="md-ellipsis">
      LRU Cache
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parametrized-decorator" class="md-nav__link">
    <span class="md-ellipsis">
      Parametrized Decorator
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#class" class="md-nav__link">
    <span class="md-ellipsis">
      Class
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Class">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#expressions-that-call-the-str-method" class="md-nav__link">
    <span class="md-ellipsis">
      Expressions that call the str() method:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressions-that-call-the-repr-method" class="md-nav__link">
    <span class="md-ellipsis">
      Expressions that call the repr() method:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constructor-overloading" class="md-nav__link">
    <span class="md-ellipsis">
      Constructor Overloading
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      Inheritance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-inheritance" class="md-nav__link">
    <span class="md-ellipsis">
      Multiple Inheritance
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#property" class="md-nav__link">
    <span class="md-ellipsis">
      Property
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dataclass" class="md-nav__link">
    <span class="md-ellipsis">
      Dataclass
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Dataclass">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inline_1" class="md-nav__link">
    <span class="md-ellipsis">
      Inline:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rest-of-type-annotations-cpython-interpreter-ignores-them-all" class="md-nav__link">
    <span class="md-ellipsis">
      Rest of type annotations (CPython interpreter ignores them all):
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#slots" class="md-nav__link">
    <span class="md-ellipsis">
      Slots
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy" class="md-nav__link">
    <span class="md-ellipsis">
      Copy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#duck-types" class="md-nav__link">
    <span class="md-ellipsis">
      Duck Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Duck Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comparable" class="md-nav__link">
    <span class="md-ellipsis">
      Comparable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hashable" class="md-nav__link">
    <span class="md-ellipsis">
      Hashable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sortable" class="md-nav__link">
    <span class="md-ellipsis">
      Sortable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#iterator_1" class="md-nav__link">
    <span class="md-ellipsis">
      Iterator
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Iterator">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#python-has-many-different-iterator-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Python has many different iterator objects:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#callable" class="md-nav__link">
    <span class="md-ellipsis">
      Callable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#context-manager" class="md-nav__link">
    <span class="md-ellipsis">
      Context Manager
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#iterable-duck-types" class="md-nav__link">
    <span class="md-ellipsis">
      Iterable Duck Types
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Iterable Duck Types">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#iterable" class="md-nav__link">
    <span class="md-ellipsis">
      Iterable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#collection" class="md-nav__link">
    <span class="md-ellipsis">
      Collection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence" class="md-nav__link">
    <span class="md-ellipsis">
      Sequence
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Sequence">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#discrepancies-between-glossary-definitions-and-abstract-base-classes" class="md-nav__link">
    <span class="md-ellipsis">
      Discrepancies between glossary definitions and abstract base classes:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abc-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      ABC Sequence
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ABC Sequence">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table-of-required-and-automatically-available-special-methods" class="md-nav__link">
    <span class="md-ellipsis">
      Table of required and automatically available special methods:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enum" class="md-nav__link">
    <span class="md-ellipsis">
      Enum
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Enum">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#inline_2" class="md-nav__link">
    <span class="md-ellipsis">
      Inline
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Inline">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-defined-functions-cannot-be-values-so-they-must-be-wrapped" class="md-nav__link">
    <span class="md-ellipsis">
      User-defined functions cannot be values, so they must be wrapped:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#complex-example" class="md-nav__link">
    <span class="md-ellipsis">
      Complex Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#catching-exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Catching Exceptions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raising-exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Raising Exceptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Raising Exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#re-raising-caught-exception" class="md-nav__link">
    <span class="md-ellipsis">
      Re-raising caught exception:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exception-object" class="md-nav__link">
    <span class="md-ellipsis">
      Exception Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#built-in-exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Built-in Exceptions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Built-in Exceptions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collections-and-their-exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Collections and their exceptions:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#useful-built-in-exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      Useful built-in exceptions:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-defined-exceptions" class="md-nav__link">
    <span class="md-ellipsis">
      User-defined Exceptions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#exit" class="md-nav__link">
    <span class="md-ellipsis">
      Exit
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#print" class="md-nav__link">
    <span class="md-ellipsis">
      Print
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Print">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pretty-print" class="md-nav__link">
    <span class="md-ellipsis">
      Pretty Print
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#input" class="md-nav__link">
    <span class="md-ellipsis">
      Input
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#command-line-arguments" class="md-nav__link">
    <span class="md-ellipsis">
      Command Line Arguments
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Command Line Arguments">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#argument-parser" class="md-nav__link">
    <span class="md-ellipsis">
      Argument Parser
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#open" class="md-nav__link">
    <span class="md-ellipsis">
      Open
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Open">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modes" class="md-nav__link">
    <span class="md-ellipsis">
      Modes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exceptions_1" class="md-nav__link">
    <span class="md-ellipsis">
      Exceptions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-object" class="md-nav__link">
    <span class="md-ellipsis">
      File Object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-text-from-file" class="md-nav__link">
    <span class="md-ellipsis">
      Read Text from File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-text-to-file" class="md-nav__link">
    <span class="md-ellipsis">
      Write Text to File
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#paths" class="md-nav__link">
    <span class="md-ellipsis">
      Paths
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Paths">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#direntry" class="md-nav__link">
    <span class="md-ellipsis">
      DirEntry
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path-object" class="md-nav__link">
    <span class="md-ellipsis">
      Path Object
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#os-commands" class="md-nav__link">
    <span class="md-ellipsis">
      OS Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OS Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shell-commands" class="md-nav__link">
    <span class="md-ellipsis">
      Shell Commands
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Shell Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sends-1-1-to-the-basic-calculator-and-captures-its-output" class="md-nav__link">
    <span class="md-ellipsis">
      Sends '1 + 1' to the basic calculator and captures its output:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sends-testin-to-the-basic-calculator-running-in-standard-mode-and-saves-its-output-to-testout" class="md-nav__link">
    <span class="md-ellipsis">
      Sends test.in to the basic calculator running in standard mode and saves its output to test.out:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#json" class="md-nav__link">
    <span class="md-ellipsis">
      JSON
    </span>
  </a>
  
    <nav class="md-nav" aria-label="JSON">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read-object-from-json-file" class="md-nav__link">
    <span class="md-ellipsis">
      Read Object from JSON File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-object-to-json-file" class="md-nav__link">
    <span class="md-ellipsis">
      Write Object to JSON File
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pickle" class="md-nav__link">
    <span class="md-ellipsis">
      Pickle
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pickle">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read-object-from-file" class="md-nav__link">
    <span class="md-ellipsis">
      Read Object from File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-object-to-file" class="md-nav__link">
    <span class="md-ellipsis">
      Write Object to File
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#csv" class="md-nav__link">
    <span class="md-ellipsis">
      CSV
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CSV">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read" class="md-nav__link">
    <span class="md-ellipsis">
      Read
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write" class="md-nav__link">
    <span class="md-ellipsis">
      Write
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dialects" class="md-nav__link">
    <span class="md-ellipsis">
      Dialects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-rows-from-csv-file" class="md-nav__link">
    <span class="md-ellipsis">
      Read Rows from CSV File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-rows-to-csv-file" class="md-nav__link">
    <span class="md-ellipsis">
      Write Rows to CSV File
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sqlite" class="md-nav__link">
    <span class="md-ellipsis">
      SQLite
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SQLite">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#read_1" class="md-nav__link">
    <span class="md-ellipsis">
      Read
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write_1" class="md-nav__link">
    <span class="md-ellipsis">
      Write
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Write">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#or" class="md-nav__link">
    <span class="md-ellipsis">
      Or:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#placeholders" class="md-nav__link">
    <span class="md-ellipsis">
      Placeholders
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_1" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqlalchemy" class="md-nav__link">
    <span class="md-ellipsis">
      SqlAlchemy
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bytes" class="md-nav__link">
    <span class="md-ellipsis">
      Bytes
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Bytes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encode_1" class="md-nav__link">
    <span class="md-ellipsis">
      Encode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decode_1" class="md-nav__link">
    <span class="md-ellipsis">
      Decode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-bytes-from-file" class="md-nav__link">
    <span class="md-ellipsis">
      Read Bytes from File
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#write-bytes-to-file" class="md-nav__link">
    <span class="md-ellipsis">
      Write Bytes to File
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#struct" class="md-nav__link">
    <span class="md-ellipsis">
      Struct
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Struct">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#format_2" class="md-nav__link">
    <span class="md-ellipsis">
      Format
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Format">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-standard-type-sizes-and-manual-alignment-padding-start-format-string-with" class="md-nav__link">
    <span class="md-ellipsis">
      For standard type sizes and manual alignment (padding) start format string with:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#besides-numbers-pack-and-unpack-also-support-bytes-objects-as-part-of-the-sequence" class="md-nav__link">
    <span class="md-ellipsis">
      Besides numbers, pack() and unpack() also support bytes objects as part of the sequence:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integer-types-use-a-capital-letter-for-unsigned-type-minimum-and-standard-sizes-are-in-brackets" class="md-nav__link">
    <span class="md-ellipsis">
      Integer types. Use a capital letter for unsigned type. Minimum and standard sizes are in brackets:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#floating-point-types-struct-always-uses-standard-sizes" class="md-nav__link">
    <span class="md-ellipsis">
      Floating point types (struct always uses standard sizes):
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array" class="md-nav__link">
    <span class="md-ellipsis">
      Array
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory-view" class="md-nav__link">
    <span class="md-ellipsis">
      Memory View
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deque" class="md-nav__link">
    <span class="md-ellipsis">
      Deque
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#threading" class="md-nav__link">
    <span class="md-ellipsis">
      Threading
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Threading">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thread" class="md-nav__link">
    <span class="md-ellipsis">
      Thread
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lock" class="md-nav__link">
    <span class="md-ellipsis">
      Lock
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Lock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#or_1" class="md-nav__link">
    <span class="md-ellipsis">
      Or:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#semaphore-event-barrier" class="md-nav__link">
    <span class="md-ellipsis">
      Semaphore, Event, Barrier
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queue" class="md-nav__link">
    <span class="md-ellipsis">
      Queue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread-pool-executor" class="md-nav__link">
    <span class="md-ellipsis">
      Thread Pool Executor
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operator" class="md-nav__link">
    <span class="md-ellipsis">
      Operator
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#match-statement" class="md-nav__link">
    <span class="md-ellipsis">
      Match Statement
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Match Statement">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#patterns" class="md-nav__link">
    <span class="md-ellipsis">
      Patterns
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example_2" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logging" class="md-nav__link">
    <span class="md-ellipsis">
      Logging
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Logging">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setup" class="md-nav__link">
    <span class="md-ellipsis">
      Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creates-a-logger-that-writes-all-messages-to-file-and-sends-them-to-the-roots-handler-that-prints-warnings-or-higher" class="md-nav__link">
    <span class="md-ellipsis">
      Creates a logger that writes all messages to file and sends them to the root's handler that prints warnings or higher:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introspection" class="md-nav__link">
    <span class="md-ellipsis">
      Introspection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#coroutines" class="md-nav__link">
    <span class="md-ellipsis">
      Coroutines
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Coroutines">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#runs-a-terminal-game-where-you-control-an-asterisk-that-must-avoid-numbers" class="md-nav__link">
    <span class="md-ellipsis">
      Runs a terminal game where you control an asterisk that must avoid numbers:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="python-fundamentals">Python Fundamentals<a class="headerlink" href="#python-fundamentals" title="Permanent link">&para;</a></h1>
<h5 id="this-doc-was-provided-by-gto76"><em>This doc was provided by: <a href="https://github.com/gto76/python-cheatsheet">gto76</a></em><a class="headerlink" href="#this-doc-was-provided-by-gto76" title="Permanent link">&para;</a></h5>
<hr />
<p><strong>&nbsp;&nbsp;&nbsp;</strong> <strong>1. Collections:</strong> <strong>&nbsp;</strong> <strong><a href="#list"><code>List</code></a></strong><strong>,</strong> <strong><a href="#dictionary"><code>Dictionary</code></a></strong><strong>,</strong> <strong><a href="#set"><code>Set</code></a></strong><strong>,</strong> <strong><a href="#tuple"><code>Tuple</code></a></strong><strong>,</strong> <strong><a href="#range"><code>Range</code></a></strong><strong>,</strong> <strong><a href="#enumerate"><code>Enumerate</code></a></strong><strong>,</strong> <strong><a href="#iterator"><code>Iterator</code></a></strong><strong>,</strong> <strong><a href="#generator"><code>Generator</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>2. Types:</strong> <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>  <strong><a href="#type"><code>Type</code></a></strong><strong>,</strong> <strong><a href="#string"><code>String</code></a></strong><strong>,</strong> <strong><a href="#regex"><code>Regular_Exp</code></a></strong><strong>,</strong> <strong><a href="#format"><code>Format</code></a></strong><strong>,</strong> <strong><a href="#numbers-1"><code>Numbers</code></a></strong><strong>,</strong> <strong><a href="#combinatorics"><code>Combinatorics</code></a></strong><strong>,</strong> <strong><a href="#datetime"><code>Datetime</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>3. Syntax:</strong> <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>  <strong><a href="#arguments"><code>Args</code></a></strong><strong>,</strong> <strong><a href="#inline"><code>Inline</code></a></strong><strong>,</strong> <strong><a href="#imports"><code>Import</code></a></strong><strong>,</strong> <strong><a href="#decorator"><code>Decorator</code></a></strong><strong>,</strong> <strong><a href="#class"><code>Class</code></a></strong><strong>,</strong> <strong><a href="#duck-types"><code>Duck_Types</code></a></strong><strong>,</strong> <strong><a href="#enum"><code>Enum</code></a></strong><strong>,</strong> <strong><a href="#exceptions"><code>Exception</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>4. System:</strong> <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>  <strong><a href="#exit"><code>Exit</code></a></strong><strong>,</strong> <strong><a href="#print"><code>Print</code></a></strong><strong>,</strong> <strong><a href="#input"><code>Input</code></a></strong><strong>,</strong> <strong><a href="#command-line-arguments"><code>Command_Line_Arguments</code></a></strong><strong>,</strong> <strong><a href="#open"><code>Open</code></a></strong><strong>,</strong> <strong><a href="#paths"><code>Path</code></a></strong><strong>,</strong> <strong><a href="#os-commands"><code>OS_Commands</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>5. Data:</strong> <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>  <strong><a href="#json"><code>JSON</code></a></strong><strong>,</strong> <strong><a href="#pickle"><code>Pickle</code></a></strong><strong>,</strong> <strong><a href="#csv"><code>CSV</code></a></strong><strong>,</strong> <strong><a href="#sqlite"><code>SQLite</code></a></strong><strong>,</strong> <strong><a href="#bytes"><code>Bytes</code></a></strong><strong>,</strong> <strong><a href="#struct"><code>Struct</code></a></strong><strong>,</strong> <strong><a href="#array"><code>Array</code></a></strong><strong>,</strong> <strong><a href="#memory-view"><code>Memory_View</code></a></strong><strong>,</strong> <strong><a href="#deque"><code>Deque</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>6. Advanced:</strong> <strong>&nbsp;&nbsp;&nbsp;</strong>  <strong><a href="#threading"><code>Threading</code></a></strong><strong>,</strong> <strong><a href="#operator"><code>Operator</code></a></strong><strong>,</strong> <strong><a href="#match-statement"><code>Match_Stmt</code></a></strong><strong>,</strong> <strong><a href="#logging"><code>Logging</code></a></strong><strong>,</strong> <strong><a href="#introspection"><code>Introspection</code></a></strong><strong>,</strong> <strong><a href="#coroutines"><code>Coroutines</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>7. Libraries:</strong> <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>  <strong><a href="#progress-bar"><code>Progress_Bar</code></a></strong><strong>,</strong> <strong><a href="#plot"><code>Plots</code></a></strong><strong>,</strong> <strong><a href="#table"><code>Tables</code></a></strong><strong>,</strong> <strong><a href="#curses"><code>Curses</code></a></strong><strong>,</strong> <strong><a href="#pysimplegui"><code>GUIs</code></a></strong><strong>,</strong> <strong><a href="#scraping"><code>Scraping</code></a></strong><strong>,</strong> <strong><a href="#web"><code>Web</code></a></strong><strong>,</strong> <strong><a href="#profiling"><code>Profiling</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>8. Multimedia:</strong> <strong>&nbsp;&nbsp;</strong>  <strong><a href="#numpy"><code>NumPy</code></a></strong><strong>,</strong> <strong><a href="#image"><code>Image</code></a></strong><strong>,</strong> <strong><a href="#animation"><code>Animation</code></a></strong><strong>,</strong> <strong><a href="#audio"><code>Audio</code></a></strong><strong>,</strong> <strong><a href="#synthesizer"><code>Synthesizer</code></a></strong><strong>,</strong> <strong><a href="#pygame"><code>Pygame</code></a></strong><strong>,</strong> <strong><a href="#pandas"><code>Pandas</code></a></strong><strong>,</strong> <strong><a href="#plotly"><code>Plotly</code></a></strong><strong>.</strong></p>
<h2 id="main">Main<a class="headerlink" href="#main" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>      <span class="c1"># Runs main() if file wasn&#39;t imported.</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h2 id="list">List<a class="headerlink" href="#list" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="nb">slice</span><span class="o">&gt;</span><span class="p">]</span>        <span class="c1"># Or: &lt;list&gt;[from_inclusive : to_exclusive : ±step]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">append</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Or: &lt;list&gt; += [&lt;el&gt;]</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">extend</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Or: &lt;list&gt; += &lt;collection&gt;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">sort</span><span class="p">()</span>                   <span class="c1"># Sorts in ascending order.</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">reverse</span><span class="p">()</span>                <span class="c1"># Reverses the list in-place.</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>   <span class="c1"># Returns a new sorted list.</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">reversed</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Returns reversed iterator.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">sum_of_elements</span>  <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="n">elementwise_sum</span>  <span class="o">=</span> <span class="p">[</span><span class="nb">sum</span><span class="p">(</span><span class="n">pair</span><span class="p">)</span> <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">list_a</span><span class="p">,</span> <span class="n">list_b</span><span class="p">)]</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="n">sorted_by_second</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">el</span><span class="p">:</span> <span class="n">el</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="n">sorted_by_both</span>   <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">el</span><span class="p">:</span> <span class="p">(</span><span class="n">el</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">el</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">flatter_list</span>     <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">))</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="n">product_of_elems</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">out</span><span class="p">,</span> <span class="n">el</span><span class="p">:</span> <span class="n">out</span> <span class="o">*</span> <span class="n">el</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="n">list_of_chars</span>    <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div>
* <strong>For details about sorted(), min() and max() see <a href="#sortable">sortable</a>.</strong>
* <strong>Module <a href="#operator">operator</a> provides functions itemgetter() and mul() that offer the same functionality as <a href="#lambda">lambda</a> expressions above.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">insert</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Inserts item at index and moves the rest to the right.</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">pop</span><span class="p">([</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">])</span>     <span class="c1"># Removes and returns item at index or from the end.</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">count</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Returns number of occurrences. Also works on strings.</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">index</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Returns index of the first occurrence or raises ValueError.</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">remove</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Removes first occurrence of the item or raises ValueError.</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">clear</span><span class="p">()</span>                  <span class="c1"># Removes all items. Also works on dictionary and set.</span>
</code></pre></div>
<h2 id="dictionary">Dictionary<a class="headerlink" href="#dictionary" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="o">&lt;</span><span class="n">view</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">keys</span><span class="p">()</span>                          <span class="c1"># Coll. of keys that reflects changes.</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="o">&lt;</span><span class="n">view</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">values</span><span class="p">()</span>                        <span class="c1"># Coll. of values that reflects changes.</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="o">&lt;</span><span class="n">view</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">items</span><span class="p">()</span>                         <span class="c1"># Coll. of key-value tuples that reflects chgs.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">value</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>          <span class="c1"># Returns default if key is missing.</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">value</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>   <span class="c1"># Returns and writes default if key is missing.</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># Returns a dict with default value `&lt;type&gt;()`.</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>     <span class="c1"># Returns a dict with default value 1.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                     <span class="c1"># Creates a dict from coll. of key-value pairs.</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="p">))</span>                <span class="c1"># Creates a dict from two collections.</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">keys</span> <span class="p">[,</span> <span class="n">value</span><span class="p">])</span>          <span class="c1"># Creates a dict from collection of keys.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">update</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">)</span>                           <span class="c1"># Adds items. Replaces ones with matching keys.</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">value</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>                         <span class="c1"># Removes item or raises KeyError if missing.</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="p">{</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="n">value</span><span class="p">}</span>    <span class="c1"># Returns set of keys that point to the value.</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">}</span>  <span class="c1"># Returns a dictionary, filtered by keys.</span>
</code></pre></div>
<h3 id="counter">Counter<a class="headerlink" href="#counter" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">]</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span><span class="p">[</span><span class="s1">&#39;yellow&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="n">Counter</span><span class="p">({</span><span class="s1">&#39;blue&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<h2 id="set">Set<a class="headerlink" href="#set" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>                                   <span class="c1"># `{}` returns a dictionary.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">add</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                                 <span class="c1"># Or: &lt;set&gt; |= {&lt;el&gt;}</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">update</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>              <span class="c1"># Or: &lt;set&gt; |= &lt;set&gt;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">union</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">)</span>                   <span class="c1"># Or: &lt;set&gt; | &lt;set&gt;</span>
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">intersection</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">)</span>            <span class="c1"># Or: &lt;set&gt; &amp; &lt;set&gt;</span>
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">difference</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">)</span>              <span class="c1"># Or: &lt;set&gt; - &lt;set&gt;</span>
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">)</span>    <span class="c1"># Or: &lt;set&gt; ^ &lt;set&gt;</span>
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">issubset</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">)</span>                <span class="c1"># Or: &lt;set&gt; &lt;= &lt;set&gt;</span>
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">issuperset</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">)</span>              <span class="c1"># Or: &lt;set&gt; &gt;= &lt;set&gt;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">pop</span><span class="p">()</span>                              <span class="c1"># Raises KeyError if empty.</span>
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">remove</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                              <span class="c1"># Raises KeyError if missing.</span>
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">discard</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                             <span class="c1"># Doesn&#39;t raise an error.</span>
</code></pre></div>
<h3 id="frozen-set">Frozen Set<a class="headerlink" href="#frozen-set" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Is immutable and hashable.</strong></li>
<li><strong>That means it can be used as a key in a dictionary or as an element in a set.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="o">&lt;</span><span class="nb">frozenset</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></li>
</ul>
<h2 id="tuple">Tuple<a class="headerlink" href="#tuple" title="Permanent link">&para;</a></h2>
<p><strong>Tuple is an immutable and hashable list.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">()</span>                               <span class="c1"># Empty tuple.</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">,)</span>                          <span class="c1"># Or: &lt;el&gt;,</span>
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">el_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">el_2</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>         <span class="c1"># Or: &lt;el_1&gt;, &lt;el_2&gt; [, ...]</span>
</code></pre></div></p>
<h3 id="named-tuple">Named Tuple<a class="headerlink" href="#named-tuple" title="Permanent link">&para;</a></h3>
<p><strong>Tuple's subclass with named elements.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="s1">&#39;x y&#39;</span><span class="p">)</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="mi">1</span>
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="o">.</span><span class="n">x</span>
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="mi">1</span>
<a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">)</span>
<a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="mi">2</span>
</code></pre></div>
<h2 id="range">Range<a class="headerlink" href="#range" title="Permanent link">&para;</a></h2>
<p><strong>Immutable and hashable sequence of integers.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="o">&lt;</span><span class="nb">range</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">stop</span><span class="p">)</span>                      <span class="c1"># range(to_exclusive)</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="o">&lt;</span><span class="nb">range</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">)</span>               <span class="c1"># range(from_inclusive, to_exclusive)</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="o">&lt;</span><span class="nb">range</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="err">±</span><span class="n">step</span><span class="p">)</span>        <span class="c1"># range(from_inclusive, to_exclusive, ±step_size)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</code></pre></div>
<h2 id="enumerate">Enumerate<a class="headerlink" href="#enumerate" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">el</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="n">i_start</span><span class="p">]):</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>    <span class="o">...</span>
</code></pre></div>
<h2 id="iterator">Iterator<a class="headerlink" href="#iterator" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># `iter(&lt;iter&gt;)` returns unmodified iterator.</span>
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">to_exclusive</span><span class="p">)</span>    <span class="c1"># A sequence of return values until &#39;to_exclusive&#39;.</span>
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="n">default</span><span class="p">])</span>          <span class="c1"># Raises StopIteration or returns &#39;default&#39; on end.</span>
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span><span class="p">)</span>                      <span class="c1"># Returns a list of iterator&#39;s remaining elements.</span>
</code></pre></div>
<h3 id="itertools">Itertools<a class="headerlink" href="#itertools" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="kn">import</span> <span class="nn">itertools</span> <span class="k">as</span> <span class="nn">it</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>         <span class="c1"># Returns updated value endlessly. Accepts floats.</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="n">times</span><span class="p">])</span>         <span class="c1"># Returns element endlessly or &#39;times&#39; times.</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Repeats the sequence endlessly.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">coll</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>  <span class="c1"># Empties collections in order (figuratively).</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Empties collections inside a collection in order.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">islice</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">to_exclusive</span><span class="p">)</span>   <span class="c1"># Only returns first &#39;to_exclusive&#39; elements.</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">islice</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">from_inc</span><span class="p">,</span> <span class="err">…</span><span class="p">)</span>    <span class="c1"># `to_exclusive, +step_size`. Indices can be None.</span>
</code></pre></div>
<h2 id="generator">Generator<a class="headerlink" href="#generator" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Any function that contains a yield statement returns a generator.</strong></li>
<li><strong>Generators and iterators are interchangeable.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>        <span class="k">yield</span> <span class="n">start</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>        <span class="n">start</span> <span class="o">+=</span> <span class="n">step</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">count</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
</code></pre></div>
<h2 id="type">Type<a class="headerlink" href="#type" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Everything is an object.</strong></li>
<li><strong>Every object has a type.</strong></li>
<li><strong>Type and class are synonymous.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Or: &lt;el&gt;.__class__</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Or: issubclass(type(&lt;el&gt;), &lt;type&gt;)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="s1">&#39;a&#39;</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="nb">str</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="p">(</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">str</span><span class="s1">&#39;&gt;, &lt;class &#39;</span><span class="nb">str</span><span class="s1">&#39;&gt;, &lt;class &#39;</span><span class="nb">str</span><span class="s1">&#39;&gt;)</span>
</code></pre></div>
<h4 id="some-types-do-not-have-built-in-names-so-they-must-be-imported">Some types do not have built-in names, so they must be imported:<a class="headerlink" href="#some-types-do-not-have-built-in-names-so-they-must-be-imported" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">FunctionType</span><span class="p">,</span> <span class="n">MethodType</span><span class="p">,</span> <span class="n">LambdaType</span><span class="p">,</span> <span class="n">GeneratorType</span><span class="p">,</span> <span class="n">ModuleType</span>
</code></pre></div>
<h3 id="abstract-base-classes">Abstract Base Classes<a class="headerlink" href="#abstract-base-classes" title="Permanent link">&para;</a></h3>
<p><strong>Each abstract base class specifies a set of virtual subclasses. These classes are then recognized by isinstance() and issubclass() as subclasses of the ABC, although they are really not. ABC can also manually decide whether or not a specific class is its virtual subclass, usually based on which methods the class has implemented. For instance, Iterable ABC looks for method iter(), while Collection ABC looks for iter(), contains() and len().</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">Collection</span><span class="p">,</span> <span class="n">Sequence</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">isinstance</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">Iterable</span><span class="p">)</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="kc">True</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>+------------------+------------+------------+------------+
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>|                  |  Iterable  | Collection |  Sequence  |
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a>+------------------+------------+------------+------------+
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a>| list, range, str |    yes     |    yes     |    yes     |
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a>| dict, set        |    yes     |    yes     |            |
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a>| iter             |    yes     |            |            |
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a>+------------------+------------+------------+------------+
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">numbers</span> <span class="kn">import</span> <span class="n">Number</span><span class="p">,</span> <span class="n">Complex</span><span class="p">,</span> <span class="n">Real</span><span class="p">,</span> <span class="n">Rational</span><span class="p">,</span> <span class="n">Integral</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">isinstance</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="n">Number</span><span class="p">)</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="kc">True</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>+--------------------+----------+----------+----------+----------+----------+
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>|                    |  Number  |  Complex |   Real   | Rational | Integral |
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>+--------------------+----------+----------+----------+----------+----------+
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>| int                |   yes    |   yes    |   yes    |   yes    |   yes    |
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>| fractions.Fraction |   yes    |   yes    |   yes    |   yes    |          |
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>| float              |   yes    |   yes    |   yes    |          |          |
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>| complex            |   yes    |   yes    |          |          |          |
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>| decimal.Decimal    |   yes    |          |          |          |          |
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a>+--------------------+----------+----------+----------+----------+----------+
</code></pre></div>
<h2 id="string">String<a class="headerlink" href="#string" title="Permanent link">&para;</a></h2>
<p><strong>Immutable sequence of characters.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">strip</span><span class="p">()</span>                       <span class="c1"># Strips all whitespace characters from both ends.</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;&lt;chars&gt;&#39;</span><span class="p">)</span>              <span class="c1"># Strips passed characters. Also lstrip/rstrip().</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">split</span><span class="p">()</span>                       <span class="c1"># Splits on one or more whitespace characters.</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">split</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Splits on &#39;sep&#39; str at most &#39;maxsplit&#39; times.</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">splitlines</span><span class="p">(</span><span class="n">keepends</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>    <span class="c1"># On [\n\r\f\v\x1c-\x1e\x85\u2028\u2029] and \r\n.</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">join</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_strings</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Joins elements using string as a separator.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">sub_str</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>                  <span class="c1"># Checks if string contains the substring.</span>
<a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">startswith</span><span class="p">(</span><span class="o">&lt;</span><span class="n">sub_str</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Pass tuple of strings for multiple options.</span>
<a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">find</span><span class="p">(</span><span class="o">&lt;</span><span class="n">sub_str</span><span class="o">&gt;</span><span class="p">)</span>               <span class="c1"># Returns start index of the first match or -1.</span>
<a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">index</span><span class="p">(</span><span class="o">&lt;</span><span class="n">sub_str</span><span class="o">&gt;</span><span class="p">)</span>              <span class="c1"># Same, but raises ValueError if missing.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">lower</span><span class="p">()</span>                       <span class="c1"># Changes the case. Also upper/capitalize/title().</span>
<a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">replace</span><span class="p">(</span><span class="n">old</span><span class="p">,</span> <span class="n">new</span> <span class="p">[,</span> <span class="n">count</span><span class="p">])</span>   <span class="c1"># Replaces &#39;old&#39; with &#39;new&#39; at most &#39;count&#39; times.</span>
<a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">translate</span><span class="p">(</span><span class="o">&lt;</span><span class="n">table</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Use `str.maketrans(&lt;dict&gt;)` to generate table.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Converts int to Unicode character.</span>
<a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Converts Unicode character to int.</span>
</code></pre></div>
* <strong>Use <code>'unicodedata.normalize("NFC", &lt;str&gt;)'</code> on strings like <code>'Motörhead'</code> before comparing them to other strings, because <code>'ö'</code> can be stored as one or two characters.</strong>
* <strong><code>'NFC'</code> converts such characters to a single character, while <code>'NFD'</code> converts them to two.</strong></p>
<h3 id="property-methods">Property Methods<a class="headerlink" href="#property-methods" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">isdecimal</span><span class="p">()</span>                   <span class="c1"># Checks for [0-9]. Also [०-९] and [٠-٩].</span>
<a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">isdigit</span><span class="p">()</span>                     <span class="c1"># Checks for [²³¹…] and isdecimal().</span>
<a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">isnumeric</span><span class="p">()</span>                   <span class="c1"># Checks for [¼½¾], [零〇一…] and isdigit().</span>
<a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">isalnum</span><span class="p">()</span>                     <span class="c1"># Checks for [a-zA-Z…] and isnumeric().</span>
<a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">isprintable</span><span class="p">()</span>                 <span class="c1"># Checks for [ !#$%…] and isalnum().</span>
<a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">isspace</span><span class="p">()</span>                     <span class="c1"># Checks for [ \t\n\r\f\v\x1c-\x1f\x85\xa0…].</span>
</code></pre></div>
<h2 id="regex">Regex<a class="headerlink" href="#regex" title="Permanent link">&para;</a></h2>
<p><strong>Functions for regular expression matching.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="kn">import</span> <span class="nn">re</span>
<a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">new</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Substitutes all occurrences with &#39;new&#39;.</span>
<a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>            <span class="c1"># Returns all occurrences as strings.</span>
<a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Add brackets around regex to include matches.</span>
<a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>             <span class="c1"># First occurrence of the pattern or None.</span>
<a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>              <span class="c1"># Searches only at the beginning of the text.</span>
<a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>           <span class="c1"># Returns all occurrences as Match objects.</span>
</code></pre></div>
<ul>
<li><strong>Argument 'new' can be a function that accepts a Match object and returns a string.</strong></li>
<li><strong>Argument <code>'flags=re.IGNORECASE'</code> can be used with all functions.</strong></li>
<li><strong>Argument <code>'flags=re.MULTILINE'</code> makes <code>'^'</code> and <code>'$'</code> match the start/end of each line.</strong></li>
<li><strong>Argument <code>'flags=re.DOTALL'</code> makes <code>'.'</code> also accept the <code>'\n'</code>.</strong></li>
<li><strong>Use <code>r'\1'</code> or <code>'\\1'</code> for backreference (<code>'\1'</code> returns a character with octal code 1).</strong></li>
<li><strong>Add <code>'?'</code> after <code>'*'</code> and <code>'+'</code> to make them non-greedy.</strong></li>
<li><strong><code>'re.compile(&lt;regex&gt;)'</code> returns a Pattern object with listed methods.</strong></li>
</ul>
<h3 id="match-object">Match Object<a class="headerlink" href="#match-object" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;.</span><span class="n">group</span><span class="p">()</span>                      <span class="c1"># Returns the whole match. Also group(0).</span>
<a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                     <span class="c1"># Returns part inside the first brackets.</span>
<a id="__codelineno-42-3" name="__codelineno-42-3" href="#__codelineno-42-3"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;.</span><span class="n">groups</span><span class="p">()</span>                     <span class="c1"># Returns all bracketed parts.</span>
<a id="__codelineno-42-4" name="__codelineno-42-4" href="#__codelineno-42-4"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;.</span><span class="n">start</span><span class="p">()</span>                      <span class="c1"># Returns start index of the match.</span>
<a id="__codelineno-42-5" name="__codelineno-42-5" href="#__codelineno-42-5"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;.</span><span class="n">end</span><span class="p">()</span>                        <span class="c1"># Returns exclusive end index of the match.</span>
</code></pre></div>
<h3 id="special-sequences">Special Sequences<a class="headerlink" href="#special-sequences" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="s1">&#39;\d&#39;</span> <span class="o">==</span> <span class="s1">&#39;[0-9]&#39;</span>                                <span class="c1"># Also [०-९…]. Matches a decimal character.</span>
<a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="s1">&#39;\w&#39;</span> <span class="o">==</span> <span class="s1">&#39;[a-zA-Z0-9_]&#39;</span>                         <span class="c1"># Also [ª²³…]. Matches an alphanumeric or _.</span>
<a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="s1">&#39;\s&#39;</span> <span class="o">==</span> <span class="s1">&#39;[ </span><span class="se">\t\n\r\f\v</span><span class="s1">]&#39;</span>                        <span class="c1"># Also [\x1c-\x1f…]. Matches a whitespace.</span>
</code></pre></div>
<ul>
<li><strong>By default, decimal characters, alphanumerics and whitespaces from all alphabets are matched unless <code>'flags=re.ASCII'</code> argument is used.</strong></li>
<li><strong>It restricts special sequence matches to <code>'[\x00-\x7f]'</code> (the first 128 characters) and also prevents <code>'\s'</code> from accepting <code>'[\x1c-\x1f]'</code> (the so-called separator characters).</strong></li>
<li><strong>Use a capital letter for negation (all non-ASCII characters will be matched when used in combination with ASCII flag).</strong></li>
</ul>
<h2 id="format">Format<a class="headerlink" href="#format" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="sr">&lt;str&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="s">&#39;{&lt;el_1&gt;}, {&lt;el_2&gt;}&#39;</span><span class="w">            </span><span class="c1"># Curly brackets can also contain expressions.</span>
<a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="sr">&lt;str&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;{}, {}&#39;</span><span class="o">.</span><span class="nb">format</span><span class="p">(</span><span class="sr">&lt;el_1&gt;</span><span class="p">,</span><span class="w"> </span><span class="sr">&lt;el_2&gt;</span><span class="p">)</span><span class="w">  </span><span class="c1"># Or: &#39;{0}, {a}&#39;.format(&lt;el_1&gt;, a=&lt;el_2&gt;)</span>
<a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="sr">&lt;str&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;%s, %s&#39;</span><span class="w"> </span><span class="nv">%</span><span class="w"> </span><span class="err">(&lt;</span><span class="nv">el_1</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="sr">&lt;el_2&gt;</span><span class="p">)</span><span class="w">      </span><span class="c1"># Redundant and inferior C-style formatting.</span>
</code></pre></div>
<h3 id="example">Example<a class="headerlink" href="#example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">Person</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="s1">&#39;name height&#39;</span><span class="p">)</span>
<a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">person</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Jean-Luc&#39;</span><span class="p">,</span> <span class="mi">187</span><span class="p">)</span>
<a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">person</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1"> is </span><span class="si">{</span><span class="n">person</span><span class="o">.</span><span class="n">height</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">100</span><span class="si">}</span><span class="s1"> meters tall.&#39;</span>
<a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="s1">&#39;Jean-Luc is 1.87 meters tall.&#39;</span>
</code></pre></div>
<h3 id="general-options">General Options<a class="headerlink" href="#general-options" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">}</span>                               <span class="c1"># &#39;&lt;el&gt;      &#39;</span>
<a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="o">^</span><span class="mi">10</span><span class="p">}</span>                               <span class="c1"># &#39;   &lt;el&gt;   &#39;</span>
<a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&gt;</span><span class="mi">10</span><span class="p">}</span>                               <span class="c1"># &#39;      &lt;el&gt;&#39;</span>
<a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="o">.&lt;</span><span class="mi">10</span><span class="p">}</span>                              <span class="c1"># &#39;&lt;el&gt;......&#39;</span>
<a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>                                 <span class="c1"># &#39;&lt;el&gt;&#39;</span>
</code></pre></div>
* <strong>Objects are rendered using <code>'format(&lt;el&gt;, &lt;options&gt;)'</code>.</strong>
* <strong>Options can be generated dynamically: <code>f'{&lt;el&gt;:{&lt;str/int&gt;}[…]}'</code>.</strong>
* <strong>Adding <code>'='</code> to the expression prepends it to the output: <code>f'{1+1=}'</code> returns <code>'1+1=2'</code>.</strong>
* <strong>Adding <code>'!r'</code> to the expression converts object to string by calling its <a href="#class">repr()</a> method.</strong></p>
<h3 id="strings">Strings<a class="headerlink" href="#strings" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="p">{</span><span class="s1">&#39;abcde&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">}</span>                             <span class="c1"># &#39;abcde     &#39;</span>
<a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="p">{</span><span class="s1">&#39;abcde&#39;</span><span class="p">:</span><span class="mf">10.3</span><span class="p">}</span>                           <span class="c1"># &#39;abc       &#39;</span>
<a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="p">{</span><span class="s1">&#39;abcde&#39;</span><span class="p">:</span><span class="mf">.3</span><span class="p">}</span>                             <span class="c1"># &#39;abc&#39;</span>
<a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="p">{</span><span class="s1">&#39;abcde&#39;</span><span class="err">!</span><span class="n">r</span><span class="p">:</span><span class="mi">10</span><span class="p">}</span>                           <span class="c1"># &quot;&#39;abcde&#39;   &quot;</span>
</code></pre></div>
<h3 id="numbers">Numbers<a class="headerlink" href="#numbers" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="p">{</span><span class="mi">123456</span><span class="p">:</span><span class="mi">10</span><span class="p">}</span>                              <span class="c1"># &#39;    123456&#39;</span>
<a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="p">{</span><span class="mi">123456</span><span class="p">:</span><span class="mi">10</span><span class="p">,}</span>                             <span class="c1"># &#39;   123,456&#39;</span>
<a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="p">{</span><span class="mi">123456</span><span class="p">:</span><span class="mi">10</span><span class="n">_</span><span class="p">}</span>                             <span class="c1"># &#39;   123_456&#39;</span>
<a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="p">{</span><span class="mi">123456</span><span class="p">:</span><span class="o">+</span><span class="mi">10</span><span class="p">}</span>                             <span class="c1"># &#39;   +123456&#39;</span>
<a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="p">{</span><span class="mi">123456</span><span class="o">:=+</span><span class="mi">10</span><span class="p">}</span>                            <span class="c1"># &#39;+   123456&#39;</span>
<a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="p">{</span><span class="mi">123456</span><span class="p">:</span> <span class="p">}</span>                               <span class="c1"># &#39; 123456&#39;</span>
<a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="p">{</span><span class="o">-</span><span class="mi">123456</span><span class="p">:</span> <span class="p">}</span>                              <span class="c1"># &#39;-123456&#39;</span>
</code></pre></div>
<h3 id="floats">Floats<a class="headerlink" href="#floats" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="p">{</span><span class="mf">1.23456</span><span class="p">:</span><span class="mf">10.3</span><span class="p">}</span>                           <span class="c1"># &#39;      1.23&#39;</span>
<a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="p">{</span><span class="mf">1.23456</span><span class="p">:</span><span class="mf">10.3</span><span class="n">f</span><span class="p">}</span>                          <span class="c1"># &#39;     1.235&#39;</span>
<a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="p">{</span><span class="mf">1.23456</span><span class="p">:</span><span class="mf">10.3</span><span class="n">e</span><span class="p">}</span>                          <span class="c1"># &#39; 1.235e+00&#39;</span>
<a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="p">{</span><span class="mf">1.23456</span><span class="p">:</span><span class="mf">10.3</span><span class="o">%</span><span class="p">}</span>                          <span class="c1"># &#39;  123.456%&#39;</span>
</code></pre></div>
<h4 id="comparison-of-presentation-types">Comparison of presentation types:<a class="headerlink" href="#comparison-of-presentation-types" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a>+--------------+----------------+----------------+----------------+----------------+
<a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a>|              |    {&lt;float&gt;}   |   {&lt;float&gt;:f}  |   {&lt;float&gt;:e}  |   {&lt;float&gt;:%}  |
<a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a>+--------------+----------------+----------------+----------------+----------------+
<a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a>|  0.000056789 |   &#39;5.6789e-05&#39; |    &#39;0.000057&#39;  | &#39;5.678900e-05&#39; |    &#39;0.005679%&#39; |
<a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a>|  0.00056789  |   &#39;0.00056789&#39; |    &#39;0.000568&#39;  | &#39;5.678900e-04&#39; |    &#39;0.056789%&#39; |
<a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a>|  0.0056789   |   &#39;0.0056789&#39;  |    &#39;0.005679&#39;  | &#39;5.678900e-03&#39; |    &#39;0.567890%&#39; |
<a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a>|  0.056789    |   &#39;0.056789&#39;   |    &#39;0.056789&#39;  | &#39;5.678900e-02&#39; |    &#39;5.678900%&#39; |
<a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a>|  0.56789     |   &#39;0.56789&#39;    |    &#39;0.567890&#39;  | &#39;5.678900e-01&#39; |   &#39;56.789000%&#39; |
<a id="__codelineno-50-9" name="__codelineno-50-9" href="#__codelineno-50-9"></a>|  5.6789      |   &#39;5.6789&#39;     |    &#39;5.678900&#39;  | &#39;5.678900e+00&#39; |  &#39;567.890000%&#39; |
<a id="__codelineno-50-10" name="__codelineno-50-10" href="#__codelineno-50-10"></a>| 56.789       |  &#39;56.789&#39;      |   &#39;56.789000&#39;  | &#39;5.678900e+01&#39; | &#39;5678.900000%&#39; |
<a id="__codelineno-50-11" name="__codelineno-50-11" href="#__codelineno-50-11"></a>+--------------+----------------+----------------+----------------+----------------+
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a>+--------------+----------------+----------------+----------------+----------------+
<a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a>|              |  {&lt;float&gt;:.2}  |  {&lt;float&gt;:.2f} |  {&lt;float&gt;:.2e} |  {&lt;float&gt;:.2%} |
<a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a>+--------------+----------------+----------------+----------------+----------------+
<a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a>|  0.000056789 |    &#39;5.7e-05&#39;   |      &#39;0.00&#39;    |   &#39;5.68e-05&#39;   |      &#39;0.01%&#39;   |
<a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a>|  0.00056789  |    &#39;0.00057&#39;   |      &#39;0.00&#39;    |   &#39;5.68e-04&#39;   |      &#39;0.06%&#39;   |
<a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a>|  0.0056789   |    &#39;0.0057&#39;    |      &#39;0.01&#39;    |   &#39;5.68e-03&#39;   |      &#39;0.57%&#39;   |
<a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a>|  0.056789    |    &#39;0.057&#39;     |      &#39;0.06&#39;    |   &#39;5.68e-02&#39;   |      &#39;5.68%&#39;   |
<a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a>|  0.56789     |    &#39;0.57&#39;      |      &#39;0.57&#39;    |   &#39;5.68e-01&#39;   |     &#39;56.79%&#39;   |
<a id="__codelineno-51-9" name="__codelineno-51-9" href="#__codelineno-51-9"></a>|  5.6789      |    &#39;5.7&#39;       |      &#39;5.68&#39;    |   &#39;5.68e+00&#39;   |    &#39;567.89%&#39;   |
<a id="__codelineno-51-10" name="__codelineno-51-10" href="#__codelineno-51-10"></a>| 56.789       |    &#39;5.7e+01&#39;   |     &#39;56.79&#39;    |   &#39;5.68e+01&#39;   |   &#39;5678.90%&#39;   |
<a id="__codelineno-51-11" name="__codelineno-51-11" href="#__codelineno-51-11"></a>+--------------+----------------+----------------+----------------+----------------+
</code></pre></div>
* <strong><code>'{&lt;float&gt;:g}'</code> is <code>'{&lt;float&gt;:.6}'</code> with stripped zeros, exponent starting at <code>'1e+06'</code>.</strong>
* <strong>When both rounding up and rounding down are possible, the one that returns result with even last digit is chosen. That makes <code>'{6.5:.0f}'</code> a <code>'6'</code> and <code>'{7.5:.0f}'</code> an <code>'8'</code>.</strong>
* <strong>This rule only effects numbers that can be represented exactly by a float (<code>.5</code>, <code>.25</code>, …).</strong></p>
<h3 id="ints">Ints<a class="headerlink" href="#ints" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="p">{</span><span class="mi">90</span><span class="p">:</span><span class="n">c</span><span class="p">}</span>                                   <span class="c1"># &#39;Z&#39;</span>
<a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="p">{</span><span class="mi">90</span><span class="p">:</span><span class="n">b</span><span class="p">}</span>                                   <span class="c1"># &#39;1011010&#39;</span>
<a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="p">{</span><span class="mi">90</span><span class="p">:</span><span class="n">X</span><span class="p">}</span>                                   <span class="c1"># &#39;5A&#39;</span>
</code></pre></div>
<h2 id="numbers_1">Numbers<a class="headerlink" href="#numbers_1" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>      <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">/</span><span class="nb">str</span><span class="o">/</span><span class="nb">bool</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Or: math.floor(&lt;float&gt;)</span>
<a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">str</span><span class="o">/</span><span class="nb">bool</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Or: &lt;int/float&gt;e±&lt;int&gt;</span>
<a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="o">&lt;</span><span class="nb">complex</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">complex</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">imag</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>              <span class="c1"># Or: &lt;int/float&gt; ± &lt;int/float&gt;j</span>
<a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="o">&lt;</span><span class="n">Fraction</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">fractions</span><span class="o">.</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>             <span class="c1"># Or: Fraction(numerator=0, denominator=1)</span>
<a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="o">&lt;</span><span class="n">Decimal</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">decimal</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Or: Decimal((sign, digits, exponent))</span>
</code></pre></div>
* <strong><code>'int(&lt;str&gt;)'</code> and <code>'float(&lt;str&gt;)'</code> raise ValueError on malformed strings.</strong>
* <strong>Decimal numbers are stored exactly, unlike most floats where <code>'1.1 + 2.2 != 3.3'</code>.</strong>
* <strong>Floats can be compared with: <code>'math.isclose(&lt;float&gt;, &lt;float&gt;)'</code>.</strong>
* <strong>Precision of decimal operations is set with: <code>'decimal.getcontext().prec = &lt;int&gt;'</code>.</strong></p>
<h3 id="basic-functions">Basic Functions<a class="headerlink" href="#basic-functions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">pow</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)</span>                         <span class="c1"># Or: &lt;num&gt; ** &lt;num&gt;</span>
<a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)</span>                                <span class="c1"># &lt;float&gt; = abs(&lt;complex&gt;)</span>
<a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="err">±</span><span class="n">ndigits</span><span class="p">])</span>                 <span class="c1"># `round(126, -1) == 130`</span>
</code></pre></div>
<h3 id="math">Math<a class="headerlink" href="#math" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">e</span><span class="p">,</span> <span class="n">pi</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">isinf</span><span class="p">,</span> <span class="n">isnan</span>    <span class="c1"># `&lt;el&gt; == nan` is always False.</span>
<a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">tan</span><span class="p">,</span> <span class="n">asin</span><span class="p">,</span> <span class="n">acos</span><span class="p">,</span> <span class="n">atan</span>  <span class="c1"># Also: degrees, radians.</span>
<a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">log</span><span class="p">,</span> <span class="n">log10</span><span class="p">,</span> <span class="n">log2</span>                 <span class="c1"># Log can accept base as second arg.</span>
</code></pre></div>
<h3 id="statistics">Statistics<a class="headerlink" href="#statistics" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="kn">from</span> <span class="nn">statistics</span> <span class="kn">import</span> <span class="n">mean</span><span class="p">,</span> <span class="n">median</span><span class="p">,</span> <span class="n">variance</span>     <span class="c1"># Also: stdev, quantiles, groupby.</span>
</code></pre></div>
<h3 id="random">Random<a class="headerlink" href="#random" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span><span class="p">,</span> <span class="n">randint</span><span class="p">,</span> <span class="n">choice</span>        <span class="c1"># Also: shuffle, gauss, triangular, seed.</span>
<a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">random</span><span class="p">()</span>                                <span class="c1"># A float inside [0, 1).</span>
<a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="n">from_inc</span><span class="p">,</span> <span class="n">to_inc</span><span class="p">)</span>               <span class="c1"># An int inside [from_inc, to_inc].</span>
<a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">choice</span><span class="p">(</span><span class="o">&lt;</span><span class="n">sequence</span><span class="o">&gt;</span><span class="p">)</span>                      <span class="c1"># Keeps the sequence intact.</span>
</code></pre></div>
<h3 id="bin-hex">Bin, Hex<a class="headerlink" href="#bin-hex" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="err">±</span><span class="mi">0</span><span class="n">b</span><span class="o">&lt;</span><span class="nb">bin</span><span class="o">&gt;</span>                                  <span class="c1"># Or: ±0x&lt;hex&gt;</span>
<a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s1">&#39;±&lt;bin&gt;&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                          <span class="c1"># Or: int(&#39;±&lt;hex&gt;&#39;, 16)</span>
<a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s1">&#39;±0b&lt;bin&gt;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>                        <span class="c1"># Or: int(&#39;±0x&lt;hex&gt;&#39;, 0)</span>
<a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bin</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>                                <span class="c1"># Returns &#39;[-]0b&lt;bin&gt;&#39;.</span>
</code></pre></div>
<h3 id="bitwise-operators">Bitwise Operators<a class="headerlink" href="#bitwise-operators" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>                             <span class="c1"># And (0b1100 &amp; 0b1010 == 0b1000).</span>
<a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>                             <span class="c1"># Or  (0b1100 | 0b1010 == 0b1110).</span>
<a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">^</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>                             <span class="c1"># Xor (0b1100 ^ 0b1010 == 0b0110).</span>
<a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">&lt;&lt;</span> <span class="n">n_bits</span>                           <span class="c1"># Left shift. Use &gt;&gt; for right.</span>
<a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">~&lt;</span><span class="nb">int</span><span class="o">&gt;</span>                                    <span class="c1"># Not. Also -&lt;int&gt; - 1.</span>
</code></pre></div>
<h2 id="combinatorics">Combinatorics<a class="headerlink" href="#combinatorics" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="kn">import</span> <span class="nn">itertools</span> <span class="k">as</span> <span class="nn">it</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="s1">&#39;abc&#39;</span><span class="p">))</span>                    <span class="c1">#   a  b  c</span>
<a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                  <span class="c1"># a x  x  x</span>
<a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                  <span class="c1"># b x  x  x</span>
<a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)]</span>                  <span class="c1"># c x  x  x</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>                   <span class="c1">#   a  b  c</span>
<a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                              <span class="c1"># a .  x  x</span>
<a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)]</span>                                          <span class="c1"># b .  .  x</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">combinations_with_replacement</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>  <span class="c1">#   a  b  c</span>
<a id="__codelineno-64-2" name="__codelineno-64-2" href="#__codelineno-64-2"></a><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                  <span class="c1"># a x  x  x</span>
<a id="__codelineno-64-3" name="__codelineno-64-3" href="#__codelineno-64-3"></a> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                              <span class="c1"># b .  x  x</span>
<a id="__codelineno-64-4" name="__codelineno-64-4" href="#__codelineno-64-4"></a> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)]</span>                                          <span class="c1"># c .  .  x</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">permutations</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>                   <span class="c1">#   a  b  c</span>
<a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                              <span class="c1"># a .  x  x</span>
<a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                              <span class="c1"># b x  .  x</span>
<a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">)]</span>                              <span class="c1"># c x  x  .</span>
</code></pre></div>
<h2 id="datetime">Datetime<a class="headerlink" href="#datetime" title="Permanent link">&para;</a></h2>
<p><strong>Provides 'date', 'time', 'datetime' and 'timedelta' classes. All are immutable and hashable.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="c1"># $ pip3 install python-dateutil</span>
<a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">timezone</span>
<a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="kn">from</span> <span class="nn">dateutil.tz</span> <span class="kn">import</span> <span class="n">tzlocal</span><span class="p">,</span> <span class="n">gettz</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="o">&lt;</span><span class="n">D</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">)</span>               <span class="c1"># Only accepts valid dates from 1 to 9999 AD.</span>
<a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>     <span class="c1"># Also: `microsecond=0, tzinfo=None, fold=0`.</span>
<a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="o">&lt;</span><span class="n">DT</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>   <span class="c1"># Also: `minute=0, second=0, microsecond=0, …`.</span>
<a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">weeks</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hours</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Also: `minutes=0, seconds=0, microseconds=0`.</span>
</code></pre></div>
* <strong>Aware <code>&lt;a&gt;</code> time and datetime objects have defined timezone, while naive <code>&lt;n&gt;</code> don't. If object is naive, it is presumed to be in the system's timezone!</strong>
* <strong><code>'fold=1'</code> means the second pass in case of time jumping back for one hour.</strong>
* <strong>Timedelta normalizes arguments to ±days, seconds (&lt; 86 400) and microseconds (&lt; 1M).</strong>
* <strong>Use <code>'&lt;D/DT&gt;.weekday()'</code> to get the day of the week as an int, with Monday being 0.</strong></p>
<h3 id="now">Now<a class="headerlink" href="#now" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a><span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>                     <span class="c1"># Current local date or naive DT. Also DT.now().</span>
<a id="__codelineno-68-2" name="__codelineno-68-2" href="#__codelineno-68-2"></a><span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">DT</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span><span class="p">)</span>                 <span class="c1"># Aware DT from current time in passed timezone.</span>
</code></pre></div>
* <strong>To extract time use <code>'&lt;DTn&gt;.time()'</code>, <code>'&lt;DTa&gt;.time()'</code> or <code>'&lt;DTa&gt;.timetz()'</code>.</strong></p>
<h3 id="timezone">Timezone<a class="headerlink" href="#timezone" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">utc</span>                     <span class="c1"># London without daylight saving time (DST).</span>
<a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">timezone</span><span class="p">(</span><span class="o">&lt;</span><span class="n">timedelta</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Timezone with fixed offset from UTC.</span>
<a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">tzlocal</span><span class="p">()</span>                        <span class="c1"># Local tz with dynamic offset. Also gettz().</span>
<a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">gettz</span><span class="p">(</span><span class="s1">&#39;&lt;Continent&gt;/&lt;City&gt;&#39;</span><span class="p">)</span>      <span class="c1"># &#39;Continent/City_Name&#39; timezone or None.</span>
<a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DT</span><span class="o">&gt;.</span><span class="n">astimezone</span><span class="p">([</span><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span><span class="p">])</span>      <span class="c1"># Converts DT to the passed or local fixed zone.</span>
<a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a><span class="o">&lt;</span><span class="n">Ta</span><span class="o">/</span><span class="n">DTa</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Changes object&#39;s timezone without conversion.</span>
</code></pre></div>
* <strong>Timezones returned by gettz(), tzlocal(), and implicit local timezone of naive objects have offsets that vary through time due to DST and historical changes of the zone's base offset.</strong>
* <strong>Standard library's zoneinfo.ZoneInfo() can be used instead of gettz() on Python 3.9 and later. It requires 'tzdata' package on Windows. It doesn't return local tz if arg. is omitted.</strong></p>
<h3 id="encode">Encode<a class="headerlink" href="#encode" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Object from ISO string. Raises ValueError.</span>
<a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="o">&lt;</span><span class="n">DT</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="n">DT</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;&lt;format&gt;&#39;</span><span class="p">)</span>   <span class="c1"># Datetime from str, according to format.</span>
<a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="o">.</span><span class="n">fromordinal</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>          <span class="c1"># D/DTn from days since the Gregorian NYE 1.</span>
<a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a><span class="o">&lt;</span><span class="n">DTn</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">DT</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># Local time DTn from seconds since the Epoch.</span>
<a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">DT</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">tz</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Aware datetime from seconds since the Epoch.</span>
</code></pre></div>
* <strong>ISO strings come in following forms: <code>'YYYY-MM-DD'</code>, <code>'HH:MM:SS.mmmuuu[±HH:MM]'</code>, or both separated by an arbitrary character. All parts following the hours are optional.</strong>
* <strong>Python uses the Unix Epoch: <code>'1970-01-01 00:00 UTC'</code>, <code>'1970-01-01 01:00 CET'</code>, ...</strong></p>
<h3 id="decode">Decode<a class="headerlink" href="#decode" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;.</span><span class="n">isoformat</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>      <span class="c1"># Also `timespec=&#39;auto/hours/minutes/seconds/…&#39;`.</span>
<a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;&lt;format&gt;&#39;</span><span class="p">)</span>    <span class="c1"># Custom string representation of the object.</span>
<a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;.</span><span class="n">toordinal</span><span class="p">()</span>               <span class="c1"># Days since Gregorian NYE 1, ignoring time and tz.</span>
<a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DTn</span><span class="o">&gt;.</span><span class="n">timestamp</span><span class="p">()</span>                <span class="c1"># Seconds since the Epoch, from DTn in local tz.</span>
<a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;.</span><span class="n">timestamp</span><span class="p">()</span>                <span class="c1"># Seconds since the Epoch, from aware datetime.</span>
</code></pre></div>
<h3 id="format_1">Format<a class="headerlink" href="#format_1" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s1">&#39;2025-08-14 23:39:00.00 +0200&#39;</span><span class="p">,</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S.</span><span class="si">%f</span><span class="s1"> %z&#39;</span><span class="p">)</span>
<a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">th of %B &#39;%y (</span><span class="si">%a</span><span class="s2">), %I:%M %p %Z&quot;</span><span class="p">)</span>
<a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="s2">&quot;14th of August &#39;25 (Thu), 11:39 PM UTC+02:00&quot;</span>
</code></pre></div>
* <strong><code>'%z'</code> accepts <code>'±HH[:]MM'</code> and returns <code>'±HHMM'</code> or empty string if datetime is naive.</strong>
* <strong><code>'%Z'</code> accepts <code>'UTC/GMT'</code> and local timezone's code and returns timezone's name, <code>'UTC[±HH:MM]'</code> if timezone is nameless, or an empty string if datetime is naive.</strong></p>
<h3 id="arithmetics">Arithmetics<a class="headerlink" href="#arithmetics" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>            <span class="c1"># Ignores time jumps (fold attribute). Also ==.</span>
<a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>     <span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>                <span class="c1"># Ignores time jumps if they share tzinfo object.</span>
<a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>   <span class="o">-</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>              <span class="c1"># Ignores jumps. Convert to UTC for actual delta.</span>
<a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a><span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>     <span class="o">-</span> <span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>                <span class="c1"># Ignores time jumps if they share tzinfo object.</span>
<a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a><span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;</span>    <span class="err">±</span> <span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>                 <span class="c1"># Returned datetime can fall into missing hour.</span>
<a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a><span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>      <span class="o">*</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>              <span class="c1"># Also: &lt;TD&gt; = abs(&lt;TD&gt;) and &lt;TD&gt; = &lt;TD&gt; ±% &lt;TD&gt;.</span>
<a id="__codelineno-73-7" name="__codelineno-73-7" href="#__codelineno-73-7"></a><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>      <span class="o">/</span> <span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>                 <span class="c1"># How many hours/weeks/years are in TD. Also //.</span>
</code></pre></div>
<h2 id="arguments">Arguments<a class="headerlink" href="#arguments" title="Permanent link">&para;</a></h2>
<h3 id="inside-function-call">Inside Function Call<a class="headerlink" href="#inside-function-call" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="n">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">positional_args</span><span class="o">&gt;</span><span class="p">)</span>                           <span class="c1"># func(0, 0)</span>
<a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="n">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">keyword_args</span><span class="o">&gt;</span><span class="p">)</span>                              <span class="c1"># func(x=0, y=0)</span>
<a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a><span class="n">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">positional_args</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">keyword_args</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># func(0, y=0)</span>
</code></pre></div>
<h3 id="inside-function-definition">Inside Function Definition<a class="headerlink" href="#inside-function-definition" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">nondefault_args</span><span class="o">&gt;</span><span class="p">):</span> <span class="o">...</span>                  <span class="c1"># def func(x, y): ...</span>
<a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">default_args</span><span class="o">&gt;</span><span class="p">):</span> <span class="o">...</span>                     <span class="c1"># def func(x=0, y=0): ...</span>
<a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">nondefault_args</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">default_args</span><span class="o">&gt;</span><span class="p">):</span> <span class="o">...</span>  <span class="c1"># def func(x, y=0): ...</span>
</code></pre></div>
* <strong>Default values are evaluated when function is first encountered in the scope.</strong>
* <strong>Any mutation of a mutable default value will persist between invocations!</strong></p>
<h2 id="splat-operator">Splat Operator<a class="headerlink" href="#splat-operator" title="Permanent link">&para;</a></h2>
<h3 id="inside-function-call_1">Inside Function Call<a class="headerlink" href="#inside-function-call_1" title="Permanent link">&para;</a></h3>
<p><strong>Splat expands a collection into positional arguments, while splatty-splat expands a dictionary into keyword arguments.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="n">args</span>   <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
<a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></p>
<h4 id="is-the-same-as">Is the same as:<a class="headerlink" href="#is-the-same-as" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>
<h3 id="inside-function-definition_1">Inside Function Definition<a class="headerlink" href="#inside-function-definition_1" title="Permanent link">&para;</a></h3>
<p><strong>Splat combines zero or more positional arguments into a tuple, while splatty-splat combines zero or more keyword arguments into a dictionary.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">):</span>
<a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a>    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a><span class="mi">6</span>
</code></pre></div>
<h4 id="legal-argument-combinations">Legal argument combinations:<a class="headerlink" href="#legal-argument-combinations" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span> <span class="o">...</span>               <span class="c1"># f(1, 2, 3)</span>
<a id="__codelineno-80-2" name="__codelineno-80-2" href="#__codelineno-80-2"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span> <span class="o">...</span>            <span class="c1"># f(1, 2, 3)</span>
<a id="__codelineno-80-3" name="__codelineno-80-3" href="#__codelineno-80-3"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span> <span class="o">...</span>            <span class="c1"># f(1, 2, z=3)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>            <span class="c1"># f(x=1, y=2, z=3)</span>
<a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>         <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>     <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3) | f(1, 2, 3)</span>
<a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>  <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3) | f(1, 2, 3)</span>
<a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>  <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span> <span class="o">...</span>          <span class="c1"># f(x=1, y=2, z=3)</span>
<a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span> <span class="o">...</span>          <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3)</span>
<a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span> <span class="o">...</span>          <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3)</span>
</code></pre></div>
<h3 id="other-uses">Other Uses<a class="headerlink" href="#other-uses" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="p">[</span><span class="o">*&lt;</span><span class="n">coll</span><span class="o">.&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">]]</span>    <span class="c1"># Or: list(&lt;collection&gt;) [+ ...]</span>
<a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="o">*&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">,</span> <span class="p">[</span><span class="o">...</span><span class="p">])</span>     <span class="c1"># Or: tuple(&lt;collection&gt;) [+ ...]</span>
<a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="p">{</span><span class="o">*&lt;</span><span class="n">coll</span><span class="o">.&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">]}</span>    <span class="c1"># Or: set(&lt;collection&gt;) [| ...]</span>
<a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="p">{</span><span class="o">**&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">]}</span>    <span class="c1"># Or: dict(&lt;dict&gt;) [| ...] (since 3.9)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="n">head</span><span class="p">,</span> <span class="o">*</span><span class="n">body</span><span class="p">,</span> <span class="n">tail</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span>     <span class="c1"># Head or tail can be omitted.</span>
</code></pre></div>
<h2 id="inline">Inline<a class="headerlink" href="#inline" title="Permanent link">&para;</a></h2>
<h3 id="lambda">Lambda<a class="headerlink" href="#lambda" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">return_value</span><span class="o">&gt;</span>                     <span class="c1"># A single statement function.</span>
<a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">&lt;</span><span class="n">arg_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">arg_2</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">return_value</span><span class="o">&gt;</span>    <span class="c1"># Also accepts default arguments.</span>
</code></pre></div>
<h3 id="comprehensions">Comprehensions<a class="headerlink" href="#comprehensions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>                   <span class="c1"># Or: [1, 2, ..., 10]</span>
<a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span>            <span class="c1"># Or: iter([6, 7, 8, 9])</span>
<a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="o">+</span><span class="mi">5</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}</span>                   <span class="c1"># Or: {5, 6, ..., 14}</span>
<a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}</span>                <span class="c1"># Or: {0: 0, 1: 2, ..., 9: 18}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">l</span><span class="o">+</span><span class="n">r</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="s1">&#39;abc&#39;</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="s1">&#39;abc&#39;</span><span class="p">]</span>
<a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a><span class="p">[</span><span class="s1">&#39;aa&#39;</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;ac&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">&#39;cc&#39;</span><span class="p">]</span>
</code></pre></div>
<h3 id="map-filter-reduce">Map, Filter, Reduce<a class="headerlink" href="#map-filter-reduce" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>            <span class="c1"># Or: iter([1, 2, ..., 10])</span>
<a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>         <span class="c1"># Or: iter([6, 7, 8, 9])</span>
<a id="__codelineno-90-3" name="__codelineno-90-3" href="#__codelineno-90-3"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">out</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">out</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>  <span class="c1"># Or: 45</span>
</code></pre></div>
<h3 id="any-all">Any, All<a class="headerlink" href="#any-all" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Is `bool(&lt;el&gt;)` True for any element.</span>
<a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Is True for all elements or empty.</span>
</code></pre></div>
<h3 id="conditional-expression">Conditional Expression<a class="headerlink" href="#conditional-expression" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">exp</span><span class="o">&gt;</span> <span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span> <span class="k">else</span> <span class="o">&lt;</span><span class="n">exp</span><span class="o">&gt;</span>             <span class="c1"># Only one expression gets evaluated.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">a</span> <span class="k">if</span> <span class="n">a</span> <span class="k">else</span> <span class="s1">&#39;zero&#39;</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>      <span class="c1"># `any([0, &#39;&#39;, [], None]) == False`</span>
<a id="__codelineno-93-2" name="__codelineno-93-2" href="#__codelineno-93-2"></a><span class="p">[</span><span class="s1">&#39;zero&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</code></pre></div>
<h3 id="named-tuple-enum-dataclass">Named Tuple, Enum, Dataclass<a class="headerlink" href="#named-tuple-enum-dataclass" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<a id="__codelineno-94-2" name="__codelineno-94-2" href="#__codelineno-94-2"></a><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="s1">&#39;x y&#39;</span><span class="p">)</span>                  <span class="c1"># Creates a tuple&#39;s subclass.</span>
<a id="__codelineno-94-3" name="__codelineno-94-3" href="#__codelineno-94-3"></a><span class="n">point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>                                 <span class="c1"># Returns its instance.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a><span class="n">Direction</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;Direction&#39;</span><span class="p">,</span> <span class="s1">&#39;N E S W&#39;</span><span class="p">)</span>            <span class="c1"># Creates an enum.</span>
<a id="__codelineno-95-3" name="__codelineno-95-3" href="#__codelineno-95-3"></a><span class="n">direction</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">N</span>                             <span class="c1"># Returns its member.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">make_dataclass</span>
<a id="__codelineno-96-2" name="__codelineno-96-2" href="#__codelineno-96-2"></a><span class="n">Player</span> <span class="o">=</span> <span class="n">make_dataclass</span><span class="p">(</span><span class="s1">&#39;Player&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">,</span> <span class="s1">&#39;dir&#39;</span><span class="p">])</span>   <span class="c1"># Creates a class.</span>
<a id="__codelineno-96-3" name="__codelineno-96-3" href="#__codelineno-96-3"></a><span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">direction</span><span class="p">)</span>                   <span class="c1"># Returns its instance.</span>
</code></pre></div>
<h2 id="imports">Imports<a class="headerlink" href="#imports" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="kn">import</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>            <span class="c1"># Imports a built-in or &#39;&lt;module&gt;.py&#39;.</span>
<a id="__codelineno-97-2" name="__codelineno-97-2" href="#__codelineno-97-2"></a><span class="kn">import</span> <span class="o">&lt;</span><span class="n">package</span><span class="o">&gt;</span>           <span class="c1"># Imports a built-in or &#39;&lt;package&gt;/__init__.py&#39;.</span>
<a id="__codelineno-97-3" name="__codelineno-97-3" href="#__codelineno-97-3"></a><span class="kn">import</span> <span class="o">&lt;</span><span class="n">package</span><span class="o">&gt;.&lt;</span><span class="n">module</span><span class="o">&gt;</span>  <span class="c1"># Imports a built-in or &#39;&lt;package&gt;/&lt;module&gt;.py&#39;.</span>
</code></pre></div>
* <strong>Package is a collection of modules, but it can also define its own objects.</strong>
* <strong>On a filesystem this corresponds to a directory of Python files with an optional init script.</strong>
* <strong>Running <code>'import &lt;package&gt;'</code> does not automatically provide access to the package's modules unless they are explicitly imported in its init script.</strong></p>
<h2 id="closure">Closure<a class="headerlink" href="#closure" title="Permanent link">&para;</a></h2>
<p><strong>We have/get a closure in Python when:</strong>
* <strong>A nested function references a value of its enclosing function and then</strong>
* <strong>the enclosing function returns the nested function.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a><span class="k">def</span> <span class="nf">get_multiplier</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
<a id="__codelineno-98-2" name="__codelineno-98-2" href="#__codelineno-98-2"></a>    <span class="k">def</span> <span class="nf">out</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
<a id="__codelineno-98-3" name="__codelineno-98-3" href="#__codelineno-98-3"></a>        <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<a id="__codelineno-98-4" name="__codelineno-98-4" href="#__codelineno-98-4"></a>    <span class="k">return</span> <span class="n">out</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">multiply_by_3</span> <span class="o">=</span> <span class="n">get_multiplier</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-99-2" name="__codelineno-99-2" href="#__codelineno-99-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">multiply_by_3</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-99-3" name="__codelineno-99-3" href="#__codelineno-99-3"></a><span class="mi">30</span>
</code></pre></div>
<ul>
<li><strong>If multiple nested functions within enclosing function reference the same value, that value gets shared.</strong></li>
<li><strong>To dynamically access function's first free variable use <code>'&lt;function&gt;.__closure__[0].cell_contents'</code>.</strong></li>
</ul>
<h3 id="partial">Partial<a class="headerlink" href="#partial" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<a id="__codelineno-100-2" name="__codelineno-100-2" href="#__codelineno-100-2"></a><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">&lt;</span><span class="n">arg_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">arg_2</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<a id="__codelineno-101-2" name="__codelineno-101-2" href="#__codelineno-101-2"></a><span class="o">...</span>     <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<a id="__codelineno-101-3" name="__codelineno-101-3" href="#__codelineno-101-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">multiply_by_3</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">multiply</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-101-4" name="__codelineno-101-4" href="#__codelineno-101-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">multiply_by_3</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-101-5" name="__codelineno-101-5" href="#__codelineno-101-5"></a><span class="mi">30</span>
</code></pre></div>
* <strong>Partial is also useful in cases when function needs to be passed as an argument because it enables us to set its arguments beforehand.</strong>
* <strong>A few examples being: <code>'defaultdict(&lt;func&gt;)'</code>, <code>'iter(&lt;func&gt;, to_exc)'</code> and dataclass's <code>'field(default_factory=&lt;func&gt;)'</code>.</strong></p>
<h3 id="non-local">Non-Local<a class="headerlink" href="#non-local" title="Permanent link">&para;</a></h3>
<p><strong>If variable is being assigned to anywhere in the scope, it is regarded as a local variable, unless it is declared as a 'global' or a 'nonlocal'.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a><span class="k">def</span> <span class="nf">get_counter</span><span class="p">():</span>
<a id="__codelineno-102-2" name="__codelineno-102-2" href="#__codelineno-102-2"></a>    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-102-3" name="__codelineno-102-3" href="#__codelineno-102-3"></a>    <span class="k">def</span> <span class="nf">out</span><span class="p">():</span>
<a id="__codelineno-102-4" name="__codelineno-102-4" href="#__codelineno-102-4"></a>        <span class="k">nonlocal</span> <span class="n">i</span>
<a id="__codelineno-102-5" name="__codelineno-102-5" href="#__codelineno-102-5"></a>        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-102-6" name="__codelineno-102-6" href="#__codelineno-102-6"></a>        <span class="k">return</span> <span class="n">i</span>
<a id="__codelineno-102-7" name="__codelineno-102-7" href="#__codelineno-102-7"></a>    <span class="k">return</span> <span class="n">out</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">get_counter</span><span class="p">()</span>
<a id="__codelineno-103-2" name="__codelineno-103-2" href="#__codelineno-103-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span><span class="p">(),</span> <span class="n">counter</span><span class="p">(),</span> <span class="n">counter</span><span class="p">()</span>
<a id="__codelineno-103-3" name="__codelineno-103-3" href="#__codelineno-103-3"></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<h2 id="decorator">Decorator<a class="headerlink" href="#decorator" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>A decorator takes a function, adds some functionality and returns it.</strong></li>
<li><strong>It can be any <a href="#callable">callable</a>, but is usually implemented as a function that returns a <a href="#closure">closure</a>.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="nd">@decorator_name</span>
<a id="__codelineno-104-2" name="__codelineno-104-2" href="#__codelineno-104-2"></a><span class="k">def</span> <span class="nf">function_that_gets_passed_to_decorator</span><span class="p">():</span>
<a id="__codelineno-104-3" name="__codelineno-104-3" href="#__codelineno-104-3"></a>    <span class="o">...</span>
</code></pre></div>
<h3 id="debugger-example">Debugger Example<a class="headerlink" href="#debugger-example" title="Permanent link">&para;</a></h3>
<p><strong>Decorator that prints function's name every time the function is called.</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
<a id="__codelineno-105-2" name="__codelineno-105-2" href="#__codelineno-105-2"></a>
<a id="__codelineno-105-3" name="__codelineno-105-3" href="#__codelineno-105-3"></a><span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<a id="__codelineno-105-4" name="__codelineno-105-4" href="#__codelineno-105-4"></a>    <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<a id="__codelineno-105-5" name="__codelineno-105-5" href="#__codelineno-105-5"></a>    <span class="k">def</span> <span class="nf">out</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<a id="__codelineno-105-6" name="__codelineno-105-6" href="#__codelineno-105-6"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<a id="__codelineno-105-7" name="__codelineno-105-7" href="#__codelineno-105-7"></a>        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<a id="__codelineno-105-8" name="__codelineno-105-8" href="#__codelineno-105-8"></a>    <span class="k">return</span> <span class="n">out</span>
<a id="__codelineno-105-9" name="__codelineno-105-9" href="#__codelineno-105-9"></a>
<a id="__codelineno-105-10" name="__codelineno-105-10" href="#__codelineno-105-10"></a><span class="nd">@debug</span>
<a id="__codelineno-105-11" name="__codelineno-105-11" href="#__codelineno-105-11"></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<a id="__codelineno-105-12" name="__codelineno-105-12" href="#__codelineno-105-12"></a>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</code></pre></div>
* <strong>Wraps is a helper decorator that copies the metadata of the passed function (func) to the function it is wrapping (out).</strong>
* <strong>Without it, <code>'add.__name__'</code> would return <code>'out'</code>.</strong></p>
<h3 id="lru-cache">LRU Cache<a class="headerlink" href="#lru-cache" title="Permanent link">&para;</a></h3>
<p><strong>Decorator that caches function's return values. All function's arguments must be hashable.</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">lru_cache</span>
<a id="__codelineno-106-2" name="__codelineno-106-2" href="#__codelineno-106-2"></a>
<a id="__codelineno-106-3" name="__codelineno-106-3" href="#__codelineno-106-3"></a><span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-106-4" name="__codelineno-106-4" href="#__codelineno-106-4"></a><span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<a id="__codelineno-106-5" name="__codelineno-106-5" href="#__codelineno-106-5"></a>    <span class="k">return</span> <span class="n">n</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="k">else</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
* <strong>Default size of the cache is 128 values. Passing <code>'maxsize=None'</code> makes it unbounded.</strong>
* <strong>CPython interpreter limits recursion depth to 1000 by default. To increase it use <code>'sys.setrecursionlimit(&lt;depth&gt;)'</code>.</strong></p>
<h3 id="parametrized-decorator">Parametrized Decorator<a class="headerlink" href="#parametrized-decorator" title="Permanent link">&para;</a></h3>
<p><strong>A decorator that accepts arguments and returns a normal decorator that accepts a function.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
<a id="__codelineno-107-2" name="__codelineno-107-2" href="#__codelineno-107-2"></a>
<a id="__codelineno-107-3" name="__codelineno-107-3" href="#__codelineno-107-3"></a><span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="n">print_result</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-107-4" name="__codelineno-107-4" href="#__codelineno-107-4"></a>    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<a id="__codelineno-107-5" name="__codelineno-107-5" href="#__codelineno-107-5"></a>        <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<a id="__codelineno-107-6" name="__codelineno-107-6" href="#__codelineno-107-6"></a>        <span class="k">def</span> <span class="nf">out</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<a id="__codelineno-107-7" name="__codelineno-107-7" href="#__codelineno-107-7"></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<a id="__codelineno-107-8" name="__codelineno-107-8" href="#__codelineno-107-8"></a>            <span class="nb">print</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">result</span> <span class="k">if</span> <span class="n">print_result</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<a id="__codelineno-107-9" name="__codelineno-107-9" href="#__codelineno-107-9"></a>            <span class="k">return</span> <span class="n">result</span>
<a id="__codelineno-107-10" name="__codelineno-107-10" href="#__codelineno-107-10"></a>        <span class="k">return</span> <span class="n">out</span>
<a id="__codelineno-107-11" name="__codelineno-107-11" href="#__codelineno-107-11"></a>    <span class="k">return</span> <span class="n">decorator</span>
<a id="__codelineno-107-12" name="__codelineno-107-12" href="#__codelineno-107-12"></a>
<a id="__codelineno-107-13" name="__codelineno-107-13" href="#__codelineno-107-13"></a><span class="nd">@debug</span><span class="p">(</span><span class="n">print_result</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-107-14" name="__codelineno-107-14" href="#__codelineno-107-14"></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<a id="__codelineno-107-15" name="__codelineno-107-15" href="#__codelineno-107-15"></a>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</code></pre></div>
* <strong>Using only <code>'@debug'</code> to decorate the add() function would not work here, because debug would then receive the add() function as a 'print_result' argument. Decorators can however manually check if the argument they received is a function and act accordingly.</strong></p>
<h2 id="class">Class<a class="headerlink" href="#class" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-108-1" name="__codelineno-108-1" href="#__codelineno-108-1"></a><span class="k">class</span> <span class="err">&lt;</span><span class="nc">name</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-108-2" name="__codelineno-108-2" href="#__codelineno-108-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-108-3" name="__codelineno-108-3" href="#__codelineno-108-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-108-4" name="__codelineno-108-4" href="#__codelineno-108-4"></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-108-5" name="__codelineno-108-5" href="#__codelineno-108-5"></a>        <span class="n">class_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
<a id="__codelineno-108-6" name="__codelineno-108-6" href="#__codelineno-108-6"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">class_name</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="si">!r}</span><span class="s1">)&#39;</span>
<a id="__codelineno-108-7" name="__codelineno-108-7" href="#__codelineno-108-7"></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-108-8" name="__codelineno-108-8" href="#__codelineno-108-8"></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-108-9" name="__codelineno-108-9" href="#__codelineno-108-9"></a>
<a id="__codelineno-108-10" name="__codelineno-108-10" href="#__codelineno-108-10"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-108-11" name="__codelineno-108-11" href="#__codelineno-108-11"></a>    <span class="k">def</span> <span class="nf">get_class_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<a id="__codelineno-108-12" name="__codelineno-108-12" href="#__codelineno-108-12"></a>        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span>
</code></pre></div>
* <strong>Return value of repr() should be unambiguous and of str() readable.</strong>
* <strong>If only repr() is defined, it will also be used for str().</strong>
* <strong>Methods decorated with <code>'@staticmethod'</code> do not receive 'self' nor 'cls' as their first arg.</strong></p>
<h4 id="expressions-that-call-the-str-method">Expressions that call the str() method:<a class="headerlink" href="#expressions-that-call-the-str-method" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-109-1" name="__codelineno-109-1" href="#__codelineno-109-1"></a><span class="nb">print</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-109-2" name="__codelineno-109-2" href="#__codelineno-109-2"></a><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="si">}</span><span class="s1">&#39;</span>
<a id="__codelineno-109-3" name="__codelineno-109-3" href="#__codelineno-109-3"></a><span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-109-4" name="__codelineno-109-4" href="#__codelineno-109-4"></a><span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="p">)</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">])</span>
<a id="__codelineno-109-5" name="__codelineno-109-5" href="#__codelineno-109-5"></a><span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div>
<h4 id="expressions-that-call-the-repr-method">Expressions that call the repr() method:<a class="headerlink" href="#expressions-that-call-the-repr-method" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-110-1" name="__codelineno-110-1" href="#__codelineno-110-1"></a><span class="nb">print</span><span class="o">/</span><span class="nb">str</span><span class="o">/</span><span class="nb">repr</span><span class="p">([</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">])</span>
<a id="__codelineno-110-2" name="__codelineno-110-2" href="#__codelineno-110-2"></a><span class="nb">print</span><span class="o">/</span><span class="nb">str</span><span class="o">/</span><span class="nb">repr</span><span class="p">({</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">})</span>
<a id="__codelineno-110-3" name="__codelineno-110-3" href="#__codelineno-110-3"></a><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="si">!r}</span><span class="s1">&#39;</span>
<a id="__codelineno-110-4" name="__codelineno-110-4" href="#__codelineno-110-4"></a><span class="n">Z</span> <span class="o">=</span> <span class="n">dataclasses</span><span class="o">.</span><span class="n">make_dataclass</span><span class="p">(</span><span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]);</span> <span class="nb">print</span><span class="o">/</span><span class="nb">str</span><span class="o">/</span><span class="nb">repr</span><span class="p">(</span><span class="n">Z</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">))</span>
<a id="__codelineno-110-5" name="__codelineno-110-5" href="#__codelineno-110-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>
</code></pre></div>
<h3 id="constructor-overloading">Constructor Overloading<a class="headerlink" href="#constructor-overloading" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-111-1" name="__codelineno-111-1" href="#__codelineno-111-1"></a><span class="k">class</span> <span class="err">&lt;</span><span class="nc">name</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-111-2" name="__codelineno-111-2" href="#__codelineno-111-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<a id="__codelineno-111-3" name="__codelineno-111-3" href="#__codelineno-111-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
</code></pre></div>
<h3 id="inheritance">Inheritance<a class="headerlink" href="#inheritance" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
<a id="__codelineno-112-2" name="__codelineno-112-2" href="#__codelineno-112-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<a id="__codelineno-112-3" name="__codelineno-112-3" href="#__codelineno-112-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
<a id="__codelineno-112-4" name="__codelineno-112-4" href="#__codelineno-112-4"></a>
<a id="__codelineno-112-5" name="__codelineno-112-5" href="#__codelineno-112-5"></a><span class="k">class</span> <span class="nc">Employee</span><span class="p">(</span><span class="n">Person</span><span class="p">):</span>
<a id="__codelineno-112-6" name="__codelineno-112-6" href="#__codelineno-112-6"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">staff_num</span><span class="p">):</span>
<a id="__codelineno-112-7" name="__codelineno-112-7" href="#__codelineno-112-7"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<a id="__codelineno-112-8" name="__codelineno-112-8" href="#__codelineno-112-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">staff_num</span> <span class="o">=</span> <span class="n">staff_num</span>
</code></pre></div>
<h3 id="multiple-inheritance">Multiple Inheritance<a class="headerlink" href="#multiple-inheritance" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-113-1" name="__codelineno-113-1" href="#__codelineno-113-1"></a><span class="k">class</span> <span class="nc">A</span><span class="p">:</span> <span class="k">pass</span>
<a id="__codelineno-113-2" name="__codelineno-113-2" href="#__codelineno-113-2"></a><span class="k">class</span> <span class="nc">B</span><span class="p">:</span> <span class="k">pass</span>
<a id="__codelineno-113-3" name="__codelineno-113-3" href="#__codelineno-113-3"></a><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span> <span class="k">pass</span>
</code></pre></div>
<p><strong>MRO determines the order in which parent classes are traversed when searching for a method or an attribute:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-114-1" name="__codelineno-114-1" href="#__codelineno-114-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">C</span><span class="o">.</span><span class="n">mro</span><span class="p">()</span>
<a id="__codelineno-114-2" name="__codelineno-114-2" href="#__codelineno-114-2"></a><span class="p">[</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">C</span><span class="s1">&#39;&gt;, &lt;class &#39;</span><span class="n">A</span><span class="s1">&#39;&gt;, &lt;class &#39;</span><span class="sa">B</span><span class="s1">&#39;&gt;, &lt;class &#39;</span><span class="nb">object</span><span class="s1">&#39;&gt;]</span>
</code></pre></div></p>
<h3 id="property">Property<a class="headerlink" href="#property" title="Permanent link">&para;</a></h3>
<p><strong>Pythonic way of implementing getters and setters.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-115-1" name="__codelineno-115-1" href="#__codelineno-115-1"></a><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
<a id="__codelineno-115-2" name="__codelineno-115-2" href="#__codelineno-115-2"></a>    <span class="nd">@property</span>
<a id="__codelineno-115-3" name="__codelineno-115-3" href="#__codelineno-115-3"></a>    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-115-4" name="__codelineno-115-4" href="#__codelineno-115-4"></a>        <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
<a id="__codelineno-115-5" name="__codelineno-115-5" href="#__codelineno-115-5"></a>
<a id="__codelineno-115-6" name="__codelineno-115-6" href="#__codelineno-115-6"></a>    <span class="nd">@name</span><span class="o">.</span><span class="n">setter</span>
<a id="__codelineno-115-7" name="__codelineno-115-7" href="#__codelineno-115-7"></a>    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<a id="__codelineno-115-8" name="__codelineno-115-8" href="#__codelineno-115-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-116-1" name="__codelineno-116-1" href="#__codelineno-116-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">person</span> <span class="o">=</span> <span class="n">Person</span><span class="p">()</span>
<a id="__codelineno-116-2" name="__codelineno-116-2" href="#__codelineno-116-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1"> Guido  van Rossum </span><span class="se">\n</span><span class="s1">&#39;</span>
<a id="__codelineno-116-3" name="__codelineno-116-3" href="#__codelineno-116-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span>
<a id="__codelineno-116-4" name="__codelineno-116-4" href="#__codelineno-116-4"></a><span class="s1">&#39;Guido van Rossum&#39;</span>
</code></pre></div>
<h3 id="dataclass">Dataclass<a class="headerlink" href="#dataclass" title="Permanent link">&para;</a></h3>
<p><strong>Decorator that automatically generates init(), repr() and eq() special methods.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>
<a id="__codelineno-117-2" name="__codelineno-117-2" href="#__codelineno-117-2"></a>
<a id="__codelineno-117-3" name="__codelineno-117-3" href="#__codelineno-117-3"></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-117-4" name="__codelineno-117-4" href="#__codelineno-117-4"></a><span class="k">class</span> <span class="err">&lt;</span><span class="nc">class_name</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-117-5" name="__codelineno-117-5" href="#__codelineno-117-5"></a>    <span class="o">&lt;</span><span class="n">attr_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<a id="__codelineno-117-6" name="__codelineno-117-6" href="#__codelineno-117-6"></a>    <span class="o">&lt;</span><span class="n">attr_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">default_value</span><span class="o">&gt;</span>
<a id="__codelineno-117-7" name="__codelineno-117-7" href="#__codelineno-117-7"></a>    <span class="o">&lt;</span><span class="n">attr_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="nb">list</span><span class="o">/</span><span class="nb">dict</span><span class="o">/</span><span class="nb">set</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="o">/</span><span class="nb">dict</span><span class="o">/</span><span class="nb">set</span><span class="p">)</span>
</code></pre></div>
* <strong>Objects can be made <a href="#sortable">sortable</a> with <code>'order=True'</code> and immutable with <code>'frozen=True'</code>.</strong>
* <strong>For object to be <a href="#hashable">hashable</a>, all attributes must be hashable and 'frozen' must be True.</strong>
* <strong>Function field() is needed because <code>'&lt;attr_name&gt;: list = []'</code> would make a list that is shared among all instances. Its 'default_factory' argument can be any <a href="#callable">callable</a>.</strong>
* <strong>For attributes of arbitrary type use <code>'typing.Any'</code>.</strong></p>
<h4 id="inline_1">Inline:<a class="headerlink" href="#inline_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-118-1" name="__codelineno-118-1" href="#__codelineno-118-1"></a><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">make_dataclass</span>
<a id="__codelineno-118-2" name="__codelineno-118-2" href="#__codelineno-118-2"></a><span class="o">&lt;</span><span class="n">class</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">make_dataclass</span><span class="p">(</span><span class="s1">&#39;&lt;class_name&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">coll_of_attribute_names</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-118-3" name="__codelineno-118-3" href="#__codelineno-118-3"></a><span class="o">&lt;</span><span class="n">class</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">make_dataclass</span><span class="p">(</span><span class="s1">&#39;&lt;class_name&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">coll_of_tuples</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-118-4" name="__codelineno-118-4" href="#__codelineno-118-4"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;attr_name&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">&lt;</span><span class="n">default_value</span><span class="o">&gt;</span><span class="p">])</span>
</code></pre></div>
<h4 id="rest-of-type-annotations-cpython-interpreter-ignores-them-all">Rest of type annotations (CPython interpreter ignores them all):<a class="headerlink" href="#rest-of-type-annotations-cpython-interpreter-ignores-them-all" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-119-1" name="__codelineno-119-1" href="#__codelineno-119-1"></a><span class="kn">import</span> <span class="nn">collections.abc</span> <span class="k">as</span> <span class="nn">abc</span><span class="o">,</span> <span class="nn">typing</span> <span class="k">as</span> <span class="nn">tp</span>
<a id="__codelineno-119-2" name="__codelineno-119-2" href="#__codelineno-119-2"></a><span class="o">&lt;</span><span class="n">var_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="nb">list</span><span class="o">/</span><span class="nb">set</span><span class="o">/</span><span class="n">abc</span><span class="o">.</span><span class="n">Iterable</span><span class="o">/</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="o">/</span><span class="n">tp</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">]</span>
<a id="__codelineno-119-3" name="__codelineno-119-3" href="#__codelineno-119-3"></a><span class="o">&lt;</span><span class="n">var_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="nb">dict</span><span class="o">/</span><span class="nb">tuple</span><span class="o">/</span><span class="n">tp</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="p">[</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">]</span>
<a id="__codelineno-119-4" name="__codelineno-119-4" href="#__codelineno-119-4"></a><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">arg_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">...</span>
</code></pre></div>
<h3 id="slots">Slots<a class="headerlink" href="#slots" title="Permanent link">&para;</a></h3>
<p><strong>Mechanism that restricts objects to attributes listed in 'slots' and significantly reduces their memory footprint.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a><span class="k">class</span> <span class="nc">MyClassWithSlots</span><span class="p">:</span>
<a id="__codelineno-120-2" name="__codelineno-120-2" href="#__codelineno-120-2"></a>    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
<a id="__codelineno-120-3" name="__codelineno-120-3" href="#__codelineno-120-3"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-120-4" name="__codelineno-120-4" href="#__codelineno-120-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
</code></pre></div>
<h3 id="copy">Copy<a class="headerlink" href="#copy" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-121-1" name="__codelineno-121-1" href="#__codelineno-121-1"></a><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">copy</span><span class="p">,</span> <span class="n">deepcopy</span>
<a id="__codelineno-121-2" name="__codelineno-121-2" href="#__codelineno-121-2"></a><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-121-3" name="__codelineno-121-3" href="#__codelineno-121-3"></a><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div>
<h2 id="duck-types">Duck Types<a class="headerlink" href="#duck-types" title="Permanent link">&para;</a></h2>
<p><strong>A duck type is an implicit type that prescribes a set of special methods. Any object that has those methods defined is considered a member of that duck type.</strong></p>
<h3 id="comparable">Comparable<a class="headerlink" href="#comparable" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>If eq() method is not overridden, it returns <code>'id(self) == id(other)'</code>, which is the same as <code>'self is other'</code>.</strong></li>
<li><strong>That means all objects compare not equal by default.</strong></li>
<li><strong>Only the left side object has eq() method called, unless it returns NotImplemented, in which case the right object is consulted. False is returned if both return NotImplemented.</strong></li>
<li><strong>Ne() automatically works on any object that has eq() defined.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-122-1" name="__codelineno-122-1" href="#__codelineno-122-1"></a><span class="k">class</span> <span class="nc">MyComparable</span><span class="p">:</span>
<a id="__codelineno-122-2" name="__codelineno-122-2" href="#__codelineno-122-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-122-3" name="__codelineno-122-3" href="#__codelineno-122-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-122-4" name="__codelineno-122-4" href="#__codelineno-122-4"></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<a id="__codelineno-122-5" name="__codelineno-122-5" href="#__codelineno-122-5"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
<a id="__codelineno-122-6" name="__codelineno-122-6" href="#__codelineno-122-6"></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">a</span>
<a id="__codelineno-122-7" name="__codelineno-122-7" href="#__codelineno-122-7"></a>        <span class="k">return</span> <span class="bp">NotImplemented</span>
</code></pre></div>
<h3 id="hashable">Hashable<a class="headerlink" href="#hashable" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Hashable object needs both hash() and eq() methods and its hash value should never change.</strong></li>
<li><strong>Hashable objects that compare equal must have the same hash value, meaning default hash() that returns <code>'id(self)'</code> will not do.</strong></li>
<li><strong>That is why Python automatically makes classes unhashable if you only implement eq().</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-123-1" name="__codelineno-123-1" href="#__codelineno-123-1"></a><span class="k">class</span> <span class="nc">MyHashable</span><span class="p">:</span>
<a id="__codelineno-123-2" name="__codelineno-123-2" href="#__codelineno-123-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-123-3" name="__codelineno-123-3" href="#__codelineno-123-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-123-4" name="__codelineno-123-4" href="#__codelineno-123-4"></a>    <span class="nd">@property</span>
<a id="__codelineno-123-5" name="__codelineno-123-5" href="#__codelineno-123-5"></a>    <span class="k">def</span> <span class="nf">a</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-123-6" name="__codelineno-123-6" href="#__codelineno-123-6"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_a</span>
<a id="__codelineno-123-7" name="__codelineno-123-7" href="#__codelineno-123-7"></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<a id="__codelineno-123-8" name="__codelineno-123-8" href="#__codelineno-123-8"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
<a id="__codelineno-123-9" name="__codelineno-123-9" href="#__codelineno-123-9"></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">a</span>
<a id="__codelineno-123-10" name="__codelineno-123-10" href="#__codelineno-123-10"></a>        <span class="k">return</span> <span class="bp">NotImplemented</span>
<a id="__codelineno-123-11" name="__codelineno-123-11" href="#__codelineno-123-11"></a>    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-123-12" name="__codelineno-123-12" href="#__codelineno-123-12"></a>        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
</code></pre></div>
<h3 id="sortable">Sortable<a class="headerlink" href="#sortable" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>With 'total_ordering' decorator, you only need to provide eq() and one of lt(), gt(), le() or ge() special methods and the rest will be automatically generated.</strong></li>
<li><strong>Functions sorted() and min() only require lt() method, while max() only requires gt(). However, it is best to define them all so that confusion doesn't arise in other contexts.</strong></li>
<li><strong>When two lists, strings or dataclasses are compared, their values get compared in order until a pair of unequal values is found. The comparison of this two values is then returned. The shorter sequence is considered smaller in case of all values being equal.</strong></li>
<li><strong>For proper alphabetical order pass <code>'key=locale.strxfrm'</code> to sorted() after running <code>'locale.setlocale(locale.LC_COLLATE, "en_US.UTF-8")'</code>.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-124-1" name="__codelineno-124-1" href="#__codelineno-124-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">total_ordering</span>
<a id="__codelineno-124-2" name="__codelineno-124-2" href="#__codelineno-124-2"></a>
<a id="__codelineno-124-3" name="__codelineno-124-3" href="#__codelineno-124-3"></a><span class="nd">@total_ordering</span>
<a id="__codelineno-124-4" name="__codelineno-124-4" href="#__codelineno-124-4"></a><span class="k">class</span> <span class="nc">MySortable</span><span class="p">:</span>
<a id="__codelineno-124-5" name="__codelineno-124-5" href="#__codelineno-124-5"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-124-6" name="__codelineno-124-6" href="#__codelineno-124-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-124-7" name="__codelineno-124-7" href="#__codelineno-124-7"></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<a id="__codelineno-124-8" name="__codelineno-124-8" href="#__codelineno-124-8"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
<a id="__codelineno-124-9" name="__codelineno-124-9" href="#__codelineno-124-9"></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">a</span>
<a id="__codelineno-124-10" name="__codelineno-124-10" href="#__codelineno-124-10"></a>        <span class="k">return</span> <span class="bp">NotImplemented</span>
<a id="__codelineno-124-11" name="__codelineno-124-11" href="#__codelineno-124-11"></a>    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<a id="__codelineno-124-12" name="__codelineno-124-12" href="#__codelineno-124-12"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
<a id="__codelineno-124-13" name="__codelineno-124-13" href="#__codelineno-124-13"></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">a</span>
<a id="__codelineno-124-14" name="__codelineno-124-14" href="#__codelineno-124-14"></a>        <span class="k">return</span> <span class="bp">NotImplemented</span>
</code></pre></div>
<h3 id="iterator_1">Iterator<a class="headerlink" href="#iterator_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Any object that has methods next() and iter() is an iterator.</strong></li>
<li><strong>Next() should return next item or raise StopIteration exception.</strong></li>
<li><strong>Iter() should return 'self'.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-125-1" name="__codelineno-125-1" href="#__codelineno-125-1"></a><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
<a id="__codelineno-125-2" name="__codelineno-125-2" href="#__codelineno-125-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-125-3" name="__codelineno-125-3" href="#__codelineno-125-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-125-4" name="__codelineno-125-4" href="#__codelineno-125-4"></a>    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-125-5" name="__codelineno-125-5" href="#__codelineno-125-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-125-6" name="__codelineno-125-6" href="#__codelineno-125-6"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span>
<a id="__codelineno-125-7" name="__codelineno-125-7" href="#__codelineno-125-7"></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-125-8" name="__codelineno-125-8" href="#__codelineno-125-8"></a>        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-126-1" name="__codelineno-126-1" href="#__codelineno-126-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<a id="__codelineno-126-2" name="__codelineno-126-2" href="#__codelineno-126-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
<a id="__codelineno-126-3" name="__codelineno-126-3" href="#__codelineno-126-3"></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<h4 id="python-has-many-different-iterator-objects">Python has many different iterator objects:<a class="headerlink" href="#python-has-many-different-iterator-objects" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Sequence iterators returned by the <a href="#iterator">iter()</a> function, such as list_iterator and set_iterator.</strong></li>
<li><strong>Objects returned by the <a href="#itertools">itertools</a> module, such as count, repeat and cycle.</strong></li>
<li><strong>Generators returned by the <a href="#generator">generator functions</a> and <a href="#comprehensions">generator expressions</a>.</strong></li>
<li><strong>File objects returned by the <a href="#open">open()</a> function, etc.</strong></li>
</ul>
<h3 id="callable">Callable<a class="headerlink" href="#callable" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>All functions and classes have a call() method, hence are callable.</strong></li>
<li><strong>When this cheatsheet uses <code>'&lt;function&gt;'</code> as an argument, it actually means <code>'&lt;callable&gt;'</code>.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-127-1" name="__codelineno-127-1" href="#__codelineno-127-1"></a><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
<a id="__codelineno-127-2" name="__codelineno-127-2" href="#__codelineno-127-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-127-3" name="__codelineno-127-3" href="#__codelineno-127-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-127-4" name="__codelineno-127-4" href="#__codelineno-127-4"></a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-127-5" name="__codelineno-127-5" href="#__codelineno-127-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-127-6" name="__codelineno-127-6" href="#__codelineno-127-6"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span>
</code></pre></div></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-128-1" name="__codelineno-128-1" href="#__codelineno-128-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<a id="__codelineno-128-2" name="__codelineno-128-2" href="#__codelineno-128-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span><span class="p">(),</span> <span class="n">counter</span><span class="p">(),</span> <span class="n">counter</span><span class="p">()</span>
<a id="__codelineno-128-3" name="__codelineno-128-3" href="#__codelineno-128-3"></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<h3 id="context-manager">Context Manager<a class="headerlink" href="#context-manager" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>With statements only work with objects that have enter() and exit() special methods.</strong></li>
<li><strong>Enter() should lock the resources and optionally return an object.</strong></li>
<li><strong>Exit() should release the resources.</strong></li>
<li><strong>Any exception that happens inside the with block is passed to the exit() method.</strong></li>
<li><strong>The exit() method can suppress the exception by returning a true value.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-129-1" name="__codelineno-129-1" href="#__codelineno-129-1"></a><span class="k">class</span> <span class="nc">MyOpen</span><span class="p">:</span>
<a id="__codelineno-129-2" name="__codelineno-129-2" href="#__codelineno-129-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-129-3" name="__codelineno-129-3" href="#__codelineno-129-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span>
<a id="__codelineno-129-4" name="__codelineno-129-4" href="#__codelineno-129-4"></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-129-5" name="__codelineno-129-5" href="#__codelineno-129-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span>
<a id="__codelineno-129-6" name="__codelineno-129-6" href="#__codelineno-129-6"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span>
<a id="__codelineno-129-7" name="__codelineno-129-7" href="#__codelineno-129-7"></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exception</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
<a id="__codelineno-129-8" name="__codelineno-129-8" href="#__codelineno-129-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-130-1" name="__codelineno-130-1" href="#__codelineno-130-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-130-2" name="__codelineno-130-2" href="#__codelineno-130-2"></a><span class="o">...</span>     <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Hello World!&#39;</span><span class="p">)</span>
<a id="__codelineno-130-3" name="__codelineno-130-3" href="#__codelineno-130-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n">MyOpen</span><span class="p">(</span><span class="s1">&#39;test.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-130-4" name="__codelineno-130-4" href="#__codelineno-130-4"></a><span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<a id="__codelineno-130-5" name="__codelineno-130-5" href="#__codelineno-130-5"></a><span class="n">Hello</span> <span class="n">World</span><span class="err">!</span>
</code></pre></div>
<h2 id="iterable-duck-types">Iterable Duck Types<a class="headerlink" href="#iterable-duck-types" title="Permanent link">&para;</a></h2>
<h3 id="iterable">Iterable<a class="headerlink" href="#iterable" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Only required method is iter(). It should return an iterator of object's items.</strong></li>
<li><strong>Contains() automatically works on any object that has iter() defined.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-131-1" name="__codelineno-131-1" href="#__codelineno-131-1"></a><span class="k">class</span> <span class="nc">MyIterable</span><span class="p">:</span>
<a id="__codelineno-131-2" name="__codelineno-131-2" href="#__codelineno-131-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-131-3" name="__codelineno-131-3" href="#__codelineno-131-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-131-4" name="__codelineno-131-4" href="#__codelineno-131-4"></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-131-5" name="__codelineno-131-5" href="#__codelineno-131-5"></a>        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-131-6" name="__codelineno-131-6" href="#__codelineno-131-6"></a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">el</span><span class="p">):</span>
<a id="__codelineno-131-7" name="__codelineno-131-7" href="#__codelineno-131-7"></a>        <span class="k">return</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span>
</code></pre></div></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-132-1" name="__codelineno-132-1" href="#__codelineno-132-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">MyIterable</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<a id="__codelineno-132-2" name="__codelineno-132-2" href="#__codelineno-132-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">el</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>
<a id="__codelineno-132-3" name="__codelineno-132-3" href="#__codelineno-132-3"></a><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<a id="__codelineno-132-4" name="__codelineno-132-4" href="#__codelineno-132-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span> <span class="ow">in</span> <span class="n">obj</span>
<a id="__codelineno-132-5" name="__codelineno-132-5" href="#__codelineno-132-5"></a><span class="kc">True</span>
</code></pre></div>
<h3 id="collection">Collection<a class="headerlink" href="#collection" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Only required methods are iter() and len(). Len() should return the number of items.</strong></li>
<li><strong>This cheatsheet actually means <code>'&lt;iterable&gt;'</code> when it uses <code>'&lt;collection&gt;'</code>.</strong></li>
<li><strong>I chose not to use the name 'iterable' because it sounds scarier and more vague than 'collection'. The only drawback of this decision is that the reader could think a certain function doesn't accept iterators when it does, since iterators are the only built-in objects that are iterable but are not collections.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-133-1" name="__codelineno-133-1" href="#__codelineno-133-1"></a><span class="k">class</span> <span class="nc">MyCollection</span><span class="p">:</span>
<a id="__codelineno-133-2" name="__codelineno-133-2" href="#__codelineno-133-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-133-3" name="__codelineno-133-3" href="#__codelineno-133-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-133-4" name="__codelineno-133-4" href="#__codelineno-133-4"></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-133-5" name="__codelineno-133-5" href="#__codelineno-133-5"></a>        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-133-6" name="__codelineno-133-6" href="#__codelineno-133-6"></a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">el</span><span class="p">):</span>
<a id="__codelineno-133-7" name="__codelineno-133-7" href="#__codelineno-133-7"></a>        <span class="k">return</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span>
<a id="__codelineno-133-8" name="__codelineno-133-8" href="#__codelineno-133-8"></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-133-9" name="__codelineno-133-9" href="#__codelineno-133-9"></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
</code></pre></div></li>
</ul>
<h3 id="sequence">Sequence<a class="headerlink" href="#sequence" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Only required methods are getitem() and len().</strong></li>
<li><strong>Getitem() should return an item at the passed index or raise IndexError.</strong></li>
<li><strong>Iter() and contains() automatically work on any object that has getitem() defined.</strong></li>
<li><strong>Reversed() automatically works on any object that has getitem() and len() defined.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-134-1" name="__codelineno-134-1" href="#__codelineno-134-1"></a><span class="k">class</span> <span class="nc">MySequence</span><span class="p">:</span>
<a id="__codelineno-134-2" name="__codelineno-134-2" href="#__codelineno-134-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-134-3" name="__codelineno-134-3" href="#__codelineno-134-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-134-4" name="__codelineno-134-4" href="#__codelineno-134-4"></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-134-5" name="__codelineno-134-5" href="#__codelineno-134-5"></a>        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-134-6" name="__codelineno-134-6" href="#__codelineno-134-6"></a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">el</span><span class="p">):</span>
<a id="__codelineno-134-7" name="__codelineno-134-7" href="#__codelineno-134-7"></a>        <span class="k">return</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span>
<a id="__codelineno-134-8" name="__codelineno-134-8" href="#__codelineno-134-8"></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-134-9" name="__codelineno-134-9" href="#__codelineno-134-9"></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-134-10" name="__codelineno-134-10" href="#__codelineno-134-10"></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
<a id="__codelineno-134-11" name="__codelineno-134-11" href="#__codelineno-134-11"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a id="__codelineno-134-12" name="__codelineno-134-12" href="#__codelineno-134-12"></a>    <span class="k">def</span> <span class="fm">__reversed__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-134-13" name="__codelineno-134-13" href="#__codelineno-134-13"></a>        <span class="k">return</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
</code></pre></div></li>
</ul>
<h4 id="discrepancies-between-glossary-definitions-and-abstract-base-classes">Discrepancies between glossary definitions and abstract base classes:<a class="headerlink" href="#discrepancies-between-glossary-definitions-and-abstract-base-classes" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Glossary defines iterable as any object with iter() or getitem() and sequence as any object with getitem() and len(). It does not define collection.</strong></li>
<li><strong>Passing ABC Iterable to isinstance() or issubclass() checks whether object/class has method iter(), while ABC Collection checks for iter(), contains() and len().</strong></li>
</ul>
<h3 id="abc-sequence">ABC Sequence<a class="headerlink" href="#abc-sequence" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>It's a richer interface than the basic sequence.</strong></li>
<li><strong>Extending it generates iter(), contains(), reversed(), index() and count().</strong></li>
<li><strong>Unlike <code>'abc.Iterable'</code> and <code>'abc.Collection'</code>, it is not a duck type. That is why <code>'issubclass(MySequence, abc.Sequence)'</code> would return False even if MySequence had all the methods defined. It however recognizes list, tuple, range, str, bytes, bytearray, array, memoryview and deque, because they are registered as its virtual subclasses.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-135-1" name="__codelineno-135-1" href="#__codelineno-135-1"></a><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">abc</span>
<a id="__codelineno-135-2" name="__codelineno-135-2" href="#__codelineno-135-2"></a>
<a id="__codelineno-135-3" name="__codelineno-135-3" href="#__codelineno-135-3"></a><span class="k">class</span> <span class="nc">MyAbcSequence</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">):</span>
<a id="__codelineno-135-4" name="__codelineno-135-4" href="#__codelineno-135-4"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-135-5" name="__codelineno-135-5" href="#__codelineno-135-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-135-6" name="__codelineno-135-6" href="#__codelineno-135-6"></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-135-7" name="__codelineno-135-7" href="#__codelineno-135-7"></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-135-8" name="__codelineno-135-8" href="#__codelineno-135-8"></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
<a id="__codelineno-135-9" name="__codelineno-135-9" href="#__codelineno-135-9"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</code></pre></div></li>
</ul>
<h4 id="table-of-required-and-automatically-available-special-methods">Table of required and automatically available special methods:<a class="headerlink" href="#table-of-required-and-automatically-available-special-methods" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-136-1" name="__codelineno-136-1" href="#__codelineno-136-1"></a>+------------+------------+------------+------------+--------------+
<a id="__codelineno-136-2" name="__codelineno-136-2" href="#__codelineno-136-2"></a>|            |  Iterable  | Collection |  Sequence  | abc.Sequence |
<a id="__codelineno-136-3" name="__codelineno-136-3" href="#__codelineno-136-3"></a>+------------+------------+------------+------------+--------------+
<a id="__codelineno-136-4" name="__codelineno-136-4" href="#__codelineno-136-4"></a>| iter()     |    REQ     |    REQ     |    Yes     |     Yes      |
<a id="__codelineno-136-5" name="__codelineno-136-5" href="#__codelineno-136-5"></a>| contains() |    Yes     |    Yes     |    Yes     |     Yes      |
<a id="__codelineno-136-6" name="__codelineno-136-6" href="#__codelineno-136-6"></a>| len()      |            |    REQ     |    REQ     |     REQ      |
<a id="__codelineno-136-7" name="__codelineno-136-7" href="#__codelineno-136-7"></a>| getitem()  |            |            |    REQ     |     REQ      |
<a id="__codelineno-136-8" name="__codelineno-136-8" href="#__codelineno-136-8"></a>| reversed() |            |            |    Yes     |     Yes      |
<a id="__codelineno-136-9" name="__codelineno-136-9" href="#__codelineno-136-9"></a>| index()    |            |            |            |     Yes      |
<a id="__codelineno-136-10" name="__codelineno-136-10" href="#__codelineno-136-10"></a>| count()    |            |            |            |     Yes      |
<a id="__codelineno-136-11" name="__codelineno-136-11" href="#__codelineno-136-11"></a>+------------+------------+------------+------------+--------------+
</code></pre></div>
* <strong>Other ABCs that generate missing methods are: MutableSequence, Set, MutableSet, Mapping and MutableMapping.</strong>
* <strong>Names of their required methods are stored in <code>'&lt;abc&gt;.__abstractmethods__'</code>.</strong></p>
<h2 id="enum">Enum<a class="headerlink" href="#enum" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-137-1" name="__codelineno-137-1" href="#__codelineno-137-1"></a><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span><span class="p">,</span> <span class="n">auto</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-138-1" name="__codelineno-138-1" href="#__codelineno-138-1"></a><span class="k">class</span> <span class="err">&lt;</span><span class="nc">enum_name</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<a id="__codelineno-138-2" name="__codelineno-138-2" href="#__codelineno-138-2"></a>    <span class="o">&lt;</span><span class="n">member_name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
<a id="__codelineno-138-3" name="__codelineno-138-3" href="#__codelineno-138-3"></a>    <span class="o">&lt;</span><span class="n">member_name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>
<a id="__codelineno-138-4" name="__codelineno-138-4" href="#__codelineno-138-4"></a>    <span class="o">&lt;</span><span class="n">member_name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</code></pre></div>
* <strong>Function auto() returns an increment of the last numeric value or 1.</strong>
* <strong>Accessing a member named after a reserved keyword causes SyntaxError.</strong>
* <strong>Methods receive the member they were called on as the 'self' argument.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-139-1" name="__codelineno-139-1" href="#__codelineno-139-1"></a><span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;.&lt;</span><span class="n">member_name</span><span class="o">&gt;</span>           <span class="c1"># Returns a member.</span>
<a id="__codelineno-139-2" name="__codelineno-139-2" href="#__codelineno-139-2"></a><span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">[</span><span class="s1">&#39;&lt;member_name&gt;&#39;</span><span class="p">]</span>        <span class="c1"># Returns a member. Raises KeyError.</span>
<a id="__codelineno-139-3" name="__codelineno-139-3" href="#__codelineno-139-3"></a><span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Returns a member. Raises ValueError.</span>
<a id="__codelineno-139-4" name="__codelineno-139-4" href="#__codelineno-139-4"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;.</span><span class="n">name</span>                  <span class="c1"># Returns member&#39;s name.</span>
<a id="__codelineno-139-5" name="__codelineno-139-5" href="#__codelineno-139-5"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;.</span><span class="n">value</span>                 <span class="c1"># Returns member&#39;s value.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-140-1" name="__codelineno-140-1" href="#__codelineno-140-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">)</span>                   <span class="c1"># Returns enum&#39;s members.</span>
<a id="__codelineno-140-2" name="__codelineno-140-2" href="#__codelineno-140-2"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">]</span>       <span class="c1"># Returns enum&#39;s member names.</span>
<a id="__codelineno-140-3" name="__codelineno-140-3" href="#__codelineno-140-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">]</span>      <span class="c1"># Returns enum&#39;s member values.</span>
<a id="__codelineno-140-4" name="__codelineno-140-4" href="#__codelineno-140-4"></a><span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">))</span>    <span class="c1"># Returns a random member.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-141-1" name="__codelineno-141-1" href="#__codelineno-141-1"></a><span class="k">def</span> <span class="nf">get_next_member</span><span class="p">(</span><span class="n">member</span><span class="p">):</span>
<a id="__codelineno-141-2" name="__codelineno-141-2" href="#__codelineno-141-2"></a>    <span class="n">members</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">member</span><span class="p">))</span>
<a id="__codelineno-141-3" name="__codelineno-141-3" href="#__codelineno-141-3"></a>    <span class="n">index</span> <span class="o">=</span> <span class="n">members</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-141-4" name="__codelineno-141-4" href="#__codelineno-141-4"></a>    <span class="k">return</span> <span class="n">members</span><span class="p">[</span><span class="n">index</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">members</span><span class="p">)]</span>
</code></pre></div>
<h3 id="inline_2">Inline<a class="headerlink" href="#inline_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-142-1" name="__codelineno-142-1" href="#__codelineno-142-1"></a><span class="n">Cutlery</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;Cutlery&#39;</span><span class="p">,</span> <span class="s1">&#39;FORK KNIFE SPOON&#39;</span><span class="p">)</span>
<a id="__codelineno-142-2" name="__codelineno-142-2" href="#__codelineno-142-2"></a><span class="n">Cutlery</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;Cutlery&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;FORK&#39;</span><span class="p">,</span> <span class="s1">&#39;KNIFE&#39;</span><span class="p">,</span> <span class="s1">&#39;SPOON&#39;</span><span class="p">])</span>
<a id="__codelineno-142-3" name="__codelineno-142-3" href="#__codelineno-142-3"></a><span class="n">Cutlery</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;Cutlery&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;FORK&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;KNIFE&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;SPOON&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
</code></pre></div>
<h4 id="user-defined-functions-cannot-be-values-so-they-must-be-wrapped">User-defined functions cannot be values, so they must be wrapped:<a class="headerlink" href="#user-defined-functions-cannot-be-values-so-they-must-be-wrapped" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-143-1" name="__codelineno-143-1" href="#__codelineno-143-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<a id="__codelineno-143-2" name="__codelineno-143-2" href="#__codelineno-143-2"></a><span class="n">LogicOp</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;LogicOp&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;AND&#39;</span><span class="p">:</span> <span class="n">partial</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="n">l</span> <span class="ow">and</span> <span class="n">r</span><span class="p">),</span>
<a id="__codelineno-143-3" name="__codelineno-143-3" href="#__codelineno-143-3"></a>                           <span class="s1">&#39;OR&#39;</span><span class="p">:</span>  <span class="n">partial</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="n">l</span> <span class="ow">or</span> <span class="n">r</span><span class="p">)})</span>
</code></pre></div>
<h2 id="exceptions">Exceptions<a class="headerlink" href="#exceptions" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-144-1" name="__codelineno-144-1" href="#__codelineno-144-1"></a><span class="k">try</span><span class="p">:</span>
<a id="__codelineno-144-2" name="__codelineno-144-2" href="#__codelineno-144-2"></a>    <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span>
<a id="__codelineno-144-3" name="__codelineno-144-3" href="#__codelineno-144-3"></a><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-144-4" name="__codelineno-144-4" href="#__codelineno-144-4"></a>    <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span>
</code></pre></div>
<h3 id="complex-example">Complex Example<a class="headerlink" href="#complex-example" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-145-1" name="__codelineno-145-1" href="#__codelineno-145-1"></a><span class="k">try</span><span class="p">:</span>
<a id="__codelineno-145-2" name="__codelineno-145-2" href="#__codelineno-145-2"></a>    <span class="o">&lt;</span><span class="n">code_1</span><span class="o">&gt;</span>
<a id="__codelineno-145-3" name="__codelineno-145-3" href="#__codelineno-145-3"></a><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception_a</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-145-4" name="__codelineno-145-4" href="#__codelineno-145-4"></a>    <span class="o">&lt;</span><span class="n">code_2_a</span><span class="o">&gt;</span>
<a id="__codelineno-145-5" name="__codelineno-145-5" href="#__codelineno-145-5"></a><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception_b</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-145-6" name="__codelineno-145-6" href="#__codelineno-145-6"></a>    <span class="o">&lt;</span><span class="n">code_2_b</span><span class="o">&gt;</span>
<a id="__codelineno-145-7" name="__codelineno-145-7" href="#__codelineno-145-7"></a><span class="k">else</span><span class="p">:</span>
<a id="__codelineno-145-8" name="__codelineno-145-8" href="#__codelineno-145-8"></a>    <span class="o">&lt;</span><span class="n">code_2_c</span><span class="o">&gt;</span>
<a id="__codelineno-145-9" name="__codelineno-145-9" href="#__codelineno-145-9"></a><span class="k">finally</span><span class="p">:</span>
<a id="__codelineno-145-10" name="__codelineno-145-10" href="#__codelineno-145-10"></a>    <span class="o">&lt;</span><span class="n">code_3</span><span class="o">&gt;</span>
</code></pre></div>
* <strong>Code inside the <code>'else'</code> block will only be executed if <code>'try'</code> block had no exceptions.</strong>
* <strong>Code inside the <code>'finally'</code> block will always be executed (unless a signal is received).</strong>
* <strong>All variables that are initialized in executed blocks are also visible in all subsequent blocks, as well as outside the try/except clause (only function block delimits scope).</strong>
* <strong>To catch signals use <code>'signal.signal(signal_number, &lt;func&gt;)'</code>.</strong></p>
<h3 id="catching-exceptions">Catching Exceptions<a class="headerlink" href="#catching-exceptions" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-146-1" name="__codelineno-146-1" href="#__codelineno-146-1"></a><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">...</span>
<a id="__codelineno-146-2" name="__codelineno-146-2" href="#__codelineno-146-2"></a><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span> <span class="k">as</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">...</span>
<a id="__codelineno-146-3" name="__codelineno-146-3" href="#__codelineno-146-3"></a><span class="k">except</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">[</span><span class="o">...</span><span class="p">]):</span> <span class="o">...</span>
<a id="__codelineno-146-4" name="__codelineno-146-4" href="#__codelineno-146-4"></a><span class="k">except</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">[</span><span class="o">...</span><span class="p">])</span> <span class="k">as</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">...</span>
</code></pre></div>
* <strong>Also catches subclasses of the exception.</strong>
* <strong>Use <code>'traceback.print_exc()'</code> to print the error message to stderr.</strong>
* <strong>Use <code>'print(&lt;name&gt;)'</code> to print just the cause of the exception (its arguments).</strong>
* <strong>Use <code>'logging.exception(&lt;message&gt;)'</code> to log the passed message, followed by the full error message of the caught exception.</strong></p>
<h3 id="raising-exceptions">Raising Exceptions<a class="headerlink" href="#raising-exceptions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-147-1" name="__codelineno-147-1" href="#__codelineno-147-1"></a><span class="k">raise</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span>
<a id="__codelineno-147-2" name="__codelineno-147-2" href="#__codelineno-147-2"></a><span class="k">raise</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-147-3" name="__codelineno-147-3" href="#__codelineno-147-3"></a><span class="k">raise</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>
</code></pre></div>
<h4 id="re-raising-caught-exception">Re-raising caught exception:<a class="headerlink" href="#re-raising-caught-exception" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-148-1" name="__codelineno-148-1" href="#__codelineno-148-1"></a><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span> <span class="p">[</span><span class="k">as</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">]:</span>
<a id="__codelineno-148-2" name="__codelineno-148-2" href="#__codelineno-148-2"></a>    <span class="o">...</span>
<a id="__codelineno-148-3" name="__codelineno-148-3" href="#__codelineno-148-3"></a>    <span class="k">raise</span>
</code></pre></div>
<h3 id="exception-object">Exception Object<a class="headerlink" href="#exception-object" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-149-1" name="__codelineno-149-1" href="#__codelineno-149-1"></a><span class="n">arguments</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">args</span>
<a id="__codelineno-149-2" name="__codelineno-149-2" href="#__codelineno-149-2"></a><span class="n">exc_type</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="vm">__class__</span>
<a id="__codelineno-149-3" name="__codelineno-149-3" href="#__codelineno-149-3"></a><span class="n">filename</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">__traceback__</span><span class="o">.</span><span class="n">tb_frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_filename</span>
<a id="__codelineno-149-4" name="__codelineno-149-4" href="#__codelineno-149-4"></a><span class="n">func_name</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">__traceback__</span><span class="o">.</span><span class="n">tb_frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_name</span>
<a id="__codelineno-149-5" name="__codelineno-149-5" href="#__codelineno-149-5"></a><span class="n">line</span>      <span class="o">=</span> <span class="n">linecache</span><span class="o">.</span><span class="n">getline</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">__traceback__</span><span class="o">.</span><span class="n">tb_lineno</span><span class="p">)</span>
<a id="__codelineno-149-6" name="__codelineno-149-6" href="#__codelineno-149-6"></a><span class="n">trace_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_tb</span><span class="p">(</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">__traceback__</span><span class="p">))</span>
<a id="__codelineno-149-7" name="__codelineno-149-7" href="#__codelineno-149-7"></a><span class="n">error_msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exception</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">),</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">__traceback__</span><span class="p">))</span>
</code></pre></div>
<h3 id="built-in-exceptions">Built-in Exceptions<a class="headerlink" href="#built-in-exceptions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-150-1" name="__codelineno-150-1" href="#__codelineno-150-1"></a>BaseException
<a id="__codelineno-150-2" name="__codelineno-150-2" href="#__codelineno-150-2"></a> +-- SystemExit                   # Raised by the sys.exit() function.
<a id="__codelineno-150-3" name="__codelineno-150-3" href="#__codelineno-150-3"></a> +-- KeyboardInterrupt            # Raised when the user hits the interrupt key (ctrl-c).
<a id="__codelineno-150-4" name="__codelineno-150-4" href="#__codelineno-150-4"></a> +-- Exception                    # User-defined exceptions should be derived from this class.
<a id="__codelineno-150-5" name="__codelineno-150-5" href="#__codelineno-150-5"></a>      +-- ArithmeticError         # Base class for arithmetic errors such as ZeroDivisionError.
<a id="__codelineno-150-6" name="__codelineno-150-6" href="#__codelineno-150-6"></a>      +-- AssertionError          # Raised by `assert &lt;exp&gt;` if expression returns false value.
<a id="__codelineno-150-7" name="__codelineno-150-7" href="#__codelineno-150-7"></a>      +-- AttributeError          # Raised when object doesn&#39;t have requested attribute/method.
<a id="__codelineno-150-8" name="__codelineno-150-8" href="#__codelineno-150-8"></a>      +-- EOFError                # Raised by input() when it hits an end-of-file condition.
<a id="__codelineno-150-9" name="__codelineno-150-9" href="#__codelineno-150-9"></a>      +-- LookupError             # Base class for errors when a collection can&#39;t find an item.
<a id="__codelineno-150-10" name="__codelineno-150-10" href="#__codelineno-150-10"></a>      |    +-- IndexError         # Raised when a sequence index is out of range.
<a id="__codelineno-150-11" name="__codelineno-150-11" href="#__codelineno-150-11"></a>      |    +-- KeyError           # Raised when a dictionary key or set element is missing.
<a id="__codelineno-150-12" name="__codelineno-150-12" href="#__codelineno-150-12"></a>      +-- MemoryError             # Out of memory. Could be too late to start deleting vars.
<a id="__codelineno-150-13" name="__codelineno-150-13" href="#__codelineno-150-13"></a>      +-- NameError               # Raised when nonexistent name (variable/func/class) is used.
<a id="__codelineno-150-14" name="__codelineno-150-14" href="#__codelineno-150-14"></a>      |    +-- UnboundLocalError  # Raised when local name is used before it&#39;s being defined.
<a id="__codelineno-150-15" name="__codelineno-150-15" href="#__codelineno-150-15"></a>      +-- OSError                 # Errors such as FileExistsError/PermissionError (see #Open).
<a id="__codelineno-150-16" name="__codelineno-150-16" href="#__codelineno-150-16"></a>      |    +-- ConnectionError    # Errors such as BrokenPipeError/ConnectionAbortedError.
<a id="__codelineno-150-17" name="__codelineno-150-17" href="#__codelineno-150-17"></a>      +-- RuntimeError            # Raised by errors that don&#39;t fall into other categories.
<a id="__codelineno-150-18" name="__codelineno-150-18" href="#__codelineno-150-18"></a>      |    +-- NotImplementedEr…  # Can be raised by abstract methods or by unfinished code.
<a id="__codelineno-150-19" name="__codelineno-150-19" href="#__codelineno-150-19"></a>      |    +-- RecursionError     # Raised when the maximum recursion depth is exceeded.
<a id="__codelineno-150-20" name="__codelineno-150-20" href="#__codelineno-150-20"></a>      +-- StopIteration           # Raised by next() when run on an empty iterator.
<a id="__codelineno-150-21" name="__codelineno-150-21" href="#__codelineno-150-21"></a>      +-- TypeError               # Raised when an argument is of the wrong type.
<a id="__codelineno-150-22" name="__codelineno-150-22" href="#__codelineno-150-22"></a>      +-- ValueError              # When argument has the right type but inappropriate value.
</code></pre></div>
<h4 id="collections-and-their-exceptions">Collections and their exceptions:<a class="headerlink" href="#collections-and-their-exceptions" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-151-1" name="__codelineno-151-1" href="#__codelineno-151-1"></a>+-----------+------------+------------+------------+
<a id="__codelineno-151-2" name="__codelineno-151-2" href="#__codelineno-151-2"></a>|           |    List    |    Set     |    Dict    |
<a id="__codelineno-151-3" name="__codelineno-151-3" href="#__codelineno-151-3"></a>+-----------+------------+------------+------------+
<a id="__codelineno-151-4" name="__codelineno-151-4" href="#__codelineno-151-4"></a>| getitem() | IndexError |            |  KeyError  |
<a id="__codelineno-151-5" name="__codelineno-151-5" href="#__codelineno-151-5"></a>| pop()     | IndexError |  KeyError  |  KeyError  |
<a id="__codelineno-151-6" name="__codelineno-151-6" href="#__codelineno-151-6"></a>| remove()  | ValueError |  KeyError  |            |
<a id="__codelineno-151-7" name="__codelineno-151-7" href="#__codelineno-151-7"></a>| index()   | ValueError |            |            |
<a id="__codelineno-151-8" name="__codelineno-151-8" href="#__codelineno-151-8"></a>+-----------+------------+------------+------------+
</code></pre></div>
<h4 id="useful-built-in-exceptions">Useful built-in exceptions:<a class="headerlink" href="#useful-built-in-exceptions" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-152-1" name="__codelineno-152-1" href="#__codelineno-152-1"></a><span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Argument is of the wrong type!&#39;</span><span class="p">)</span>
<a id="__codelineno-152-2" name="__codelineno-152-2" href="#__codelineno-152-2"></a><span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Argument has the right type but an inappropriate value!&#39;</span><span class="p">)</span>
<a id="__codelineno-152-3" name="__codelineno-152-3" href="#__codelineno-152-3"></a><span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;I am too lazy to define my own exception!&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="user-defined-exceptions">User-defined Exceptions<a class="headerlink" href="#user-defined-exceptions" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-153-1" name="__codelineno-153-1" href="#__codelineno-153-1"></a><span class="k">class</span> <span class="nc">MyError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span> <span class="k">pass</span>
<a id="__codelineno-153-2" name="__codelineno-153-2" href="#__codelineno-153-2"></a><span class="k">class</span> <span class="nc">MyInputError</span><span class="p">(</span><span class="n">MyError</span><span class="p">):</span> <span class="k">pass</span>
</code></pre></div>
<h2 id="exit">Exit<a class="headerlink" href="#exit" title="Permanent link">&para;</a></h2>
<p><strong>Exits the interpreter by raising SystemExit exception.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-154-1" name="__codelineno-154-1" href="#__codelineno-154-1"></a><span class="kn">import</span> <span class="nn">sys</span>
<a id="__codelineno-154-2" name="__codelineno-154-2" href="#__codelineno-154-2"></a><span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>                        <span class="c1"># Exits with exit code 0 (success).</span>
<a id="__codelineno-154-3" name="__codelineno-154-3" href="#__codelineno-154-3"></a><span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Prints to stderr and exits with 1.</span>
<a id="__codelineno-154-4" name="__codelineno-154-4" href="#__codelineno-154-4"></a><span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>                   <span class="c1"># Exits with the passed exit code.</span>
</code></pre></div></p>
<h2 id="print">Print<a class="headerlink" href="#print" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-155-1" name="__codelineno-155-1" href="#__codelineno-155-1"></a><span class="nb">print</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
* <strong>Use <code>'file=sys.stderr'</code> for messages about errors.</strong>
* <strong>Use <code>'flush=True'</code> to forcibly flush the stream.</strong></p>
<h3 id="pretty-print">Pretty Print<a class="headerlink" href="#pretty-print" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-156-1" name="__codelineno-156-1" href="#__codelineno-156-1"></a><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<a id="__codelineno-156-2" name="__codelineno-156-2" href="#__codelineno-156-2"></a><span class="n">pprint</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">compact</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sort_dicts</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
* <strong>Levels deeper than 'depth' get replaced by '...'.</strong></p>
<h2 id="input">Input<a class="headerlink" href="#input" title="Permanent link">&para;</a></h2>
<p><strong>Reads a line from the user input or pipe if present.</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-157-1" name="__codelineno-157-1" href="#__codelineno-157-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
* <strong>Trailing newline gets stripped.</strong>
* <strong>Prompt string is printed to the standard output before reading input.</strong>
* <strong>Raises EOFError when user hits EOF (ctrl-d/ctrl-z⏎) or input stream gets exhausted.</strong></p>
<h2 id="command-line-arguments">Command Line Arguments<a class="headerlink" href="#command-line-arguments" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-158-1" name="__codelineno-158-1" href="#__codelineno-158-1"></a><span class="kn">import</span> <span class="nn">sys</span>
<a id="__codelineno-158-2" name="__codelineno-158-2" href="#__codelineno-158-2"></a><span class="n">scripts_path</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-158-3" name="__codelineno-158-3" href="#__codelineno-158-3"></a><span class="n">arguments</span>    <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</code></pre></div>
<h3 id="argument-parser">Argument Parser<a class="headerlink" href="#argument-parser" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-159-1" name="__codelineno-159-1" href="#__codelineno-159-1"></a><span class="kn">from</span> <span class="nn">argparse</span> <span class="kn">import</span> <span class="n">ArgumentParser</span><span class="p">,</span> <span class="n">FileType</span>
<a id="__codelineno-159-2" name="__codelineno-159-2" href="#__codelineno-159-2"></a><span class="n">p</span> <span class="o">=</span> <span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-159-3" name="__codelineno-159-3" href="#__codelineno-159-3"></a><span class="n">p</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-&lt;short_name&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;--&lt;name&gt;&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">)</span>  <span class="c1"># Flag.</span>
<a id="__codelineno-159-4" name="__codelineno-159-4" href="#__codelineno-159-4"></a><span class="n">p</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-&lt;short_name&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;--&lt;name&gt;&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">)</span>          <span class="c1"># Option.</span>
<a id="__codelineno-159-5" name="__codelineno-159-5" href="#__codelineno-159-5"></a><span class="n">p</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;&lt;name&gt;&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>                    <span class="c1"># First argument.</span>
<a id="__codelineno-159-6" name="__codelineno-159-6" href="#__codelineno-159-6"></a><span class="n">p</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;&lt;name&gt;&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">)</span>                  <span class="c1"># Remaining arguments.</span>
<a id="__codelineno-159-7" name="__codelineno-159-7" href="#__codelineno-159-7"></a><span class="n">p</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;&lt;name&gt;&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">)</span>                  <span class="c1"># Optional arguments.</span>
<a id="__codelineno-159-8" name="__codelineno-159-8" href="#__codelineno-159-8"></a><span class="n">args</span>  <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>                                            <span class="c1"># Exits on error.</span>
<a id="__codelineno-159-9" name="__codelineno-159-9" href="#__codelineno-159-9"></a><span class="n">value</span> <span class="o">=</span> <span class="n">args</span><span class="o">.&lt;</span><span class="n">name</span><span class="o">&gt;</span>
</code></pre></div>
<ul>
<li><strong>Use <code>'help=&lt;str&gt;'</code> to set argument description that will be displayed in help message.</strong></li>
<li><strong>Use <code>'default=&lt;el&gt;'</code> to set argument's default value.</strong></li>
<li><strong>Use <code>'type=FileType(&lt;mode&gt;)'</code> for files. Accepts 'encoding', but 'newline' is None.</strong></li>
</ul>
<h2 id="open">Open<a class="headerlink" href="#open" title="Permanent link">&para;</a></h2>
<p><strong>Opens the file and returns a corresponding file object.</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-160-1" name="__codelineno-160-1" href="#__codelineno-160-1"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
* <strong><code>'encoding=None'</code> means that the default encoding is used, which is platform dependent. Best practice is to use <code>'encoding="utf-8"'</code> whenever possible.</strong>
* <strong><code>'newline=None'</code> means all different end of line combinations are converted to '\n' on read, while on write all '\n' characters are converted to system's default line separator.</strong>
* <strong><code>'newline=""'</code> means no conversions take place, but input is still broken into chunks by readline() and readlines() on every '\n', '\r' and '\r\n'.</strong></p>
<h3 id="modes">Modes<a class="headerlink" href="#modes" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>'r'</code>  - Read (default).</strong></li>
<li><strong><code>'w'</code>  - Write (truncate).</strong></li>
<li><strong><code>'x'</code>  - Write or fail if the file already exists.</strong></li>
<li><strong><code>'a'</code>  - Append.</strong></li>
<li><strong><code>'w+'</code> - Read and write (truncate).</strong></li>
<li><strong><code>'r+'</code> - Read and write from the start.</strong></li>
<li><strong><code>'a+'</code> - Read and write from the end.</strong></li>
<li><strong><code>'b'</code>  - Binary mode (<code>'br'</code>, <code>'bw'</code>, <code>'bx'</code>, …).</strong></li>
</ul>
<h3 id="exceptions_1">Exceptions<a class="headerlink" href="#exceptions_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>'FileNotFoundError'</code> can be raised when reading with <code>'r'</code> or <code>'r+'</code>.</strong></li>
<li><strong><code>'FileExistsError'</code> can be raised when writing with <code>'x'</code>.</strong></li>
<li><strong><code>'IsADirectoryError'</code> and <code>'PermissionError'</code> can be raised by any.</strong></li>
<li><strong><code>'OSError'</code> is the parent class of all listed exceptions.</strong></li>
</ul>
<h3 id="file-object">File Object<a class="headerlink" href="#file-object" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-161-1" name="__codelineno-161-1" href="#__codelineno-161-1"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                      <span class="c1"># Moves to the start of the file.</span>
<a id="__codelineno-161-2" name="__codelineno-161-2" href="#__codelineno-161-2"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">seek</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>                 <span class="c1"># Moves &#39;offset&#39; chars/bytes from the start.</span>
<a id="__codelineno-161-3" name="__codelineno-161-3" href="#__codelineno-161-3"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                   <span class="c1"># Moves to the end of the file.</span>
<a id="__codelineno-161-4" name="__codelineno-161-4" href="#__codelineno-161-4"></a><span class="o">&lt;</span><span class="n">bin_file</span><span class="o">&gt;.</span><span class="n">seek</span><span class="p">(</span><span class="err">±</span><span class="n">offset</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">anchor</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Anchor: 0 start, 1 current position, 2 end.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-162-1" name="__codelineno-162-1" href="#__codelineno-162-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">read</span><span class="p">(</span><span class="n">size</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Reads &#39;size&#39; chars/bytes or until EOF.</span>
<a id="__codelineno-162-2" name="__codelineno-162-2" href="#__codelineno-162-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">readline</span><span class="p">()</span>     <span class="c1"># Returns a line or empty string/bytes on EOF.</span>
<a id="__codelineno-162-3" name="__codelineno-162-3" href="#__codelineno-162-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>      <span class="o">=</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">readlines</span><span class="p">()</span>    <span class="c1"># Returns a list of remaining lines.</span>
<a id="__codelineno-162-4" name="__codelineno-162-4" href="#__codelineno-162-4"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="p">)</span>          <span class="c1"># Returns a line using buffer. Do not mix.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-163-1" name="__codelineno-163-1" href="#__codelineno-163-1"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">write</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Writes a string or bytes object.</span>
<a id="__codelineno-163-2" name="__codelineno-163-2" href="#__codelineno-163-2"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">writelines</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Writes a coll. of strings or bytes objects.</span>
<a id="__codelineno-163-3" name="__codelineno-163-3" href="#__codelineno-163-3"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">flush</span><span class="p">()</span>                      <span class="c1"># Flushes write buffer. Runs every 4096/8192 B.</span>
<a id="__codelineno-163-4" name="__codelineno-163-4" href="#__codelineno-163-4"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">close</span><span class="p">()</span>                      <span class="c1"># Closes the file after flushing.</span>
</code></pre></div>
* <strong>Methods do not add or strip trailing newlines, not even writelines().</strong></p>
<h3 id="read-text-from-file">Read Text from File<a class="headerlink" href="#read-text-from-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-164-1" name="__codelineno-164-1" href="#__codelineno-164-1"></a><span class="k">def</span> <span class="nf">read_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-164-2" name="__codelineno-164-2" href="#__codelineno-164-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-164-3" name="__codelineno-164-3" href="#__codelineno-164-3"></a>        <span class="k">return</span> <span class="n">file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
</code></pre></div>
<h3 id="write-text-to-file">Write Text to File<a class="headerlink" href="#write-text-to-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-165-1" name="__codelineno-165-1" href="#__codelineno-165-1"></a><span class="k">def</span> <span class="nf">write_to_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<a id="__codelineno-165-2" name="__codelineno-165-2" href="#__codelineno-165-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-165-3" name="__codelineno-165-3" href="#__codelineno-165-3"></a>        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<h2 id="paths">Paths<a class="headerlink" href="#paths" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-166-1" name="__codelineno-166-1" href="#__codelineno-166-1"></a><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">glob</span>
<a id="__codelineno-166-2" name="__codelineno-166-2" href="#__codelineno-166-2"></a><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-167-1" name="__codelineno-167-1" href="#__codelineno-167-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>                <span class="c1"># Returns the current working directory.</span>
<a id="__codelineno-167-2" name="__codelineno-167-2" href="#__codelineno-167-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>  <span class="c1"># Joins two or more pathname components.</span>
<a id="__codelineno-167-3" name="__codelineno-167-3" href="#__codelineno-167-3"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>   <span class="c1"># Resolves symlinks and calls path.abspath().</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-168-1" name="__codelineno-168-1" href="#__codelineno-168-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>   <span class="c1"># Returns final component of the path.</span>
<a id="__codelineno-168-2" name="__codelineno-168-2" href="#__codelineno-168-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Returns path without the final component.</span>
<a id="__codelineno-168-3" name="__codelineno-168-3" href="#__codelineno-168-3"></a><span class="o">&lt;</span><span class="n">tup</span><span class="o">.&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>   <span class="c1"># Splits on last period of the final component.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-169-1" name="__codelineno-169-1" href="#__codelineno-169-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>       <span class="c1"># Returns filenames located at the path.</span>
<a id="__codelineno-169-2" name="__codelineno-169-2" href="#__codelineno-169-2"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;&lt;pattern&gt;&#39;</span><span class="p">)</span>     <span class="c1"># Returns paths matching the wildcard pattern.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-170-1" name="__codelineno-170-1" href="#__codelineno-170-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Or: &lt;Path&gt;.exists()</span>
<a id="__codelineno-170-2" name="__codelineno-170-2" href="#__codelineno-170-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Or: &lt;DirEntry/Path&gt;.is_file()</span>
<a id="__codelineno-170-3" name="__codelineno-170-3" href="#__codelineno-170-3"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Or: &lt;DirEntry/Path&gt;.is_dir()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-171-1" name="__codelineno-171-1" href="#__codelineno-171-1"></a><span class="o">&lt;</span><span class="n">stat</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Or: &lt;DirEntry/Path&gt;.stat()</span>
<a id="__codelineno-171-2" name="__codelineno-171-2" href="#__codelineno-171-2"></a><span class="o">&lt;</span><span class="n">real</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">stat</span><span class="o">&gt;.</span><span class="n">st_mtime</span><span class="o">/</span><span class="n">st_size</span><span class="o">/</span><span class="err">…</span>  <span class="c1"># Modification time, size in bytes, ...</span>
</code></pre></div>
<h3 id="direntry">DirEntry<a class="headerlink" href="#direntry" title="Permanent link">&para;</a></h3>
<p><strong>Unlike listdir(), scandir() returns DirEntry objects that cache isfile, isdir and on Windows also stat information, thus significantly increasing the performance of code that requires it.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-172-1" name="__codelineno-172-1" href="#__codelineno-172-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">scandir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>       <span class="c1"># Returns DirEntry objects located at the path.</span>
<a id="__codelineno-172-2" name="__codelineno-172-2" href="#__codelineno-172-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DirEntry</span><span class="o">&gt;.</span><span class="n">path</span>            <span class="c1"># Returns the whole path as a string.</span>
<a id="__codelineno-172-3" name="__codelineno-172-3" href="#__codelineno-172-3"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DirEntry</span><span class="o">&gt;.</span><span class="n">name</span>            <span class="c1"># Returns final component as a string.</span>
<a id="__codelineno-172-4" name="__codelineno-172-4" href="#__codelineno-172-4"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="o">&lt;</span><span class="n">DirEntry</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Opens the file and returns a file object.</span>
</code></pre></div>
<h3 id="path-object">Path Object<a class="headerlink" href="#path-object" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-173-1" name="__codelineno-173-1" href="#__codelineno-173-1"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>       <span class="c1"># Accepts strings, Paths and DirEntry objects.</span>
<a id="__codelineno-173-2" name="__codelineno-173-2" href="#__codelineno-173-2"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="o">/</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">/</span> <span class="o">...</span><span class="p">]</span>    <span class="c1"># First or second path must be a Path object.</span>
<a id="__codelineno-173-3" name="__codelineno-173-3" href="#__codelineno-173-3"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">resolve</span><span class="p">()</span>           <span class="c1"># Returns absolute path with resolved symlinks.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-174-1" name="__codelineno-174-1" href="#__codelineno-174-1"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="p">()</span>                     <span class="c1"># Returns relative cwd. Also Path(&#39;.&#39;).</span>
<a id="__codelineno-174-2" name="__codelineno-174-2" href="#__codelineno-174-2"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>                 <span class="c1"># Returns absolute cwd. Also Path().resolve().</span>
<a id="__codelineno-174-3" name="__codelineno-174-3" href="#__codelineno-174-3"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span>                <span class="c1"># Returns user&#39;s home directory (absolute).</span>
<a id="__codelineno-174-4" name="__codelineno-174-4" href="#__codelineno-174-4"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>   <span class="c1"># Returns script&#39;s path if cwd wasn&#39;t changed.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-175-1" name="__codelineno-175-1" href="#__codelineno-175-1"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">parent</span>              <span class="c1"># Returns Path without the final component.</span>
<a id="__codelineno-175-2" name="__codelineno-175-2" href="#__codelineno-175-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">name</span>                <span class="c1"># Returns final component as a string.</span>
<a id="__codelineno-175-3" name="__codelineno-175-3" href="#__codelineno-175-3"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">stem</span>                <span class="c1"># Returns final component without extension.</span>
<a id="__codelineno-175-4" name="__codelineno-175-4" href="#__codelineno-175-4"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">suffix</span>              <span class="c1"># Returns final component&#39;s extension.</span>
<a id="__codelineno-175-5" name="__codelineno-175-5" href="#__codelineno-175-5"></a><span class="o">&lt;</span><span class="n">tup</span><span class="o">.&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">parts</span>               <span class="c1"># Returns all components as strings.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-176-1" name="__codelineno-176-1" href="#__codelineno-176-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">iterdir</span><span class="p">()</span>           <span class="c1"># Returns directory contents as Path objects.</span>
<a id="__codelineno-176-2" name="__codelineno-176-2" href="#__codelineno-176-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;&lt;pattern&gt;&#39;</span><span class="p">)</span>   <span class="c1"># Returns Paths matching the wildcard pattern.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-177-1" name="__codelineno-177-1" href="#__codelineno-177-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Returns path as a string.</span>
<a id="__codelineno-177-2" name="__codelineno-177-2" href="#__codelineno-177-2"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="p">)</span>               <span class="c1"># Also &lt;Path&gt;.read/write_text/bytes().</span>
</code></pre></div>
<h2 id="os-commands">OS Commands<a class="headerlink" href="#os-commands" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-178-1" name="__codelineno-178-1" href="#__codelineno-178-1"></a><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">shutil</span><span class="o">,</span> <span class="nn">subprocess</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-179-1" name="__codelineno-179-1" href="#__codelineno-179-1"></a><span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Changes the current working directory.</span>
<a id="__codelineno-179-2" name="__codelineno-179-2" href="#__codelineno-179-2"></a><span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mo">0o777</span><span class="p">)</span>        <span class="c1"># Creates a directory. Permissions are in octal.</span>
<a id="__codelineno-179-3" name="__codelineno-179-3" href="#__codelineno-179-3"></a><span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mo">0o777</span><span class="p">)</span>     <span class="c1"># Creates all path&#39;s dirs. Also `exist_ok=False`.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-180-1" name="__codelineno-180-1" href="#__codelineno-180-1"></a><span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>               <span class="c1"># Copies the file. &#39;to&#39; can exist or be a dir.</span>
<a id="__codelineno-180-2" name="__codelineno-180-2" href="#__codelineno-180-2"></a><span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>              <span class="c1"># Also copies creation and modification time.</span>
<a id="__codelineno-180-3" name="__codelineno-180-3" href="#__codelineno-180-3"></a><span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>           <span class="c1"># Copies the directory. &#39;to&#39; must not exist.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-181-1" name="__codelineno-181-1" href="#__codelineno-181-1"></a><span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>                 <span class="c1"># Renames/moves the file or directory.</span>
<a id="__codelineno-181-2" name="__codelineno-181-2" href="#__codelineno-181-2"></a><span class="n">os</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>                <span class="c1"># Same, but overwrites file &#39;to&#39; even on Windows.</span>
<a id="__codelineno-181-3" name="__codelineno-181-3" href="#__codelineno-181-3"></a><span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>               <span class="c1"># Rename() that moves into &#39;to&#39; if it&#39;s a dir.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-182-1" name="__codelineno-182-1" href="#__codelineno-182-1"></a><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                   <span class="c1"># Deletes the file.</span>
<a id="__codelineno-182-2" name="__codelineno-182-2" href="#__codelineno-182-2"></a><span class="n">os</span><span class="o">.</span><span class="n">rmdir</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Deletes the empty directory.</span>
<a id="__codelineno-182-3" name="__codelineno-182-3" href="#__codelineno-182-3"></a><span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>               <span class="c1"># Deletes the directory.</span>
</code></pre></div>
* <strong>Paths can be either strings, Paths or DirEntry objects.</strong>
* <strong>Functions report OS related errors by raising either OSError or one of its <a href="#exceptions-1">subclasses</a>.</strong></p>
<h3 id="shell-commands">Shell Commands<a class="headerlink" href="#shell-commands" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-183-1" name="__codelineno-183-1" href="#__codelineno-183-1"></a><span class="o">&lt;</span><span class="n">pipe</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s1">&#39;&lt;command&gt;&#39;</span><span class="p">)</span>      <span class="c1"># Executes command in sh/cmd. Returns its stdout pipe.</span>
<a id="__codelineno-183-2" name="__codelineno-183-2" href="#__codelineno-183-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">pipe</span><span class="o">&gt;.</span><span class="n">read</span><span class="p">(</span><span class="n">size</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>       <span class="c1"># Reads &#39;size&#39; chars or until EOF. Also readline/s().</span>
<a id="__codelineno-183-3" name="__codelineno-183-3" href="#__codelineno-183-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">pipe</span><span class="o">&gt;.</span><span class="n">close</span><span class="p">()</span>             <span class="c1"># Closes the pipe. Returns None on success (returncode 0).</span>
</code></pre></div>
<h4 id="sends-1-1-to-the-basic-calculator-and-captures-its-output">Sends '1 + 1' to the basic calculator and captures its output:<a class="headerlink" href="#sends-1-1-to-the-basic-calculator-and-captures-its-output" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-184-1" name="__codelineno-184-1" href="#__codelineno-184-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;bc&#39;</span><span class="p">,</span> <span class="nb">input</span><span class="o">=</span><span class="s1">&#39;1 + 1</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-184-2" name="__codelineno-184-2" href="#__codelineno-184-2"></a><span class="n">CompletedProcess</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="s1">&#39;bc&#39;</span><span class="p">,</span> <span class="n">returncode</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="s1">&#39;2</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</code></pre></div>
<h4 id="sends-testin-to-the-basic-calculator-running-in-standard-mode-and-saves-its-output-to-testout">Sends test.in to the basic calculator running in standard mode and saves its output to test.out:<a class="headerlink" href="#sends-testin-to-the-basic-calculator-running-in-standard-mode-and-saves-its-output-to-testout" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-185-1" name="__codelineno-185-1" href="#__codelineno-185-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">shlex</span> <span class="kn">import</span> <span class="n">split</span>
<a id="__codelineno-185-2" name="__codelineno-185-2" href="#__codelineno-185-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s1">&#39;echo 1 + 1 &gt; test.in&#39;</span><span class="p">)</span>
<a id="__codelineno-185-3" name="__codelineno-185-3" href="#__codelineno-185-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;bc -s&#39;</span><span class="p">),</span> <span class="n">stdin</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.in&#39;</span><span class="p">),</span> <span class="n">stdout</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.out&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">))</span>
<a id="__codelineno-185-4" name="__codelineno-185-4" href="#__codelineno-185-4"></a><span class="n">CompletedProcess</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;bc&#39;</span><span class="p">,</span> <span class="s1">&#39;-s&#39;</span><span class="p">],</span> <span class="n">returncode</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-185-5" name="__codelineno-185-5" href="#__codelineno-185-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.out&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<a id="__codelineno-185-6" name="__codelineno-185-6" href="#__codelineno-185-6"></a><span class="s1">&#39;2</span><span class="se">\n</span><span class="s1">&#39;</span>
</code></pre></div>
<h2 id="json">JSON<a class="headerlink" href="#json" title="Permanent link">&para;</a></h2>
<p><strong>Text file format for storing collections of strings and numbers.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-186-1" name="__codelineno-186-1" href="#__codelineno-186-1"></a><span class="kn">import</span> <span class="nn">json</span>
<a id="__codelineno-186-2" name="__codelineno-186-2" href="#__codelineno-186-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Converts object to JSON string.</span>
<a id="__codelineno-186-3" name="__codelineno-186-3" href="#__codelineno-186-3"></a><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># Converts JSON string to object.</span>
</code></pre></div>
<h3 id="read-object-from-json-file">Read Object from JSON File<a class="headerlink" href="#read-object-from-json-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-187-1" name="__codelineno-187-1" href="#__codelineno-187-1"></a><span class="k">def</span> <span class="nf">read_json_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-187-2" name="__codelineno-187-2" href="#__codelineno-187-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-187-3" name="__codelineno-187-3" href="#__codelineno-187-3"></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</code></pre></div>
<h3 id="write-object-to-json-file">Write Object to JSON File<a class="headerlink" href="#write-object-to-json-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-188-1" name="__codelineno-188-1" href="#__codelineno-188-1"></a><span class="k">def</span> <span class="nf">write_to_json_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">an_object</span><span class="p">):</span>
<a id="__codelineno-188-2" name="__codelineno-188-2" href="#__codelineno-188-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-188-3" name="__codelineno-188-3" href="#__codelineno-188-3"></a>        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">an_object</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<h2 id="pickle">Pickle<a class="headerlink" href="#pickle" title="Permanent link">&para;</a></h2>
<p><strong>Binary file format for storing Python objects.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-189-1" name="__codelineno-189-1" href="#__codelineno-189-1"></a><span class="kn">import</span> <span class="nn">pickle</span>
<a id="__codelineno-189-2" name="__codelineno-189-2" href="#__codelineno-189-2"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>   <span class="c1"># Converts object to bytes object.</span>
<a id="__codelineno-189-3" name="__codelineno-189-3" href="#__codelineno-189-3"></a><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Converts bytes object to object.</span>
</code></pre></div>
<h3 id="read-object-from-file">Read Object from File<a class="headerlink" href="#read-object-from-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-190-1" name="__codelineno-190-1" href="#__codelineno-190-1"></a><span class="k">def</span> <span class="nf">read_pickle_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-190-2" name="__codelineno-190-2" href="#__codelineno-190-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-190-3" name="__codelineno-190-3" href="#__codelineno-190-3"></a>        <span class="k">return</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</code></pre></div>
<h3 id="write-object-to-file">Write Object to File<a class="headerlink" href="#write-object-to-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-191-1" name="__codelineno-191-1" href="#__codelineno-191-1"></a><span class="k">def</span> <span class="nf">write_to_pickle_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">an_object</span><span class="p">):</span>
<a id="__codelineno-191-2" name="__codelineno-191-2" href="#__codelineno-191-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-191-3" name="__codelineno-191-3" href="#__codelineno-191-3"></a>        <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">an_object</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
</code></pre></div>
<h2 id="csv">CSV<a class="headerlink" href="#csv" title="Permanent link">&para;</a></h2>
<p><strong>Text file format for storing spreadsheets.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-192-1" name="__codelineno-192-1" href="#__codelineno-192-1"></a><span class="kn">import</span> <span class="nn">csv</span>
</code></pre></div>
<h3 id="read">Read<a class="headerlink" href="#read" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-193-1" name="__codelineno-193-1" href="#__codelineno-193-1"></a><span class="o">&lt;</span><span class="n">reader</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Also: `dialect=&#39;excel&#39;, delimiter=&#39;,&#39;`.</span>
<a id="__codelineno-193-2" name="__codelineno-193-2" href="#__codelineno-193-2"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="o">&lt;</span><span class="n">reader</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Returns next row as a list of strings.</span>
<a id="__codelineno-193-3" name="__codelineno-193-3" href="#__codelineno-193-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="n">reader</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Returns a list of remaining rows.</span>
</code></pre></div>
* <strong>File must be opened with a <code>'newline=""'</code> argument, or newlines embedded inside quoted fields will not be interpreted correctly!</strong>
* <strong>To print the spreadsheet to the console use <a href="#table">Tabulate</a> library.</strong>
* <strong>For XML and binary Excel files (xlsx, xlsm and xlsb) use <a href="#dataframe-plot-encode-decode">Pandas</a> library.</strong>
* <strong>Reader accepts any iterator of strings, not just files.</strong></p>
<h3 id="write">Write<a class="headerlink" href="#write" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-194-1" name="__codelineno-194-1" href="#__codelineno-194-1"></a><span class="o">&lt;</span><span class="n">writer</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Also: `dialect=&#39;excel&#39;, delimiter=&#39;,&#39;`.</span>
<a id="__codelineno-194-2" name="__codelineno-194-2" href="#__codelineno-194-2"></a><span class="o">&lt;</span><span class="n">writer</span><span class="o">&gt;.</span><span class="n">writerow</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Encodes objects using `str(&lt;el&gt;)`.</span>
<a id="__codelineno-194-3" name="__codelineno-194-3" href="#__codelineno-194-3"></a><span class="o">&lt;</span><span class="n">writer</span><span class="o">&gt;.</span><span class="n">writerows</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_coll</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Appends multiple rows.</span>
</code></pre></div>
* <strong>File must be opened with a <code>'newline=""'</code> argument, or '\r' will be added in front of every '\n' on platforms that use '\r\n' line endings!</strong>
* <strong>Open existing file with <code>'mode="w"'</code> to overwrite it or <code>'mode="a"'</code> to append to it.</strong></p>
<h3 id="parameters">Parameters<a class="headerlink" href="#parameters" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>'dialect'</code> - Master parameter that sets the default values. String or a 'csv.Dialect' object.</strong></li>
<li><strong><code>'delimiter'</code> - A one-character string used to separate fields.</strong></li>
<li><strong><code>'quotechar'</code> - Character for quoting fields that contain special characters.</strong></li>
<li><strong><code>'doublequote'</code> - Whether quotechars inside fields are/get doubled or escaped.</strong></li>
<li><strong><code>'skipinitialspace'</code> - Is space character at the start of the field stripped by the reader.</strong></li>
<li><strong><code>'lineterminator'</code> - How writer terminates rows. Reader is hardcoded to '\n', '\r', '\r\n'.</strong></li>
<li><strong><code>'quoting'</code> - 0: As necessary, 1: All, 2: All but numbers which are read as floats, 3: None.</strong></li>
<li><strong><code>'escapechar'</code> - Character for escaping quotechars if 'doublequote' is False.</strong></li>
</ul>
<h3 id="dialects">Dialects<a class="headerlink" href="#dialects" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-195-1" name="__codelineno-195-1" href="#__codelineno-195-1"></a>+------------------+--------------+--------------+--------------+
<a id="__codelineno-195-2" name="__codelineno-195-2" href="#__codelineno-195-2"></a>|                  |     excel    |   excel-tab  |     unix     |
<a id="__codelineno-195-3" name="__codelineno-195-3" href="#__codelineno-195-3"></a>+------------------+--------------+--------------+--------------+
<a id="__codelineno-195-4" name="__codelineno-195-4" href="#__codelineno-195-4"></a>| delimiter        |       &#39;,&#39;    |      &#39;\t&#39;    |       &#39;,&#39;    |
<a id="__codelineno-195-5" name="__codelineno-195-5" href="#__codelineno-195-5"></a>| quotechar        |       &#39;&quot;&#39;    |       &#39;&quot;&#39;    |       &#39;&quot;&#39;    |
<a id="__codelineno-195-6" name="__codelineno-195-6" href="#__codelineno-195-6"></a>| doublequote      |      True    |      True    |      True    |
<a id="__codelineno-195-7" name="__codelineno-195-7" href="#__codelineno-195-7"></a>| skipinitialspace |     False    |     False    |     False    |
<a id="__codelineno-195-8" name="__codelineno-195-8" href="#__codelineno-195-8"></a>| lineterminator   |    &#39;\r\n&#39;    |    &#39;\r\n&#39;    |      &#39;\n&#39;    |
<a id="__codelineno-195-9" name="__codelineno-195-9" href="#__codelineno-195-9"></a>| quoting          |         0    |         0    |         1    |
<a id="__codelineno-195-10" name="__codelineno-195-10" href="#__codelineno-195-10"></a>| escapechar       |      None    |      None    |      None    |
<a id="__codelineno-195-11" name="__codelineno-195-11" href="#__codelineno-195-11"></a>+------------------+--------------+--------------+--------------+
</code></pre></div>
<h3 id="read-rows-from-csv-file">Read Rows from CSV File<a class="headerlink" href="#read-rows-from-csv-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-196-1" name="__codelineno-196-1" href="#__codelineno-196-1"></a><span class="k">def</span> <span class="nf">read_csv_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s1">&#39;excel&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
<a id="__codelineno-196-2" name="__codelineno-196-2" href="#__codelineno-196-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-196-3" name="__codelineno-196-3" href="#__codelineno-196-3"></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">dialect</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">))</span>
</code></pre></div>
<h3 id="write-rows-to-csv-file">Write Rows to CSV File<a class="headerlink" href="#write-rows-to-csv-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-197-1" name="__codelineno-197-1" href="#__codelineno-197-1"></a><span class="k">def</span> <span class="nf">write_to_csv_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">rows</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s1">&#39;excel&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
<a id="__codelineno-197-2" name="__codelineno-197-2" href="#__codelineno-197-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-197-3" name="__codelineno-197-3" href="#__codelineno-197-3"></a>        <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">dialect</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
<a id="__codelineno-197-4" name="__codelineno-197-4" href="#__codelineno-197-4"></a>        <span class="n">writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
</code></pre></div>
<h2 id="sqlite">SQLite<a class="headerlink" href="#sqlite" title="Permanent link">&para;</a></h2>
<p><strong>A server-less database engine that stores each database into a separate file.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-198-1" name="__codelineno-198-1" href="#__codelineno-198-1"></a><span class="kn">import</span> <span class="nn">sqlite3</span>
<a id="__codelineno-198-2" name="__codelineno-198-2" href="#__codelineno-198-2"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Opens existing or new file. Also &#39;:memory:&#39;.</span>
<a id="__codelineno-198-3" name="__codelineno-198-3" href="#__codelineno-198-3"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">close</span><span class="p">()</span>                                  <span class="c1"># Closes the connection.</span>
</code></pre></div>
<h3 id="read_1">Read<a class="headerlink" href="#read_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-199-1" name="__codelineno-199-1" href="#__codelineno-199-1"></a><span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">)</span>            <span class="c1"># Can raise a subclass of sqlite3.Error.</span>
<a id="__codelineno-199-2" name="__codelineno-199-2" href="#__codelineno-199-2"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;.</span><span class="n">fetchone</span><span class="p">()</span>                  <span class="c1"># Returns next row. Also next(&lt;cursor&gt;).</span>
<a id="__codelineno-199-3" name="__codelineno-199-3" href="#__codelineno-199-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;.</span><span class="n">fetchall</span><span class="p">()</span>                  <span class="c1"># Returns remaining rows. Also list(&lt;cursor&gt;).</span>
</code></pre></div>
<h3 id="write_1">Write<a class="headerlink" href="#write_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-200-1" name="__codelineno-200-1" href="#__codelineno-200-1"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">)</span>                       <span class="c1"># Can raise a subclass of sqlite3.Error.</span>
<a id="__codelineno-200-2" name="__codelineno-200-2" href="#__codelineno-200-2"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">commit</span><span class="p">()</span>                                 <span class="c1"># Saves all changes since the last commit.</span>
<a id="__codelineno-200-3" name="__codelineno-200-3" href="#__codelineno-200-3"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">rollback</span><span class="p">()</span>                               <span class="c1"># Discards all changes since the last commit.</span>
</code></pre></div>
<h4 id="or">Or:<a class="headerlink" href="#or" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-201-1" name="__codelineno-201-1" href="#__codelineno-201-1"></a><span class="k">with</span> <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span><span class="p">:</span>                                    <span class="c1"># Exits the block with commit() or rollback(),</span>
<a id="__codelineno-201-2" name="__codelineno-201-2" href="#__codelineno-201-2"></a>    <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">)</span>                   <span class="c1"># depending on whether any exception occurred.</span>
</code></pre></div>
<h3 id="placeholders">Placeholders<a class="headerlink" href="#placeholders" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-202-1" name="__codelineno-202-1" href="#__codelineno-202-1"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">/</span><span class="nb">tuple</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Replaces &#39;?&#39;s in query with values.</span>
<a id="__codelineno-202-2" name="__codelineno-202-2" href="#__codelineno-202-2"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">/</span><span class="n">namedtuple</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Replaces &#39;:&lt;key&gt;&#39;s with values.</span>
<a id="__codelineno-202-3" name="__codelineno-202-3" href="#__codelineno-202-3"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">executemany</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">coll_of_above</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Runs execute() multiple times.</span>
</code></pre></div>
* <strong>Passed values can be of type str, int, float, bytes, None, bool, datetime.date or datetime.datetime.</strong>
* <strong>Bools will be stored and returned as ints and dates as <a href="#encode">ISO formatted strings</a>.</strong></p>
<h3 id="example_1">Example<a class="headerlink" href="#example_1" title="Permanent link">&para;</a></h3>
<p><strong>Values are not actually saved in this example because <code>'conn.commit()'</code> is omitted!</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-203-1" name="__codelineno-203-1" href="#__codelineno-203-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;test.db&#39;</span><span class="p">)</span>
<a id="__codelineno-203-2" name="__codelineno-203-2" href="#__codelineno-203-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;CREATE TABLE person (person_id INTEGER PRIMARY KEY, name, height)&#39;</span><span class="p">)</span>
<a id="__codelineno-203-3" name="__codelineno-203-3" href="#__codelineno-203-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;INSERT INTO person VALUES (NULL, ?, ?)&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;Jean-Luc&#39;</span><span class="p">,</span> <span class="mi">187</span><span class="p">))</span><span class="o">.</span><span class="n">lastrowid</span>
<a id="__codelineno-203-4" name="__codelineno-203-4" href="#__codelineno-203-4"></a><span class="mi">1</span>
<a id="__codelineno-203-5" name="__codelineno-203-5" href="#__codelineno-203-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM person&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
<a id="__codelineno-203-6" name="__codelineno-203-6" href="#__codelineno-203-6"></a><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Jean-Luc&#39;</span><span class="p">,</span> <span class="mi">187</span><span class="p">)]</span>
</code></pre></div></p>
<h3 id="sqlalchemy">SqlAlchemy<a class="headerlink" href="#sqlalchemy" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-204-1" name="__codelineno-204-1" href="#__codelineno-204-1"></a><span class="c1"># $ pip3 install sqlalchemy</span>
<a id="__codelineno-204-2" name="__codelineno-204-2" href="#__codelineno-204-2"></a><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span><span class="p">,</span> <span class="n">text</span>
<a id="__codelineno-204-3" name="__codelineno-204-3" href="#__codelineno-204-3"></a><span class="o">&lt;</span><span class="n">engine</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&#39;&lt;url&gt;&#39;</span><span class="p">)</span>               <span class="c1"># Url: &#39;dialect://user:password@host/dbname&#39;.</span>
<a id="__codelineno-204-4" name="__codelineno-204-4" href="#__codelineno-204-4"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">engine</span><span class="o">&gt;.</span><span class="n">connect</span><span class="p">()</span>                   <span class="c1"># Creates a connection. Also &lt;conn&gt;.close().</span>
<a id="__codelineno-204-5" name="__codelineno-204-5" href="#__codelineno-204-5"></a><span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">execute</span><span class="p">(</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">),</span> <span class="err">…</span><span class="p">)</span>   <span class="c1"># Replaces &#39;:&lt;key&gt;&#39;s with keyword arguments.</span>
<a id="__codelineno-204-6" name="__codelineno-204-6" href="#__codelineno-204-6"></a><span class="k">with</span> <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">begin</span><span class="p">():</span> <span class="o">...</span>                        <span class="c1"># Exits the block with commit or rollback.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-205-1" name="__codelineno-205-1" href="#__codelineno-205-1"></a>+------------+--------------+----------+----------------------------------+
<a id="__codelineno-205-2" name="__codelineno-205-2" href="#__codelineno-205-2"></a>| Dialect    | pip3 install | import   |           Dependencies           |
<a id="__codelineno-205-3" name="__codelineno-205-3" href="#__codelineno-205-3"></a>+------------+--------------+----------+----------------------------------+
<a id="__codelineno-205-4" name="__codelineno-205-4" href="#__codelineno-205-4"></a>| mysql      | mysqlclient  | MySQLdb  | www.pypi.org/project/mysqlclient |
<a id="__codelineno-205-5" name="__codelineno-205-5" href="#__codelineno-205-5"></a>| postgresql | psycopg2     | psycopg2 | www.pypi.org/project/psycopg2    |
<a id="__codelineno-205-6" name="__codelineno-205-6" href="#__codelineno-205-6"></a>| mssql      | pyodbc       | pyodbc   | www.pypi.org/project/pyodbc      |
<a id="__codelineno-205-7" name="__codelineno-205-7" href="#__codelineno-205-7"></a>| oracle     | oracledb     | oracledb | www.pypi.org/project/oracledb    |
<a id="__codelineno-205-8" name="__codelineno-205-8" href="#__codelineno-205-8"></a>+------------+--------------+----------+----------------------------------+
</code></pre></div>
<h2 id="bytes">Bytes<a class="headerlink" href="#bytes" title="Permanent link">&para;</a></h2>
<p><strong>Bytes object is an immutable sequence of single bytes. Mutable version is called bytearray.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-206-1" name="__codelineno-206-1" href="#__codelineno-206-1"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&lt;str&gt;&#39;</span>                          <span class="c1"># Only accepts ASCII characters and \x00-\xff.</span>
<a id="__codelineno-206-2" name="__codelineno-206-2" href="#__codelineno-206-2"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">]</span>                  <span class="c1"># Returns an int in range from 0 to 255.</span>
<a id="__codelineno-206-3" name="__codelineno-206-3" href="#__codelineno-206-3"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="nb">slice</span><span class="o">&gt;</span><span class="p">]</span>                  <span class="c1"># Returns bytes even if it has only one element.</span>
<a id="__codelineno-206-4" name="__codelineno-206-4" href="#__codelineno-206-4"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;.</span><span class="n">join</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_bytes</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Joins elements using bytes as a separator.</span>
</code></pre></div>
<h3 id="encode_1">Encode<a class="headerlink" href="#encode_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-207-1" name="__codelineno-207-1" href="#__codelineno-207-1"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_ints</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Ints must be in range from 0 to 255.</span>
<a id="__codelineno-207-2" name="__codelineno-207-2" href="#__codelineno-207-2"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>             <span class="c1"># Or: &lt;str&gt;.encode(&#39;utf-8&#39;)</span>
<a id="__codelineno-207-3" name="__codelineno-207-3" href="#__codelineno-207-3"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;.</span><span class="n">to_bytes</span><span class="p">(</span><span class="n">n_bytes</span><span class="p">,</span> <span class="err">…</span><span class="p">)</span>        <span class="c1"># `byteorder=&#39;big/little&#39;, signed=False`.</span>
<a id="__codelineno-207-4" name="__codelineno-207-4" href="#__codelineno-207-4"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="s1">&#39;&lt;hex&gt;&#39;</span><span class="p">)</span>            <span class="c1"># Hex pairs can be separated by whitespaces.</span>
</code></pre></div>
<h3 id="decode_1">Decode<a class="headerlink" href="#decode_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-208-1" name="__codelineno-208-1" href="#__codelineno-208-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>                     <span class="c1"># Returns ints in range from 0 to 255.</span>
<a id="__codelineno-208-2" name="__codelineno-208-2" href="#__codelineno-208-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>             <span class="c1"># Or: &lt;bytes&gt;.decode(&#39;utf-8&#39;)</span>
<a id="__codelineno-208-3" name="__codelineno-208-3" href="#__codelineno-208-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">,</span> <span class="err">…</span><span class="p">)</span>        <span class="c1"># `byteorder=&#39;big/little&#39;, signed=False`.</span>
<a id="__codelineno-208-4" name="__codelineno-208-4" href="#__codelineno-208-4"></a><span class="s1">&#39;&lt;hex&gt;&#39;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;.</span><span class="n">hex</span><span class="p">()</span>                     <span class="c1"># Returns hex pairs. Accepts `sep=&lt;str&gt;`.</span>
</code></pre></div>
<h3 id="read-bytes-from-file">Read Bytes from File<a class="headerlink" href="#read-bytes-from-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-209-1" name="__codelineno-209-1" href="#__codelineno-209-1"></a><span class="k">def</span> <span class="nf">read_bytes</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-209-2" name="__codelineno-209-2" href="#__codelineno-209-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-209-3" name="__codelineno-209-3" href="#__codelineno-209-3"></a>        <span class="k">return</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div>
<h3 id="write-bytes-to-file">Write Bytes to File<a class="headerlink" href="#write-bytes-to-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-210-1" name="__codelineno-210-1" href="#__codelineno-210-1"></a><span class="k">def</span> <span class="nf">write_bytes</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">bytes_obj</span><span class="p">):</span>
<a id="__codelineno-210-2" name="__codelineno-210-2" href="#__codelineno-210-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-210-3" name="__codelineno-210-3" href="#__codelineno-210-3"></a>        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">bytes_obj</span><span class="p">)</span>
</code></pre></div>
<h2 id="struct">Struct<a class="headerlink" href="#struct" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Module that performs conversions between a sequence of numbers and a bytes object.</strong></li>
<li><strong>System’s type sizes, byte order, and alignment rules are used by default.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-211-1" name="__codelineno-211-1" href="#__codelineno-211-1"></a><span class="kn">from</span> <span class="nn">struct</span> <span class="kn">import</span> <span class="n">pack</span><span class="p">,</span> <span class="n">unpack</span>
<a id="__codelineno-211-2" name="__codelineno-211-2" href="#__codelineno-211-2"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pack</span><span class="p">(</span><span class="s1">&#39;&lt;format&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">el_1</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>  <span class="c1"># Packages arguments or raises struct.error.</span>
<a id="__codelineno-211-3" name="__codelineno-211-3" href="#__codelineno-211-3"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">unpack</span><span class="p">(</span><span class="s1">&#39;&lt;format&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Use iter_unpack() for iterator of tuples.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-212-1" name="__codelineno-212-1" href="#__codelineno-212-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">pack</span><span class="p">(</span><span class="s1">&#39;&gt;hhl&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-212-2" name="__codelineno-212-2" href="#__codelineno-212-2"></a><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x00\x01\x00\x02\x00\x00\x00\x03</span><span class="s1">&#39;</span>
<a id="__codelineno-212-3" name="__codelineno-212-3" href="#__codelineno-212-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">unpack</span><span class="p">(</span><span class="s1">&#39;&gt;hhl&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x00\x01\x00\x02\x00\x00\x00\x03</span><span class="s1">&#39;</span><span class="p">)</span>
<a id="__codelineno-212-4" name="__codelineno-212-4" href="#__codelineno-212-4"></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<h3 id="format_2">Format<a class="headerlink" href="#format_2" title="Permanent link">&para;</a></h3>
<h4 id="for-standard-type-sizes-and-manual-alignment-padding-start-format-string-with">For standard type sizes and manual alignment (padding) start format string with:<a class="headerlink" href="#for-standard-type-sizes-and-manual-alignment-padding-start-format-string-with" title="Permanent link">&para;</a></h4>
<ul>
<li><strong><code>'='</code> - System's byte order (usually little-endian).</strong></li>
<li><strong><code>'&lt;'</code> - Little-endian.</strong></li>
<li><strong><code>'&gt;'</code> - Big-endian (also <code>'!'</code>).</strong></li>
</ul>
<h4 id="besides-numbers-pack-and-unpack-also-support-bytes-objects-as-part-of-the-sequence">Besides numbers, pack() and unpack() also support bytes objects as part of the sequence:<a class="headerlink" href="#besides-numbers-pack-and-unpack-also-support-bytes-objects-as-part-of-the-sequence" title="Permanent link">&para;</a></h4>
<ul>
<li><strong><code>'c'</code> - A bytes object with a single element. For pad byte use <code>'x'</code>.</strong></li>
<li><strong><code>'&lt;n&gt;s'</code> - A bytes object with n elements.</strong></li>
</ul>
<h4 id="integer-types-use-a-capital-letter-for-unsigned-type-minimum-and-standard-sizes-are-in-brackets">Integer types. Use a capital letter for unsigned type. Minimum and standard sizes are in brackets:<a class="headerlink" href="#integer-types-use-a-capital-letter-for-unsigned-type-minimum-and-standard-sizes-are-in-brackets" title="Permanent link">&para;</a></h4>
<ul>
<li><strong><code>'b'</code> - char (1/1)</strong></li>
<li><strong><code>'h'</code> - short (2/2)</strong></li>
<li><strong><code>'i'</code> - int (2/4)</strong></li>
<li><strong><code>'l'</code> - long (4/4)</strong></li>
<li><strong><code>'q'</code> - long long (8/8)</strong></li>
</ul>
<h4 id="floating-point-types-struct-always-uses-standard-sizes">Floating point types (struct always uses standard sizes):<a class="headerlink" href="#floating-point-types-struct-always-uses-standard-sizes" title="Permanent link">&para;</a></h4>
<ul>
<li><strong><code>'f'</code> - float (4/4)</strong></li>
<li><strong><code>'d'</code> - double (8/8)</strong></li>
</ul>
<h2 id="array">Array<a class="headerlink" href="#array" title="Permanent link">&para;</a></h2>
<p><strong>List that can only hold numbers of a predefined type. Available types and their minimum sizes in bytes are listed above. Type sizes and byte order are always determined by the system, however bytes of each element can be swapped with byteswap() method.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-213-1" name="__codelineno-213-1" href="#__codelineno-213-1"></a><span class="kn">from</span> <span class="nn">array</span> <span class="kn">import</span> <span class="n">array</span>
<a id="__codelineno-213-2" name="__codelineno-213-2" href="#__codelineno-213-2"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s1">&#39;&lt;typecode&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Array from collection of numbers.</span>
<a id="__codelineno-213-3" name="__codelineno-213-3" href="#__codelineno-213-3"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s1">&#39;&lt;typecode&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Array from bytes object.</span>
<a id="__codelineno-213-4" name="__codelineno-213-4" href="#__codelineno-213-4"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s1">&#39;&lt;typecode&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Treats array as a sequence of numbers.</span>
<a id="__codelineno-213-5" name="__codelineno-213-5" href="#__codelineno-213-5"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;.</span><span class="n">fromfile</span><span class="p">(</span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">n_items</span><span class="p">)</span>              <span class="c1"># Appends items. Raises EOFError on end.</span>
<a id="__codelineno-213-6" name="__codelineno-213-6" href="#__codelineno-213-6"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Or: &lt;array&gt;.tobytes()</span>
<a id="__codelineno-213-7" name="__codelineno-213-7" href="#__codelineno-213-7"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">write</span><span class="p">(</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Writes array to the binary file.</span>
</code></pre></div>
<h2 id="memory-view">Memory View<a class="headerlink" href="#memory-view" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>A sequence object that points to the memory of another bytes-like object.</strong></li>
<li><strong>Each element can reference a single or multiple consecutive bytes, depending on format.</strong></li>
<li><strong>Order and number of elements can be changed with slicing.</strong></li>
<li><strong>Casting only works between char and other types and uses system's sizes.</strong></li>
<li><strong>Byte order is always determined by the system.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-214-1" name="__codelineno-214-1" href="#__codelineno-214-1"></a><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">memoryview</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">/</span><span class="nb">bytearray</span><span class="o">/</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Immutable if bytes, else mutable.</span>
<a id="__codelineno-214-2" name="__codelineno-214-2" href="#__codelineno-214-2"></a><span class="o">&lt;</span><span class="n">real</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">]</span>                     <span class="c1"># Returns an int or a float.</span>
<a id="__codelineno-214-3" name="__codelineno-214-3" href="#__codelineno-214-3"></a><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="nb">slice</span><span class="o">&gt;</span><span class="p">]</span>                     <span class="c1"># Mview with rearranged elements.</span>
<a id="__codelineno-214-4" name="__codelineno-214-4" href="#__codelineno-214-4"></a><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;.</span><span class="n">cast</span><span class="p">(</span><span class="s1">&#39;&lt;typecode&gt;&#39;</span><span class="p">)</span>           <span class="c1"># Casts memoryview to the new format.</span>
<a id="__codelineno-214-5" name="__codelineno-214-5" href="#__codelineno-214-5"></a><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;.</span><span class="n">release</span><span class="p">()</span>                              <span class="c1"># Releases the object&#39;s memory buffer.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-215-1" name="__codelineno-215-1" href="#__codelineno-215-1"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Returns a new bytes object.</span>
<a id="__codelineno-215-2" name="__codelineno-215-2" href="#__codelineno-215-2"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;.</span><span class="n">join</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_mviews</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Joins mviews using bytes object as sep.</span>
<a id="__codelineno-215-3" name="__codelineno-215-3" href="#__codelineno-215-3"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s1">&#39;&lt;typecode&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Treats mview as a sequence of numbers.</span>
<a id="__codelineno-215-4" name="__codelineno-215-4" href="#__codelineno-215-4"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">write</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Writes mview to the binary file.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-216-1" name="__codelineno-216-1" href="#__codelineno-216-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">)</span>                        <span class="c1"># Returns a list of ints or floats.</span>
<a id="__codelineno-216-2" name="__codelineno-216-2" href="#__codelineno-216-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>                <span class="c1"># Treats mview as a bytes object.</span>
<a id="__codelineno-216-3" name="__codelineno-216-3" href="#__codelineno-216-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">,</span> <span class="err">…</span><span class="p">)</span>           <span class="c1"># `byteorder=&#39;big/little&#39;, signed=False`.</span>
<a id="__codelineno-216-4" name="__codelineno-216-4" href="#__codelineno-216-4"></a><span class="s1">&#39;&lt;hex&gt;&#39;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;.</span><span class="n">hex</span><span class="p">()</span>                        <span class="c1"># Treats mview as a bytes object.</span>
</code></pre></div>
<h2 id="deque">Deque<a class="headerlink" href="#deque" title="Permanent link">&para;</a></h2>
<p><strong>A thread-safe list with efficient appends and pops from either side. Pronounced "deck".</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-217-1" name="__codelineno-217-1" href="#__codelineno-217-1"></a><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
<a id="__codelineno-217-2" name="__codelineno-217-2" href="#__codelineno-217-2"></a><span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                  <span class="c1"># Also `maxlen=None`.</span>
<a id="__codelineno-217-3" name="__codelineno-217-3" href="#__codelineno-217-3"></a><span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;.</span><span class="n">appendleft</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Opposite element is dropped if full.</span>
<a id="__codelineno-217-4" name="__codelineno-217-4" href="#__codelineno-217-4"></a><span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;.</span><span class="n">extendleft</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>               <span class="c1"># Collection gets reversed.</span>
<a id="__codelineno-217-5" name="__codelineno-217-5" href="#__codelineno-217-5"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;.</span><span class="n">popleft</span><span class="p">()</span>                       <span class="c1"># Raises IndexError if empty.</span>
<a id="__codelineno-217-6" name="__codelineno-217-6" href="#__codelineno-217-6"></a><span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;.</span><span class="n">rotate</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>                            <span class="c1"># Rotates elements to the right.</span>
</code></pre></div>
<h2 id="threading">Threading<a class="headerlink" href="#threading" title="Permanent link">&para;</a></h2>
<p><strong>CPython interpreter can only run a single thread at a time. Using multiple threads won't result in a faster execution, unless at least one of the threads contains an I/O operation.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-218-1" name="__codelineno-218-1" href="#__codelineno-218-1"></a><span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Thread</span><span class="p">,</span> <span class="n">Timer</span><span class="p">,</span> <span class="n">RLock</span><span class="p">,</span> <span class="n">Semaphore</span><span class="p">,</span> <span class="n">Event</span><span class="p">,</span> <span class="n">Barrier</span>
<a id="__codelineno-218-2" name="__codelineno-218-2" href="#__codelineno-218-2"></a><span class="kn">from</span> <span class="nn">concurrent.futures</span> <span class="kn">import</span> <span class="n">ThreadPoolExecutor</span><span class="p">,</span> <span class="n">as_completed</span>
</code></pre></div></p>
<h3 id="thread">Thread<a class="headerlink" href="#thread" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-219-1" name="__codelineno-219-1" href="#__codelineno-219-1"></a><span class="o">&lt;</span><span class="n">Thread</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=&lt;</span><span class="n">function</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Use `args=&lt;collection&gt;` to set the arguments.</span>
<a id="__codelineno-219-2" name="__codelineno-219-2" href="#__codelineno-219-2"></a><span class="o">&lt;</span><span class="n">Thread</span><span class="o">&gt;.</span><span class="n">start</span><span class="p">()</span>                               <span class="c1"># Starts the thread.</span>
<a id="__codelineno-219-3" name="__codelineno-219-3" href="#__codelineno-219-3"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Thread</span><span class="o">&gt;.</span><span class="n">is_alive</span><span class="p">()</span>                   <span class="c1"># Checks if the thread has finished executing.</span>
<a id="__codelineno-219-4" name="__codelineno-219-4" href="#__codelineno-219-4"></a><span class="o">&lt;</span><span class="n">Thread</span><span class="o">&gt;.</span><span class="n">join</span><span class="p">()</span>                                <span class="c1"># Waits for the thread to finish.</span>
</code></pre></div>
* <strong>Use <code>'kwargs=&lt;dict&gt;'</code> to pass keyword arguments to the function.</strong>
* <strong>Use <code>'daemon=True'</code>, or the program will not be able to exit while the thread is alive.</strong>
* <strong>To delay thread execution use <code>'Timer(seconds, &lt;func&gt;)'</code> instead of Thread().</strong></p>
<h3 id="lock">Lock<a class="headerlink" href="#lock" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-220-1" name="__codelineno-220-1" href="#__codelineno-220-1"></a><span class="o">&lt;</span><span class="n">lock</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">RLock</span><span class="p">()</span>                               <span class="c1"># Lock that can only be released by acquirer.</span>
<a id="__codelineno-220-2" name="__codelineno-220-2" href="#__codelineno-220-2"></a><span class="o">&lt;</span><span class="n">lock</span><span class="o">&gt;.</span><span class="n">acquire</span><span class="p">()</span>                               <span class="c1"># Waits for the lock to be available.</span>
<a id="__codelineno-220-3" name="__codelineno-220-3" href="#__codelineno-220-3"></a><span class="o">&lt;</span><span class="n">lock</span><span class="o">&gt;.</span><span class="n">release</span><span class="p">()</span>                               <span class="c1"># Makes the lock available again.</span>
</code></pre></div>
<h4 id="or_1">Or:<a class="headerlink" href="#or_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-221-1" name="__codelineno-221-1" href="#__codelineno-221-1"></a><span class="k">with</span> <span class="o">&lt;</span><span class="n">lock</span><span class="o">&gt;</span><span class="p">:</span>                                   <span class="c1"># Enters the block by calling acquire() and</span>
<a id="__codelineno-221-2" name="__codelineno-221-2" href="#__codelineno-221-2"></a>    <span class="o">...</span>                                        <span class="c1"># exits it with release(), even on error.</span>
</code></pre></div>
<h3 id="semaphore-event-barrier">Semaphore, Event, Barrier<a class="headerlink" href="#semaphore-event-barrier" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-222-1" name="__codelineno-222-1" href="#__codelineno-222-1"></a><span class="o">&lt;</span><span class="n">Semaphore</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Semaphore</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>               <span class="c1"># Lock that can be acquired by &#39;value&#39; threads.</span>
<a id="__codelineno-222-2" name="__codelineno-222-2" href="#__codelineno-222-2"></a><span class="o">&lt;</span><span class="n">Event</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="n">Event</span><span class="p">()</span>                          <span class="c1"># Method wait() blocks until set() is called.</span>
<a id="__codelineno-222-3" name="__codelineno-222-3" href="#__codelineno-222-3"></a><span class="o">&lt;</span><span class="n">Barrier</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="n">Barrier</span><span class="p">(</span><span class="n">n_times</span><span class="p">)</span>                 <span class="c1"># Wait() blocks until it&#39;s called n_times.</span>
</code></pre></div>
<h3 id="queue">Queue<a class="headerlink" href="#queue" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-223-1" name="__codelineno-223-1" href="#__codelineno-223-1"></a><span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>               <span class="c1"># A thread-safe first-in-first-out queue.</span>
<a id="__codelineno-223-2" name="__codelineno-223-2" href="#__codelineno-223-2"></a><span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;.</span><span class="n">put</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                              <span class="c1"># Blocks until queue stops being full.</span>
<a id="__codelineno-223-3" name="__codelineno-223-3" href="#__codelineno-223-3"></a><span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;.</span><span class="n">put_nowait</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Raises queue.Full exception if full.</span>
<a id="__codelineno-223-4" name="__codelineno-223-4" href="#__codelineno-223-4"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;.</span><span class="n">get</span><span class="p">()</span>                           <span class="c1"># Blocks until queue stops being empty.</span>
<a id="__codelineno-223-5" name="__codelineno-223-5" href="#__codelineno-223-5"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;.</span><span class="n">get_nowait</span><span class="p">()</span>                    <span class="c1"># Raises queue.Empty exception if empty.</span>
</code></pre></div>
<h3 id="thread-pool-executor">Thread Pool Executor<a class="headerlink" href="#thread-pool-executor" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-224-1" name="__codelineno-224-1" href="#__codelineno-224-1"></a><span class="o">&lt;</span><span class="n">Exec</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># Or: `with ThreadPoolExecutor() as &lt;name&gt;: ...`</span>
<a id="__codelineno-224-2" name="__codelineno-224-2" href="#__codelineno-224-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Exec</span><span class="o">&gt;.</span><span class="n">map</span><span class="p">(</span><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">args_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>     <span class="c1"># Multithreaded and non-lazy map(). Keeps order.</span>
<a id="__codelineno-224-3" name="__codelineno-224-3" href="#__codelineno-224-3"></a><span class="o">&lt;</span><span class="n">Futr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Exec</span><span class="o">&gt;.</span><span class="n">submit</span><span class="p">(</span><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">arg_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>   <span class="c1"># Creates a thread and returns its Future obj.</span>
<a id="__codelineno-224-4" name="__codelineno-224-4" href="#__codelineno-224-4"></a><span class="o">&lt;</span><span class="n">Exec</span><span class="o">&gt;.</span><span class="n">shutdown</span><span class="p">()</span>                              <span class="c1"># Blocks until all threads finish executing.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-225-1" name="__codelineno-225-1" href="#__codelineno-225-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Future</span><span class="o">&gt;.</span><span class="n">done</span><span class="p">()</span>                       <span class="c1"># Checks if the thread has finished executing.</span>
<a id="__codelineno-225-2" name="__codelineno-225-2" href="#__codelineno-225-2"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Future</span><span class="o">&gt;.</span><span class="n">result</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>         <span class="c1"># Waits for thread to finish and returns result.</span>
<a id="__codelineno-225-3" name="__codelineno-225-3" href="#__codelineno-225-3"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Future</span><span class="o">&gt;.</span><span class="n">cancel</span><span class="p">()</span>                     <span class="c1"># Cancels or returns False if running/finished.</span>
<a id="__codelineno-225-4" name="__codelineno-225-4" href="#__codelineno-225-4"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">as_completed</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_Futures</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Next() waits for next completed Future.</span>
</code></pre></div>
* <strong>Map() and as_completed() also accept 'timeout' argument that causes TimeoutError if result isn't available in 'timeout' seconds after next() is called.</strong>
* <strong>Exceptions that happen inside threads are raised when next() is called on map's iterator or when result() is called on a Future. Its exception() method returns exception or None.</strong>
* <strong>ProcessPoolExecutor provides true parallelism, but everything sent to/from workers must be <a href="#pickle">pickable</a>. Queues must be sent using executor's 'initargs' and 'initializer' parameters.</strong></p>
<h2 id="operator">Operator<a class="headerlink" href="#operator" title="Permanent link">&para;</a></h2>
<p><strong>Module of functions that provide the functionality of operators. Functions are ordered by operator precedence, starting with least binding.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-226-1" name="__codelineno-226-1" href="#__codelineno-226-1"></a><span class="kn">import</span> <span class="nn">operator</span> <span class="k">as</span> <span class="nn">op</span>
<a id="__codelineno-226-2" name="__codelineno-226-2" href="#__codelineno-226-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">not_</span><span class="p">(</span><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">)</span>                                         <span class="c1"># or, and, not (or/and missing)</span>
<a id="__codelineno-226-3" name="__codelineno-226-3" href="#__codelineno-226-3"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">eq</span><span class="o">/</span><span class="n">ne</span><span class="o">/</span><span class="n">lt</span><span class="o">/</span><span class="n">le</span><span class="o">/</span><span class="n">gt</span><span class="o">/</span><span class="n">ge</span><span class="o">/</span><span class="n">contains</span><span class="o">/</span><span class="n">is_</span><span class="p">(</span><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># ==, !=, &lt;, &lt;=, &gt;, &gt;=, in, is</span>
<a id="__codelineno-226-4" name="__codelineno-226-4" href="#__codelineno-226-4"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">or_</span><span class="o">/</span><span class="n">xor</span><span class="o">/</span><span class="n">and_</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">)</span>                  <span class="c1"># |, ^, &amp;</span>
<a id="__codelineno-226-5" name="__codelineno-226-5" href="#__codelineno-226-5"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">lshift</span><span class="o">/</span><span class="n">rshift</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>                         <span class="c1"># &lt;&lt;, &gt;&gt;</span>
<a id="__codelineno-226-6" name="__codelineno-226-6" href="#__codelineno-226-6"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">add</span><span class="o">/</span><span class="n">sub</span><span class="o">/</span><span class="n">mul</span><span class="o">/</span><span class="n">truediv</span><span class="o">/</span><span class="n">floordiv</span><span class="o">/</span><span class="n">mod</span><span class="p">(</span><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># +, -, *, /, //, %</span>
<a id="__codelineno-226-7" name="__codelineno-226-7" href="#__codelineno-226-7"></a><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">neg</span><span class="o">/</span><span class="n">invert</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)</span>                                   <span class="c1"># -, ~</span>
<a id="__codelineno-226-8" name="__codelineno-226-8" href="#__codelineno-226-8"></a><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)</span>                                   <span class="c1"># **</span>
<a id="__codelineno-226-9" name="__codelineno-226-9" href="#__codelineno-226-9"></a><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">itemgetter</span><span class="o">/</span><span class="n">attrgetter</span><span class="o">/</span><span class="n">methodcaller</span><span class="p">(</span><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>   <span class="c1"># [index/key], .name, .name()</span>
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-227-1" name="__codelineno-227-1" href="#__codelineno-227-1"></a><span class="n">elementwise_sum</span>  <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">op</span><span class="o">.</span><span class="n">add</span><span class="p">,</span> <span class="n">list_a</span><span class="p">,</span> <span class="n">list_b</span><span class="p">)</span>
<a id="__codelineno-227-2" name="__codelineno-227-2" href="#__codelineno-227-2"></a><span class="n">sorted_by_second</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">op</span><span class="o">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-227-3" name="__codelineno-227-3" href="#__codelineno-227-3"></a><span class="n">sorted_by_both</span>   <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">op</span><span class="o">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<a id="__codelineno-227-4" name="__codelineno-227-4" href="#__codelineno-227-4"></a><span class="n">product_of_elems</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="n">op</span><span class="o">.</span><span class="n">mul</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-227-5" name="__codelineno-227-5" href="#__codelineno-227-5"></a><span class="n">first_element</span>    <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">methodcaller</span><span class="p">(</span><span class="s1">&#39;pop&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div>
* <strong>Bitwise operators require objects to have or(), xor(), and(), lshift(), rshift() and invert() special methods, unlike logical operators that work on all types of objects.</strong>
* <strong>Also: <code>'&lt;bool&gt; = &lt;bool&gt; &amp;|^ &lt;bool&gt;'</code> and <code>'&lt;int&gt; = &lt;bool&gt; &amp;|^ &lt;int&gt;'</code>.</strong></p>
<h2 id="match-statement">Match Statement<a class="headerlink" href="#match-statement" title="Permanent link">&para;</a></h2>
<p><strong>Executes the first block with matching pattern. Added in Python 3.10.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-228-1" name="__codelineno-228-1" href="#__codelineno-228-1"></a><span class="k">match</span> <span class="o">&lt;</span><span class="nb">object</span><span class="o">/</span><span class="n">expression</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-228-2" name="__codelineno-228-2" href="#__codelineno-228-2"></a>    <span class="k">case</span> <span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span> <span class="p">[</span><span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">]:</span>
<a id="__codelineno-228-3" name="__codelineno-228-3" href="#__codelineno-228-3"></a>        <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span>
<a id="__codelineno-228-4" name="__codelineno-228-4" href="#__codelineno-228-4"></a>    <span class="o">...</span>
</code></pre></div>
<h3 id="patterns">Patterns<a class="headerlink" href="#patterns" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-229-1" name="__codelineno-229-1" href="#__codelineno-229-1"></a><span class="o">&lt;</span><span class="n">value_pattern</span><span class="o">&gt;</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="s1">&#39;abc&#39;</span><span class="o">/</span><span class="kc">True</span><span class="o">/</span><span class="kc">None</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span>          <span class="c1"># Matches the literal or a dotted name.</span>
<a id="__codelineno-229-2" name="__codelineno-229-2" href="#__codelineno-229-2"></a><span class="o">&lt;</span><span class="n">class_pattern</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">()</span>                           <span class="c1"># Matches any object of that type.</span>
<a id="__codelineno-229-3" name="__codelineno-229-3" href="#__codelineno-229-3"></a><span class="o">&lt;</span><span class="n">wildcard_patt</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">_</span>                                  <span class="c1"># Matches any object.</span>
<a id="__codelineno-229-4" name="__codelineno-229-4" href="#__codelineno-229-4"></a><span class="o">&lt;</span><span class="n">capture_patt</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>                             <span class="c1"># Matches any object and binds it to name.</span>
<a id="__codelineno-229-5" name="__codelineno-229-5" href="#__codelineno-229-5"></a><span class="o">&lt;</span><span class="n">or_pattern</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">|</span> <span class="o">...</span><span class="p">]</span>      <span class="c1"># Matches any of the patterns.</span>
<a id="__codelineno-229-6" name="__codelineno-229-6" href="#__codelineno-229-6"></a><span class="o">&lt;</span><span class="n">as_pattern</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span> <span class="k">as</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>                <span class="c1"># Binds the match to the name.</span>
<a id="__codelineno-229-7" name="__codelineno-229-7" href="#__codelineno-229-7"></a><span class="o">&lt;</span><span class="n">sequence_patt</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>                   <span class="c1"># Matches sequence with matching items.</span>
<a id="__codelineno-229-8" name="__codelineno-229-8" href="#__codelineno-229-8"></a><span class="o">&lt;</span><span class="n">mapping_patt</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">value_pattern</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">}</span>  <span class="c1"># Matches dictionary with matching items.</span>
<a id="__codelineno-229-9" name="__codelineno-229-9" href="#__codelineno-229-9"></a><span class="o">&lt;</span><span class="n">class_pattern</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">attr_name</span><span class="o">&gt;=&lt;</span><span class="n">patt</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>    <span class="c1"># Matches object with matching attributes.</span>
</code></pre></div>
* <strong>Sequence pattern can also be written as a tuple.</strong>
* <strong>Use <code>'*&lt;name&gt;'</code> and <code>'**&lt;name&gt;'</code> in sequence/mapping patterns to bind remaining items.</strong>
* <strong>Sequence pattern must match all items, while mapping pattern does not.</strong>
* <strong>Patterns can be surrounded with brackets to override precedence (<code>'|'</code> &gt; <code>'as'</code> &gt; <code>','</code>).</strong>
* <strong>Built-in types allow a single positional pattern that is matched against the entire object.</strong>
* <strong>All names that are bound in the matching case, as well as variables initialized in its block, are visible after the match statement.</strong></p>
<h3 id="example_2">Example<a class="headerlink" href="#example_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-230-1" name="__codelineno-230-1" href="#__codelineno-230-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<a id="__codelineno-230-2" name="__codelineno-230-2" href="#__codelineno-230-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">match</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;/home/gto/python-cheatsheet/README.md&#39;</span><span class="p">):</span>
<a id="__codelineno-230-3" name="__codelineno-230-3" href="#__codelineno-230-3"></a><span class="o">...</span>     <span class="n">case</span> <span class="n">Path</span><span class="p">(</span>
<a id="__codelineno-230-4" name="__codelineno-230-4" href="#__codelineno-230-4"></a><span class="o">...</span>         <span class="n">parts</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;home&#39;</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span><span class="p">],</span>
<a id="__codelineno-230-5" name="__codelineno-230-5" href="#__codelineno-230-5"></a><span class="o">...</span>         <span class="n">stem</span><span class="o">=</span><span class="n">stem</span><span class="p">,</span>
<a id="__codelineno-230-6" name="__codelineno-230-6" href="#__codelineno-230-6"></a><span class="o">...</span>         <span class="n">suffix</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;.md&#39;</span> <span class="o">|</span> <span class="s1">&#39;.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">suffix</span>
<a id="__codelineno-230-7" name="__codelineno-230-7" href="#__codelineno-230-7"></a><span class="o">...</span>     <span class="p">)</span> <span class="k">if</span> <span class="n">stem</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;readme&#39;</span><span class="p">:</span>
<a id="__codelineno-230-8" name="__codelineno-230-8" href="#__codelineno-230-8"></a><span class="o">...</span>         <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">stem</span><span class="si">}{</span><span class="n">suffix</span><span class="si">}</span><span class="s1"> is a readme file that belongs to user </span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
<a id="__codelineno-230-9" name="__codelineno-230-9" href="#__codelineno-230-9"></a><span class="s1">&#39;README.md is a readme file that belongs to user gto.&#39;</span>
</code></pre></div>
<h2 id="logging">Logging<a class="headerlink" href="#logging" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-231-1" name="__codelineno-231-1" href="#__codelineno-231-1"></a><span class="kn">import</span> <span class="nn">logging</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-232-1" name="__codelineno-232-1" href="#__codelineno-232-1"></a><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">filename</span><span class="o">=&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">)</span>  <span class="c1"># Configures the root logger (see Setup).</span>
<a id="__codelineno-232-2" name="__codelineno-232-2" href="#__codelineno-232-2"></a><span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="o">/</span><span class="n">info</span><span class="o">/</span><span class="n">warning</span><span class="o">/</span><span class="n">error</span><span class="o">/</span><span class="n">critical</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Logs to the root logger.</span>
<a id="__codelineno-232-3" name="__codelineno-232-3" href="#__codelineno-232-3"></a><span class="o">&lt;</span><span class="n">Logger</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>               <span class="c1"># Logger named after the module.</span>
<a id="__codelineno-232-4" name="__codelineno-232-4" href="#__codelineno-232-4"></a><span class="o">&lt;</span><span class="n">Logger</span><span class="o">&gt;.&lt;</span><span class="n">level</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>                              <span class="c1"># Logs to the logger.</span>
<a id="__codelineno-232-5" name="__codelineno-232-5" href="#__codelineno-232-5"></a><span class="o">&lt;</span><span class="n">Logger</span><span class="o">&gt;.</span><span class="n">exception</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>                            <span class="c1"># Calls error() with caught exception.</span>
</code></pre></div>
<h3 id="setup">Setup<a class="headerlink" href="#setup" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-233-1" name="__codelineno-233-1" href="#__codelineno-233-1"></a><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span>
<a id="__codelineno-233-2" name="__codelineno-233-2" href="#__codelineno-233-2"></a>    <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>                                   <span class="c1"># Logs to console (stderr) by default.</span>
<a id="__codelineno-233-3" name="__codelineno-233-3" href="#__codelineno-233-3"></a>    <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(levelname)s</span><span class="s1">:</span><span class="si">%(name)s</span><span class="s1">:</span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">,</span>     <span class="c1"># Add &#39;%(asctime)s&#39; for local datetime.</span>
<a id="__codelineno-233-4" name="__codelineno-233-4" href="#__codelineno-233-4"></a>    <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">,</span>                           <span class="c1"># Drops messages with lower priority.</span>
<a id="__codelineno-233-5" name="__codelineno-233-5" href="#__codelineno-233-5"></a>    <span class="n">handlers</span><span class="o">=</span><span class="p">[</span><span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)]</span>     <span class="c1"># Uses FileHandler if filename is set.</span>
<a id="__codelineno-233-6" name="__codelineno-233-6" href="#__codelineno-233-6"></a><span class="p">)</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-234-1" name="__codelineno-234-1" href="#__codelineno-234-1"></a><span class="o">&lt;</span><span class="n">Formatter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s1">&#39;&lt;format&gt;&#39;</span><span class="p">)</span>          <span class="c1"># Creates a Formatter.</span>
<a id="__codelineno-234-2" name="__codelineno-234-2" href="#__codelineno-234-2"></a><span class="o">&lt;</span><span class="n">Handler</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>    <span class="c1"># Creates a Handler. Also `encoding=None`.</span>
<a id="__codelineno-234-3" name="__codelineno-234-3" href="#__codelineno-234-3"></a><span class="o">&lt;</span><span class="n">Handler</span><span class="o">&gt;.</span><span class="n">setFormatter</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Formatter</span><span class="o">&gt;</span><span class="p">)</span>                  <span class="c1"># Adds Formatter to the Handler.</span>
<a id="__codelineno-234-4" name="__codelineno-234-4" href="#__codelineno-234-4"></a><span class="o">&lt;</span><span class="n">Handler</span><span class="o">&gt;.</span><span class="n">setLevel</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>                        <span class="c1"># Processes all messages by default.</span>
<a id="__codelineno-234-5" name="__codelineno-234-5" href="#__codelineno-234-5"></a><span class="o">&lt;</span><span class="n">Logger</span><span class="o">&gt;.</span><span class="n">addHandler</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Handler</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Adds Handler to the Logger.</span>
<a id="__codelineno-234-6" name="__codelineno-234-6" href="#__codelineno-234-6"></a><span class="o">&lt;</span><span class="n">Logger</span><span class="o">&gt;.</span><span class="n">setLevel</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>                         <span class="c1"># What is sent to its/ancestor&#39;s handlers.</span>
</code></pre></div>
* <strong>Parent logger can be specified by naming the child logger <code>'&lt;parent&gt;.&lt;name&gt;'</code>.</strong>
* <strong>If logger doesn't have a set level it inherits it from the first ancestor that does.</strong>
* <strong>Formatter also accepts: pathname, filename, funcName, lineno, thread and process.</strong>
* <strong>A <code>'handlers.RotatingFileHandler'</code> creates and deletes log files based on 'maxBytes' and 'backupCount' arguments.</strong></p>
<h4 id="creates-a-logger-that-writes-all-messages-to-file-and-sends-them-to-the-roots-handler-that-prints-warnings-or-higher">Creates a logger that writes all messages to file and sends them to the root's handler that prints warnings or higher:<a class="headerlink" href="#creates-a-logger-that-writes-all-messages-to-file-and-sends-them-to-the-roots-handler-that-prints-warnings-or-higher" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-235-1" name="__codelineno-235-1" href="#__codelineno-235-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;my_module&#39;</span><span class="p">)</span>
<a id="__codelineno-235-2" name="__codelineno-235-2" href="#__codelineno-235-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="s1">&#39;test.log&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<a id="__codelineno-235-3" name="__codelineno-235-3" href="#__codelineno-235-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> </span><span class="si">%(levelname)s</span><span class="s1">:</span><span class="si">%(name)s</span><span class="s1">:</span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">)</span>
<a id="__codelineno-235-4" name="__codelineno-235-4" href="#__codelineno-235-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>
<a id="__codelineno-235-5" name="__codelineno-235-5" href="#__codelineno-235-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
<a id="__codelineno-235-6" name="__codelineno-235-6" href="#__codelineno-235-6"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">)</span>
<a id="__codelineno-235-7" name="__codelineno-235-7" href="#__codelineno-235-7"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">logging</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="s1">&#39;WARNING&#39;</span><span class="p">)</span>
<a id="__codelineno-235-8" name="__codelineno-235-8" href="#__codelineno-235-8"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s1">&#39;Running out of disk space.&#39;</span><span class="p">)</span>
<a id="__codelineno-235-9" name="__codelineno-235-9" href="#__codelineno-235-9"></a><span class="n">CRITICAL</span><span class="p">:</span><span class="n">my_module</span><span class="p">:</span><span class="n">Running</span> <span class="n">out</span> <span class="n">of</span> <span class="n">disk</span> <span class="n">space</span><span class="o">.</span>
<a id="__codelineno-235-10" name="__codelineno-235-10" href="#__codelineno-235-10"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.log&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<a id="__codelineno-235-11" name="__codelineno-235-11" href="#__codelineno-235-11"></a><span class="mi">2023</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">07</span> <span class="mi">23</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">01</span><span class="p">,</span><span class="mi">430</span> <span class="n">CRITICAL</span><span class="p">:</span><span class="n">my_module</span><span class="p">:</span><span class="n">Running</span> <span class="n">out</span> <span class="n">of</span> <span class="n">disk</span> <span class="n">space</span><span class="o">.</span>
</code></pre></div>
<h2 id="introspection">Introspection<a class="headerlink" href="#introspection" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-236-1" name="__codelineno-236-1" href="#__codelineno-236-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dir</span><span class="p">()</span>                             <span class="c1"># Names of local variables, functions, classes, etc.</span>
<a id="__codelineno-236-2" name="__codelineno-236-2" href="#__codelineno-236-2"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">()</span>                            <span class="c1"># Dict of local variables, etc. Also locals().</span>
<a id="__codelineno-236-3" name="__codelineno-236-3" href="#__codelineno-236-3"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()</span>                         <span class="c1"># Dict of global vars, etc. (incl. &#39;__builtins__&#39;).</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-237-1" name="__codelineno-237-1" href="#__codelineno-237-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dir</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>                     <span class="c1"># Names of object&#39;s attributes (including methods).</span>
<a id="__codelineno-237-2" name="__codelineno-237-2" href="#__codelineno-237-2"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Dict of writable attributes. Also &lt;obj&gt;.__dict__.</span>
<a id="__codelineno-237-3" name="__codelineno-237-3" href="#__codelineno-237-3"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">hasattr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;&lt;attr_name&gt;&#39;</span><span class="p">)</span>  <span class="c1"># Checks if getattr() raises an AttributeError.</span>
<a id="__codelineno-237-4" name="__codelineno-237-4" href="#__codelineno-237-4"></a><span class="n">value</span>  <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;&lt;attr_name&gt;&#39;</span><span class="p">)</span>  <span class="c1"># Raises AttributeError if attribute is missing.</span>
<a id="__codelineno-237-5" name="__codelineno-237-5" href="#__codelineno-237-5"></a><span class="nb">setattr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;&lt;attr_name&gt;&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>    <span class="c1"># Only works on objects with &#39;__dict__&#39; attribute.</span>
<a id="__codelineno-237-6" name="__codelineno-237-6" href="#__codelineno-237-6"></a><span class="nb">delattr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;&lt;attr_name&gt;&#39;</span><span class="p">)</span>           <span class="c1"># Same. Also `del &lt;object&gt;.&lt;attr_name&gt;`.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-238-1" name="__codelineno-238-1" href="#__codelineno-238-1"></a><span class="o">&lt;</span><span class="n">Sig</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Function&#39;s Signature object.</span>
<a id="__codelineno-238-2" name="__codelineno-238-2" href="#__codelineno-238-2"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sig</span><span class="o">&gt;.</span><span class="n">parameters</span>                  <span class="c1"># Dict of Parameter objects.</span>
<a id="__codelineno-238-3" name="__codelineno-238-3" href="#__codelineno-238-3"></a><span class="o">&lt;</span><span class="n">memb</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Param</span><span class="o">&gt;.</span><span class="n">kind</span>                      <span class="c1"># Member of ParameterKind enum.</span>
<a id="__codelineno-238-4" name="__codelineno-238-4" href="#__codelineno-238-4"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Param</span><span class="o">&gt;.</span><span class="n">default</span>                   <span class="c1"># Default value or Parameter.empty.</span>
<a id="__codelineno-238-5" name="__codelineno-238-5" href="#__codelineno-238-5"></a><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Param</span><span class="o">&gt;.</span><span class="n">annotation</span>                <span class="c1"># Type or Parameter.empty.</span>
</code></pre></div>
<h2 id="coroutines">Coroutines<a class="headerlink" href="#coroutines" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Coroutines have a lot in common with threads, but unlike threads, they only give up control when they call another coroutine and they don’t use as much memory.</strong></li>
<li><strong>Coroutine definition starts with <code>'async'</code> and its call with <code>'await'</code>.</strong></li>
<li><strong><code>'asyncio.run(&lt;coroutine&gt;)'</code> is the main entry point for asynchronous programs.</strong></li>
<li><strong>Functions wait(), gather() and as_completed() start multiple coroutines at the same time.</strong></li>
<li><strong>Asyncio module also provides its own <a href="#queue">Queue</a>, <a href="#semaphore-event-barrier">Event</a>, <a href="#lock">Lock</a> and <a href="#semaphore-event-barrier">Semaphore</a> classes.</strong></li>
</ul>
<h4 id="runs-a-terminal-game-where-you-control-an-asterisk-that-must-avoid-numbers">Runs a terminal game where you control an asterisk that must avoid numbers:<a class="headerlink" href="#runs-a-terminal-game-where-you-control-an-asterisk-that-must-avoid-numbers" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-239-1" name="__codelineno-239-1" href="#__codelineno-239-1"></a><span class="kn">import</span> <span class="nn">asyncio</span><span class="o">,</span> <span class="nn">collections</span><span class="o">,</span> <span class="nn">curses</span><span class="o">,</span> <span class="nn">curses.textpad</span><span class="o">,</span> <span class="nn">enum</span><span class="o">,</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">time</span>
<a id="__codelineno-239-2" name="__codelineno-239-2" href="#__codelineno-239-2"></a>
<a id="__codelineno-239-3" name="__codelineno-239-3" href="#__codelineno-239-3"></a><span class="n">P</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;x y&#39;</span><span class="p">)</span>         <span class="c1"># Position</span>
<a id="__codelineno-239-4" name="__codelineno-239-4" href="#__codelineno-239-4"></a><span class="n">D</span> <span class="o">=</span> <span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;n e s w&#39;</span><span class="p">)</span>                  <span class="c1"># Direction</span>
<a id="__codelineno-239-5" name="__codelineno-239-5" href="#__codelineno-239-5"></a><span class="n">W</span><span class="p">,</span> <span class="n">H</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">7</span>                                   <span class="c1"># Width, Height</span>
<a id="__codelineno-239-6" name="__codelineno-239-6" href="#__codelineno-239-6"></a>
<a id="__codelineno-239-7" name="__codelineno-239-7" href="#__codelineno-239-7"></a><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">screen</span><span class="p">):</span>
<a id="__codelineno-239-8" name="__codelineno-239-8" href="#__codelineno-239-8"></a>    <span class="n">curses</span><span class="o">.</span><span class="n">curs_set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                         <span class="c1"># Makes cursor invisible.</span>
<a id="__codelineno-239-9" name="__codelineno-239-9" href="#__codelineno-239-9"></a>    <span class="n">screen</span><span class="o">.</span><span class="n">nodelay</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>                       <span class="c1"># Makes getch() non-blocking.</span>
<a id="__codelineno-239-10" name="__codelineno-239-10" href="#__codelineno-239-10"></a>    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main_coroutine</span><span class="p">(</span><span class="n">screen</span><span class="p">))</span>        <span class="c1"># Starts running asyncio code.</span>
<a id="__codelineno-239-11" name="__codelineno-239-11" href="#__codelineno-239-11"></a>
<a id="__codelineno-239-12" name="__codelineno-239-12" href="#__codelineno-239-12"></a><span class="k">async</span> <span class="k">def</span> <span class="nf">main_coroutine</span><span class="p">(</span><span class="n">screen</span><span class="p">):</span>
<a id="__codelineno-239-13" name="__codelineno-239-13" href="#__codelineno-239-13"></a>    <span class="n">moves</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>
<a id="__codelineno-239-14" name="__codelineno-239-14" href="#__codelineno-239-14"></a>    <span class="n">state</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;*&#39;</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">**</span><span class="p">{</span><span class="n">id_</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="n">W</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">H</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}}</span>
<a id="__codelineno-239-15" name="__codelineno-239-15" href="#__codelineno-239-15"></a>    <span class="n">ai</span>    <span class="o">=</span> <span class="p">[</span><span class="n">random_controller</span><span class="p">(</span><span class="n">id_</span><span class="p">,</span> <span class="n">moves</span><span class="p">)</span> <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<a id="__codelineno-239-16" name="__codelineno-239-16" href="#__codelineno-239-16"></a>    <span class="n">mvc</span>   <span class="o">=</span> <span class="p">[</span><span class="n">human_controller</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">moves</span><span class="p">),</span> <span class="n">model</span><span class="p">(</span><span class="n">moves</span><span class="p">,</span> <span class="n">state</span><span class="p">),</span> <span class="n">view</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">screen</span><span class="p">)]</span>
<a id="__codelineno-239-17" name="__codelineno-239-17" href="#__codelineno-239-17"></a>    <span class="n">tasks</span> <span class="o">=</span> <span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">cor</span><span class="p">)</span> <span class="k">for</span> <span class="n">cor</span> <span class="ow">in</span> <span class="n">ai</span> <span class="o">+</span> <span class="n">mvc</span><span class="p">]</span>
<a id="__codelineno-239-18" name="__codelineno-239-18" href="#__codelineno-239-18"></a>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">tasks</span><span class="p">,</span> <span class="n">return_when</span><span class="o">=</span><span class="n">asyncio</span><span class="o">.</span><span class="n">FIRST_COMPLETED</span><span class="p">)</span>
<a id="__codelineno-239-19" name="__codelineno-239-19" href="#__codelineno-239-19"></a>
<a id="__codelineno-239-20" name="__codelineno-239-20" href="#__codelineno-239-20"></a><span class="k">async</span> <span class="k">def</span> <span class="nf">random_controller</span><span class="p">(</span><span class="n">id_</span><span class="p">,</span> <span class="n">moves</span><span class="p">):</span>
<a id="__codelineno-239-21" name="__codelineno-239-21" href="#__codelineno-239-21"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-239-22" name="__codelineno-239-22" href="#__codelineno-239-22"></a>        <span class="n">d</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">D</span><span class="p">))</span>
<a id="__codelineno-239-23" name="__codelineno-239-23" href="#__codelineno-239-23"></a>        <span class="n">moves</span><span class="o">.</span><span class="n">put_nowait</span><span class="p">((</span><span class="n">id_</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span>
<a id="__codelineno-239-24" name="__codelineno-239-24" href="#__codelineno-239-24"></a>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">triangular</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.65</span><span class="p">))</span>
<a id="__codelineno-239-25" name="__codelineno-239-25" href="#__codelineno-239-25"></a>
<a id="__codelineno-239-26" name="__codelineno-239-26" href="#__codelineno-239-26"></a><span class="k">async</span> <span class="k">def</span> <span class="nf">human_controller</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">moves</span><span class="p">):</span>
<a id="__codelineno-239-27" name="__codelineno-239-27" href="#__codelineno-239-27"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-239-28" name="__codelineno-239-28" href="#__codelineno-239-28"></a>        <span class="n">key_mappings</span> <span class="o">=</span> <span class="p">{</span><span class="mi">258</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="mi">259</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="mi">260</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="mi">261</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">e</span><span class="p">}</span>
<a id="__codelineno-239-29" name="__codelineno-239-29" href="#__codelineno-239-29"></a>        <span class="n">ch</span> <span class="o">=</span> <span class="n">screen</span><span class="o">.</span><span class="n">getch</span><span class="p">()</span>
<a id="__codelineno-239-30" name="__codelineno-239-30" href="#__codelineno-239-30"></a>        <span class="k">if</span> <span class="n">d</span> <span class="o">:=</span> <span class="n">key_mappings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ch</span><span class="p">):</span>
<a id="__codelineno-239-31" name="__codelineno-239-31" href="#__codelineno-239-31"></a>            <span class="n">moves</span><span class="o">.</span><span class="n">put_nowait</span><span class="p">((</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span>
<a id="__codelineno-239-32" name="__codelineno-239-32" href="#__codelineno-239-32"></a>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.005</span><span class="p">)</span>
<a id="__codelineno-239-33" name="__codelineno-239-33" href="#__codelineno-239-33"></a>
<a id="__codelineno-239-34" name="__codelineno-239-34" href="#__codelineno-239-34"></a><span class="k">async</span> <span class="k">def</span> <span class="nf">model</span><span class="p">(</span><span class="n">moves</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
<a id="__codelineno-239-35" name="__codelineno-239-35" href="#__codelineno-239-35"></a>    <span class="k">while</span> <span class="n">state</span><span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="n">id_</span><span class="p">]</span> <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)):</span>
<a id="__codelineno-239-36" name="__codelineno-239-36" href="#__codelineno-239-36"></a>        <span class="n">id_</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="k">await</span> <span class="n">moves</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<a id="__codelineno-239-37" name="__codelineno-239-37" href="#__codelineno-239-37"></a>        <span class="n">x</span><span class="p">,</span> <span class="n">y</span>   <span class="o">=</span> <span class="n">state</span><span class="p">[</span><span class="n">id_</span><span class="p">]</span>
<a id="__codelineno-239-38" name="__codelineno-239-38" href="#__codelineno-239-38"></a>        <span class="n">deltas</span> <span class="o">=</span> <span class="p">{</span><span class="n">D</span><span class="o">.</span><span class="n">n</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">D</span><span class="o">.</span><span class="n">e</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">D</span><span class="o">.</span><span class="n">s</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">D</span><span class="o">.</span><span class="n">w</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
<a id="__codelineno-239-39" name="__codelineno-239-39" href="#__codelineno-239-39"></a>        <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span> <span class="o">=</span> <span class="n">deltas</span><span class="p">[</span><span class="n">d</span><span class="p">]</span>
<a id="__codelineno-239-40" name="__codelineno-239-40" href="#__codelineno-239-40"></a>        <span class="n">state</span><span class="p">[</span><span class="n">id_</span><span class="p">]</span> <span class="o">=</span> <span class="n">P</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="n">dx</span><span class="p">)</span> <span class="o">%</span> <span class="n">W</span><span class="p">,</span> <span class="p">(</span><span class="n">y</span> <span class="o">+</span> <span class="n">dy</span><span class="p">)</span> <span class="o">%</span> <span class="n">H</span><span class="p">)</span>
<a id="__codelineno-239-41" name="__codelineno-239-41" href="#__codelineno-239-41"></a>
<a id="__codelineno-239-42" name="__codelineno-239-42" href="#__codelineno-239-42"></a><span class="k">async</span> <span class="k">def</span> <span class="nf">view</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
<a id="__codelineno-239-43" name="__codelineno-239-43" href="#__codelineno-239-43"></a>    <span class="n">offset</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">curses</span><span class="o">.</span><span class="n">COLS</span><span class="o">//</span><span class="mi">2</span> <span class="o">-</span> <span class="n">W</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">curses</span><span class="o">.</span><span class="n">LINES</span><span class="o">//</span><span class="mi">2</span> <span class="o">-</span> <span class="n">H</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-239-44" name="__codelineno-239-44" href="#__codelineno-239-44"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-239-45" name="__codelineno-239-45" href="#__codelineno-239-45"></a>        <span class="n">screen</span><span class="o">.</span><span class="n">erase</span><span class="p">()</span>
<a id="__codelineno-239-46" name="__codelineno-239-46" href="#__codelineno-239-46"></a>        <span class="n">curses</span><span class="o">.</span><span class="n">textpad</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">offset</span><span class="o">.</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">offset</span><span class="o">.</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">offset</span><span class="o">.</span><span class="n">y</span><span class="o">+</span><span class="n">H</span><span class="p">,</span> <span class="n">offset</span><span class="o">.</span><span class="n">x</span><span class="o">+</span><span class="n">W</span><span class="p">)</span>
<a id="__codelineno-239-47" name="__codelineno-239-47" href="#__codelineno-239-47"></a>        <span class="k">for</span> <span class="n">id_</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-239-48" name="__codelineno-239-48" href="#__codelineno-239-48"></a>            <span class="n">screen</span><span class="o">.</span><span class="n">addstr</span><span class="p">(</span>
<a id="__codelineno-239-49" name="__codelineno-239-49" href="#__codelineno-239-49"></a>                <span class="n">offset</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">state</span><span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">H</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="n">H</span><span class="p">,</span>
<a id="__codelineno-239-50" name="__codelineno-239-50" href="#__codelineno-239-50"></a>                <span class="n">offset</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">state</span><span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">W</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="n">W</span><span class="p">,</span>
<a id="__codelineno-239-51" name="__codelineno-239-51" href="#__codelineno-239-51"></a>                <span class="nb">str</span><span class="p">(</span><span class="n">id_</span><span class="p">)</span>
<a id="__codelineno-239-52" name="__codelineno-239-52" href="#__codelineno-239-52"></a>            <span class="p">)</span>
<a id="__codelineno-239-53" name="__codelineno-239-53" href="#__codelineno-239-53"></a>        <span class="n">screen</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
<a id="__codelineno-239-54" name="__codelineno-239-54" href="#__codelineno-239-54"></a>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.005</span><span class="p">)</span>
<a id="__codelineno-239-55" name="__codelineno-239-55" href="#__codelineno-239-55"></a>
<a id="__codelineno-239-56" name="__codelineno-239-56" href="#__codelineno-239-56"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<a id="__codelineno-239-57" name="__codelineno-239-57" href="#__codelineno-239-57"></a>    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<a id="__codelineno-239-58" name="__codelineno-239-58" href="#__codelineno-239-58"></a>    <span class="n">curses</span><span class="o">.</span><span class="n">wrapper</span><span class="p">(</span><span class="n">main</span><span class="p">)</span>
<a id="__codelineno-239-59" name="__codelineno-239-59" href="#__codelineno-239-59"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;You survived </span><span class="si">{</span><span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start_time</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1"> seconds.&#39;</span><span class="p">)</span>
</code></pre></div>
<br></p>
<h1 id="libraries">Libraries<a class="headerlink" href="#libraries" title="Permanent link">&para;</a></h1>
<h2 id="progress-bar">Progress Bar<a class="headerlink" href="#progress-bar" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-240-1" name="__codelineno-240-1" href="#__codelineno-240-1"></a><span class="c1"># $ pip3 install tqdm</span>
<a id="__codelineno-240-2" name="__codelineno-240-2" href="#__codelineno-240-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">tqdm</span><span class="o">,</span> <span class="nn">time</span>
<a id="__codelineno-240-3" name="__codelineno-240-3" href="#__codelineno-240-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">desc</span><span class="o">=</span><span class="s1">&#39;Processing&#39;</span><span class="p">):</span>
<a id="__codelineno-240-4" name="__codelineno-240-4" href="#__codelineno-240-4"></a><span class="o">...</span>     <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-240-5" name="__codelineno-240-5" href="#__codelineno-240-5"></a><span class="n">Processing</span><span class="p">:</span> <span class="mi">100</span><span class="o">%|</span><span class="err">████████████████████</span><span class="o">|</span> <span class="mi">3</span><span class="o">/</span><span class="mi">3</span> <span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">03</span><span class="o">&lt;</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">,</span>  <span class="mf">1.00</span><span class="n">s</span><span class="o">/</span><span class="n">it</span><span class="p">]</span>
</code></pre></div>
<h2 id="plot">Plot<a class="headerlink" href="#plot" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-241-1" name="__codelineno-241-1" href="#__codelineno-241-1"></a><span class="c1"># $ pip3 install matplotlib</span>
<a id="__codelineno-241-2" name="__codelineno-241-2" href="#__codelineno-241-2"></a><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<a id="__codelineno-241-3" name="__codelineno-241-3" href="#__codelineno-241-3"></a>
<a id="__codelineno-241-4" name="__codelineno-241-4" href="#__codelineno-241-4"></a><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="o">/</span><span class="n">bar</span><span class="o">/</span><span class="n">scatter</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y_data</span> <span class="p">[,</span> <span class="n">label</span><span class="o">=&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">])</span>  <span class="c1"># Or: plt.plot(y_data)</span>
<a id="__codelineno-241-5" name="__codelineno-241-5" href="#__codelineno-241-5"></a><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>                                          <span class="c1"># Adds a legend.</span>
<a id="__codelineno-241-6" name="__codelineno-241-6" href="#__codelineno-241-6"></a><span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                                   <span class="c1"># Saves the figure.</span>
<a id="__codelineno-241-7" name="__codelineno-241-7" href="#__codelineno-241-7"></a><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                                            <span class="c1"># Displays the figure.</span>
<a id="__codelineno-241-8" name="__codelineno-241-8" href="#__codelineno-241-8"></a><span class="n">plt</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>                                             <span class="c1"># Clears the figure.</span>
</code></pre></div>
<h2 id="table">Table<a class="headerlink" href="#table" title="Permanent link">&para;</a></h2>
<h4 id="prints-a-csv-file-as-an-ascii-table">Prints a CSV file as an ASCII table:<a class="headerlink" href="#prints-a-csv-file-as-an-ascii-table" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-242-1" name="__codelineno-242-1" href="#__codelineno-242-1"></a><span class="c1"># $ pip3 install tabulate</span>
<a id="__codelineno-242-2" name="__codelineno-242-2" href="#__codelineno-242-2"></a><span class="kn">import</span> <span class="nn">csv</span><span class="o">,</span> <span class="nn">tabulate</span>
<a id="__codelineno-242-3" name="__codelineno-242-3" href="#__codelineno-242-3"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.csv&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-242-4" name="__codelineno-242-4" href="#__codelineno-242-4"></a>    <span class="n">rows</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">file</span><span class="p">))</span>
<a id="__codelineno-242-5" name="__codelineno-242-5" href="#__codelineno-242-5"></a><span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="o">.</span><span class="n">tabulate</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="s1">&#39;firstrow&#39;</span><span class="p">))</span>
</code></pre></div>
<h2 id="curses">Curses<a class="headerlink" href="#curses" title="Permanent link">&para;</a></h2>
<h4 id="runs-a-basic-file-explorer-in-the-console">Runs a basic file explorer in the console:<a class="headerlink" href="#runs-a-basic-file-explorer-in-the-console" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-243-1" name="__codelineno-243-1" href="#__codelineno-243-1"></a><span class="c1"># $ pip3 install windows-curses</span>
<a id="__codelineno-243-2" name="__codelineno-243-2" href="#__codelineno-243-2"></a><span class="kn">import</span> <span class="nn">curses</span><span class="o">,</span> <span class="nn">os</span>
<a id="__codelineno-243-3" name="__codelineno-243-3" href="#__codelineno-243-3"></a><span class="kn">from</span> <span class="nn">curses</span> <span class="kn">import</span> <span class="n">A_REVERSE</span><span class="p">,</span> <span class="n">KEY_DOWN</span><span class="p">,</span> <span class="n">KEY_UP</span><span class="p">,</span> <span class="n">KEY_LEFT</span><span class="p">,</span> <span class="n">KEY_RIGHT</span><span class="p">,</span> <span class="n">KEY_ENTER</span>
<a id="__codelineno-243-4" name="__codelineno-243-4" href="#__codelineno-243-4"></a>
<a id="__codelineno-243-5" name="__codelineno-243-5" href="#__codelineno-243-5"></a><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">screen</span><span class="p">):</span>
<a id="__codelineno-243-6" name="__codelineno-243-6" href="#__codelineno-243-6"></a>    <span class="n">ch</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">selected</span><span class="p">,</span> <span class="n">paths</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">()</span>
<a id="__codelineno-243-7" name="__codelineno-243-7" href="#__codelineno-243-7"></a>    <span class="k">while</span> <span class="n">ch</span> <span class="o">!=</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">):</span>
<a id="__codelineno-243-8" name="__codelineno-243-8" href="#__codelineno-243-8"></a>        <span class="n">height</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="n">screen</span><span class="o">.</span><span class="n">getmaxyx</span><span class="p">()</span>
<a id="__codelineno-243-9" name="__codelineno-243-9" href="#__codelineno-243-9"></a>        <span class="n">screen</span><span class="o">.</span><span class="n">erase</span><span class="p">()</span>
<a id="__codelineno-243-10" name="__codelineno-243-10" href="#__codelineno-243-10"></a>        <span class="k">for</span> <span class="n">y</span><span class="p">,</span> <span class="n">filename</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">paths</span><span class="p">[</span><span class="n">first</span> <span class="p">:</span> <span class="n">first</span><span class="o">+</span><span class="n">height</span><span class="p">]):</span>
<a id="__codelineno-243-11" name="__codelineno-243-11" href="#__codelineno-243-11"></a>            <span class="n">color</span> <span class="o">=</span> <span class="n">A_REVERSE</span> <span class="k">if</span> <span class="n">filename</span> <span class="o">==</span> <span class="n">paths</span><span class="p">[</span><span class="n">selected</span><span class="p">]</span> <span class="k">else</span> <span class="mi">0</span>
<a id="__codelineno-243-12" name="__codelineno-243-12" href="#__codelineno-243-12"></a>            <span class="n">screen</span><span class="o">.</span><span class="n">addnstr</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">width</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
<a id="__codelineno-243-13" name="__codelineno-243-13" href="#__codelineno-243-13"></a>        <span class="n">ch</span> <span class="o">=</span> <span class="n">screen</span><span class="o">.</span><span class="n">getch</span><span class="p">()</span>
<a id="__codelineno-243-14" name="__codelineno-243-14" href="#__codelineno-243-14"></a>        <span class="n">selected</span> <span class="o">+=</span> <span class="p">(</span><span class="n">ch</span> <span class="o">==</span> <span class="n">KEY_DOWN</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">ch</span> <span class="o">==</span> <span class="n">KEY_UP</span><span class="p">)</span>
<a id="__codelineno-243-15" name="__codelineno-243-15" href="#__codelineno-243-15"></a>        <span class="n">selected</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">selected</span><span class="p">))</span>
<a id="__codelineno-243-16" name="__codelineno-243-16" href="#__codelineno-243-16"></a>        <span class="n">first</span> <span class="o">+=</span> <span class="p">(</span><span class="n">selected</span> <span class="o">&gt;=</span> <span class="n">first</span> <span class="o">+</span> <span class="n">height</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">selected</span> <span class="o">&lt;</span> <span class="n">first</span><span class="p">)</span>
<a id="__codelineno-243-17" name="__codelineno-243-17" href="#__codelineno-243-17"></a>        <span class="k">if</span> <span class="n">ch</span> <span class="ow">in</span> <span class="p">[</span><span class="n">KEY_LEFT</span><span class="p">,</span> <span class="n">KEY_RIGHT</span><span class="p">,</span> <span class="n">KEY_ENTER</span><span class="p">,</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">),</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\r</span><span class="s1">&#39;</span><span class="p">)]:</span>
<a id="__codelineno-243-18" name="__codelineno-243-18" href="#__codelineno-243-18"></a>            <span class="n">new_dir</span> <span class="o">=</span> <span class="s1">&#39;..&#39;</span> <span class="k">if</span> <span class="n">ch</span> <span class="o">==</span> <span class="n">KEY_LEFT</span> <span class="k">else</span> <span class="n">paths</span><span class="p">[</span><span class="n">selected</span><span class="p">]</span>
<a id="__codelineno-243-19" name="__codelineno-243-19" href="#__codelineno-243-19"></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">new_dir</span><span class="p">):</span>
<a id="__codelineno-243-20" name="__codelineno-243-20" href="#__codelineno-243-20"></a>                <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">new_dir</span><span class="p">)</span>
<a id="__codelineno-243-21" name="__codelineno-243-21" href="#__codelineno-243-21"></a>                <span class="n">first</span><span class="p">,</span> <span class="n">selected</span><span class="p">,</span> <span class="n">paths</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">()</span>
<a id="__codelineno-243-22" name="__codelineno-243-22" href="#__codelineno-243-22"></a>
<a id="__codelineno-243-23" name="__codelineno-243-23" href="#__codelineno-243-23"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<a id="__codelineno-243-24" name="__codelineno-243-24" href="#__codelineno-243-24"></a>    <span class="n">curses</span><span class="o">.</span><span class="n">wrapper</span><span class="p">(</span><span class="n">main</span><span class="p">)</span>
</code></pre></div>
<h2 id="pysimplegui">PySimpleGUI<a class="headerlink" href="#pysimplegui" title="Permanent link">&para;</a></h2>
<h4 id="a-weight-converter-gui-application">A weight converter GUI application:<a class="headerlink" href="#a-weight-converter-gui-application" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-244-1" name="__codelineno-244-1" href="#__codelineno-244-1"></a><span class="c1"># $ pip3 install PySimpleGUI</span>
<a id="__codelineno-244-2" name="__codelineno-244-2" href="#__codelineno-244-2"></a><span class="kn">import</span> <span class="nn">PySimpleGUI</span> <span class="k">as</span> <span class="nn">sg</span>
<a id="__codelineno-244-3" name="__codelineno-244-3" href="#__codelineno-244-3"></a>
<a id="__codelineno-244-4" name="__codelineno-244-4" href="#__codelineno-244-4"></a><span class="n">text_box</span> <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">Input</span><span class="p">(</span><span class="n">default_text</span><span class="o">=</span><span class="s1">&#39;100&#39;</span><span class="p">,</span> <span class="n">enable_events</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;-VALUE-&#39;</span><span class="p">)</span>
<a id="__codelineno-244-5" name="__codelineno-244-5" href="#__codelineno-244-5"></a><span class="n">dropdown</span> <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">InputCombo</span><span class="p">([</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;kg&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">],</span> <span class="s1">&#39;kg&#39;</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">enable_events</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="s1">&#39;-UNIT-&#39;</span><span class="p">)</span>
<a id="__codelineno-244-6" name="__codelineno-244-6" href="#__codelineno-244-6"></a><span class="n">label</span>    <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;100 kg is 220.462 lbs.&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;-OUTPUT-&#39;</span><span class="p">)</span>
<a id="__codelineno-244-7" name="__codelineno-244-7" href="#__codelineno-244-7"></a><span class="n">button</span>   <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s1">&#39;Close&#39;</span><span class="p">)</span>
<a id="__codelineno-244-8" name="__codelineno-244-8" href="#__codelineno-244-8"></a><span class="n">window</span>   <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">Window</span><span class="p">(</span><span class="s1">&#39;Weight Converter&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="n">text_box</span><span class="p">,</span> <span class="n">dropdown</span><span class="p">],</span> <span class="p">[</span><span class="n">label</span><span class="p">],</span> <span class="p">[</span><span class="n">button</span><span class="p">]])</span>
<a id="__codelineno-244-9" name="__codelineno-244-9" href="#__codelineno-244-9"></a>
<a id="__codelineno-244-10" name="__codelineno-244-10" href="#__codelineno-244-10"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-244-11" name="__codelineno-244-11" href="#__codelineno-244-11"></a>    <span class="n">event</span><span class="p">,</span> <span class="n">values</span> <span class="o">=</span> <span class="n">window</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<a id="__codelineno-244-12" name="__codelineno-244-12" href="#__codelineno-244-12"></a>    <span class="k">if</span> <span class="n">event</span> <span class="ow">in</span> <span class="p">[</span><span class="n">sg</span><span class="o">.</span><span class="n">WIN_CLOSED</span><span class="p">,</span> <span class="s1">&#39;Close&#39;</span><span class="p">]:</span>
<a id="__codelineno-244-13" name="__codelineno-244-13" href="#__codelineno-244-13"></a>        <span class="k">break</span>
<a id="__codelineno-244-14" name="__codelineno-244-14" href="#__codelineno-244-14"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-244-15" name="__codelineno-244-15" href="#__codelineno-244-15"></a>        <span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="s1">&#39;-VALUE-&#39;</span><span class="p">])</span>
<a id="__codelineno-244-16" name="__codelineno-244-16" href="#__codelineno-244-16"></a>    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
<a id="__codelineno-244-17" name="__codelineno-244-17" href="#__codelineno-244-17"></a>        <span class="k">continue</span>
<a id="__codelineno-244-18" name="__codelineno-244-18" href="#__codelineno-244-18"></a>    <span class="n">unit</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="s1">&#39;-UNIT-&#39;</span><span class="p">]</span>
<a id="__codelineno-244-19" name="__codelineno-244-19" href="#__codelineno-244-19"></a>    <span class="n">factors</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;g&#39;</span><span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span> <span class="s1">&#39;kg&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">}</span>
<a id="__codelineno-244-20" name="__codelineno-244-20" href="#__codelineno-244-20"></a>    <span class="n">lbs</span> <span class="o">=</span> <span class="n">value</span> <span class="o">*</span> <span class="n">factors</span><span class="p">[</span><span class="n">unit</span><span class="p">]</span> <span class="o">/</span> <span class="mf">0.45359237</span>
<a id="__codelineno-244-21" name="__codelineno-244-21" href="#__codelineno-244-21"></a>    <span class="n">window</span><span class="p">[</span><span class="s1">&#39;-OUTPUT-&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">unit</span><span class="si">}</span><span class="s1"> is </span><span class="si">{</span><span class="n">lbs</span><span class="si">:</span><span class="s1">g</span><span class="si">}</span><span class="s1"> lbs.&#39;</span><span class="p">)</span>
<a id="__codelineno-244-22" name="__codelineno-244-22" href="#__codelineno-244-22"></a><span class="n">window</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>
<h2 id="scraping">Scraping<a class="headerlink" href="#scraping" title="Permanent link">&para;</a></h2>
<h4 id="scrapes-pythons-url-and-logo-from-its-wikipedia-page">Scrapes Python's URL and logo from its Wikipedia page:<a class="headerlink" href="#scrapes-pythons-url-and-logo-from-its-wikipedia-page" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-245-1" name="__codelineno-245-1" href="#__codelineno-245-1"></a><span class="c1"># $ pip3 install requests beautifulsoup4</span>
<a id="__codelineno-245-2" name="__codelineno-245-2" href="#__codelineno-245-2"></a><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">bs4</span><span class="o">,</span> <span class="nn">os</span>
<a id="__codelineno-245-3" name="__codelineno-245-3" href="#__codelineno-245-3"></a>
<a id="__codelineno-245-4" name="__codelineno-245-4" href="#__codelineno-245-4"></a><span class="n">response</span>   <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://en.wikipedia.org/wiki/Python_(programming_language)&#39;</span><span class="p">)</span>
<a id="__codelineno-245-5" name="__codelineno-245-5" href="#__codelineno-245-5"></a><span class="n">document</span>   <span class="o">=</span> <span class="n">bs4</span><span class="o">.</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
<a id="__codelineno-245-6" name="__codelineno-245-6" href="#__codelineno-245-6"></a><span class="n">table</span>      <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;infobox vevent&#39;</span><span class="p">)</span>
<a id="__codelineno-245-7" name="__codelineno-245-7" href="#__codelineno-245-7"></a><span class="n">python_url</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;th&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Website&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>
<a id="__codelineno-245-8" name="__codelineno-245-8" href="#__codelineno-245-8"></a><span class="n">logo_url</span>   <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;img&#39;</span><span class="p">)[</span><span class="s1">&#39;src&#39;</span><span class="p">]</span>
<a id="__codelineno-245-9" name="__codelineno-245-9" href="#__codelineno-245-9"></a><span class="n">logo</span>       <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;https:</span><span class="si">{</span><span class="n">logo_url</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">content</span>
<a id="__codelineno-245-10" name="__codelineno-245-10" href="#__codelineno-245-10"></a><span class="n">filename</span>   <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">logo_url</span><span class="p">)</span>
<a id="__codelineno-245-11" name="__codelineno-245-11" href="#__codelineno-245-11"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-245-12" name="__codelineno-245-12" href="#__codelineno-245-12"></a>    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">logo</span><span class="p">)</span>
<a id="__codelineno-245-13" name="__codelineno-245-13" href="#__codelineno-245-13"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">python_url</span><span class="si">}</span><span class="s1">, file://</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="selenium">Selenium<a class="headerlink" href="#selenium" title="Permanent link">&para;</a></h3>
<p><strong>Library for scraping websites with dynamic content.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-246-1" name="__codelineno-246-1" href="#__codelineno-246-1"></a><span class="c1"># $ pip3 install selenium</span>
<a id="__codelineno-246-2" name="__codelineno-246-2" href="#__codelineno-246-2"></a><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<a id="__codelineno-246-3" name="__codelineno-246-3" href="#__codelineno-246-3"></a>
<a id="__codelineno-246-4" name="__codelineno-246-4" href="#__codelineno-246-4"></a><span class="o">&lt;</span><span class="n">Drv</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="o">/</span><span class="n">Firefox</span><span class="o">/</span><span class="n">Safari</span><span class="o">/</span><span class="n">Edge</span><span class="p">()</span>         <span class="c1"># Opens the browser. Also &lt;Drv&gt;.quit().</span>
<a id="__codelineno-246-5" name="__codelineno-246-5" href="#__codelineno-246-5"></a><span class="o">&lt;</span><span class="n">Drv</span><span class="o">&gt;.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;&lt;url&gt;&#39;</span><span class="p">)</span>                                     <span class="c1"># Also &lt;Drv&gt;.implicitly_wait(seconds).</span>
<a id="__codelineno-246-6" name="__codelineno-246-6" href="#__codelineno-246-6"></a><span class="o">&lt;</span><span class="n">El</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Drv</span><span class="o">/</span><span class="n">El</span><span class="o">&gt;.</span><span class="n">find_element</span><span class="p">(</span><span class="s1">&#39;css selector&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;css&gt;&#39;</span><span class="p">)</span>  <span class="c1"># &#39;&lt;tag&gt;#&lt;id&gt;.&lt;class&gt;[&lt;attr&gt;=&quot;&lt;val&gt;&quot;]&#39;.</span>
<a id="__codelineno-246-7" name="__codelineno-246-7" href="#__codelineno-246-7"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Drv</span><span class="o">/</span><span class="n">El</span><span class="o">&gt;.</span><span class="n">find_elements</span><span class="p">(</span><span class="s1">&#39;xpath&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;xpath&gt;&#39;</span><span class="p">)</span>    <span class="c1"># &#39;//&lt;tag&gt;[@&lt;attr&gt;=&quot;&lt;val&gt;&quot;]&#39;.</span>
<a id="__codelineno-246-8" name="__codelineno-246-8" href="#__codelineno-246-8"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">El</span><span class="o">&gt;.</span><span class="n">get_attribute</span><span class="o">/</span><span class="n">get_property</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Also &lt;El&gt;.text/tag_name.</span>
<a id="__codelineno-246-9" name="__codelineno-246-9" href="#__codelineno-246-9"></a><span class="o">&lt;</span><span class="n">El</span><span class="o">&gt;.</span><span class="n">click</span><span class="o">/</span><span class="n">clear</span><span class="p">()</span>                                     <span class="c1"># Also &lt;El&gt;.send_keys(&lt;str&gt;).</span>
</code></pre></div></p>
<h4 id="xpath-also-available-in-browsers-console-via-xxpath">XPath — also available in browser's console via <code>'$x(&lt;xpath&gt;)'</code>:<a class="headerlink" href="#xpath-also-available-in-browsers-console-via-xxpath" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-247-1" name="__codelineno-247-1" href="#__codelineno-247-1"></a><span class="o">&lt;</span><span class="n">xpath</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="o">//&lt;</span><span class="n">element</span><span class="o">&gt;</span><span class="p">[</span><span class="o">/</span> <span class="ow">or</span> <span class="o">//</span> <span class="o">&lt;</span><span class="n">element</span><span class="o">&gt;</span><span class="p">]</span>           <span class="c1"># Child: /, Descendant: //, Parent: /..</span>
<a id="__codelineno-247-2" name="__codelineno-247-2" href="#__codelineno-247-2"></a><span class="o">&lt;</span><span class="n">xpath</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="o">//&lt;</span><span class="n">element</span><span class="o">&gt;/</span><span class="n">following</span><span class="p">::</span><span class="o">&lt;</span><span class="n">element</span><span class="o">&gt;</span>         <span class="c1"># Next sibling. Also preceding/parent/…</span>
<a id="__codelineno-247-3" name="__codelineno-247-3" href="#__codelineno-247-3"></a><span class="o">&lt;</span><span class="n">element</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">tag</span><span class="o">&gt;&lt;</span><span class="n">conditions</span><span class="o">&gt;&lt;</span><span class="n">index</span><span class="o">&gt;</span>                 <span class="c1"># `&lt;tag&gt; = */a/…`, `&lt;index&gt; = [1/2/…]`.</span>
<a id="__codelineno-247-4" name="__codelineno-247-4" href="#__codelineno-247-4"></a><span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">sub_cond</span><span class="o">&gt;</span> <span class="p">[</span><span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="o">&lt;</span><span class="n">sub_cond</span><span class="o">&gt;</span><span class="p">]]</span>         <span class="c1"># `and` is same as chaining conditions.</span>
<a id="__codelineno-247-5" name="__codelineno-247-5" href="#__codelineno-247-5"></a><span class="o">&lt;</span><span class="n">sub_cond</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">@&lt;</span><span class="n">attr</span><span class="o">&gt;=</span><span class="s2">&quot;&lt;val&gt;&quot;</span>                          <span class="c1"># `.=&quot;&lt;val&gt;&quot;` matches complete text.</span>
<a id="__codelineno-247-6" name="__codelineno-247-6" href="#__codelineno-247-6"></a><span class="o">&lt;</span><span class="n">sub_cond</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">contains</span><span class="p">(</span><span class="o">@&lt;</span><span class="n">attr</span><span class="o">&gt;</span><span class="p">,</span> <span class="s2">&quot;&lt;val&gt;&quot;</span><span class="p">)</span>               <span class="c1"># Is &lt;val&gt; a substring of attr&#39;s value?</span>
<a id="__codelineno-247-7" name="__codelineno-247-7" href="#__codelineno-247-7"></a><span class="o">&lt;</span><span class="n">sub_cond</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="p">[</span><span class="o">//</span><span class="p">]</span><span class="o">&lt;</span><span class="n">element</span><span class="o">&gt;</span>                            <span class="c1"># Has matching child? Descendant if //.</span>
</code></pre></div>
<h2 id="web">Web<a class="headerlink" href="#web" title="Permanent link">&para;</a></h2>
<p><strong>Flask is a micro web framework/server. If you just want to open a html file in a web browser use <code>'webbrowser.open(&lt;path&gt;)'</code> instead.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-248-1" name="__codelineno-248-1" href="#__codelineno-248-1"></a><span class="c1"># $ pip3 install flask</span>
<a id="__codelineno-248-2" name="__codelineno-248-2" href="#__codelineno-248-2"></a><span class="kn">import</span> <span class="nn">flask</span>
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-249-1" name="__codelineno-249-1" href="#__codelineno-249-1"></a><span class="n">app</span> <span class="o">=</span> <span class="n">flask</span><span class="o">.</span><span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<a id="__codelineno-249-2" name="__codelineno-249-2" href="#__codelineno-249-2"></a><span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
* <strong>Starts the app at <code>'http://localhost:5000'</code>. Use <code>'host="0.0.0.0"'</code> to run externally.</strong>
* <strong>Install a WSGI server like <a href="https://flask.palletsprojects.com/en/latest/deploying/waitress/">Waitress</a> and a HTTP server such as <a href="https://flask.palletsprojects.com/en/latest/deploying/nginx/">Nginx</a> for better security.</strong>
* <strong>Debug mode restarts the app whenever script changes and displays errors in the browser.</strong></p>
<h3 id="static-request">Static Request<a class="headerlink" href="#static-request" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-250-1" name="__codelineno-250-1" href="#__codelineno-250-1"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/img/&lt;path:filename&gt;&#39;</span><span class="p">)</span>
<a id="__codelineno-250-2" name="__codelineno-250-2" href="#__codelineno-250-2"></a><span class="k">def</span> <span class="nf">serve_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-250-3" name="__codelineno-250-3" href="#__codelineno-250-3"></a>    <span class="k">return</span> <span class="n">flask</span><span class="o">.</span><span class="n">send_from_directory</span><span class="p">(</span><span class="s1">&#39;dirname/&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
</code></pre></div>
<h3 id="dynamic-request">Dynamic Request<a class="headerlink" href="#dynamic-request" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-251-1" name="__codelineno-251-1" href="#__codelineno-251-1"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&lt;sport&gt;&#39;</span><span class="p">)</span>
<a id="__codelineno-251-2" name="__codelineno-251-2" href="#__codelineno-251-2"></a><span class="k">def</span> <span class="nf">serve_html</span><span class="p">(</span><span class="n">sport</span><span class="p">):</span>
<a id="__codelineno-251-3" name="__codelineno-251-3" href="#__codelineno-251-3"></a>    <span class="k">return</span> <span class="n">flask</span><span class="o">.</span><span class="n">render_template_string</span><span class="p">(</span><span class="s1">&#39;&lt;h1&gt;{{title}}&lt;/h1&gt;&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">sport</span><span class="p">)</span>
</code></pre></div>
* <strong>Use <code>'render_template(filename, &lt;kwargs&gt;)'</code> to render file located in templates dir.</strong>
* <strong>To return an error code use <code>'abort(&lt;int&gt;)'</code> and to redirect use <code>'redirect(&lt;url&gt;)'</code>.</strong>
* <strong><code>'request.args[&lt;str&gt;]'</code> returns parameter from the query string (URL part after '?').</strong>
* <strong>Use <code>'session[key] = value'</code> to store session data like username, etc.</strong></p>
<h3 id="rest-request">REST Request<a class="headerlink" href="#rest-request" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-252-1" name="__codelineno-252-1" href="#__codelineno-252-1"></a><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/&lt;sport&gt;/odds&#39;</span><span class="p">)</span>
<a id="__codelineno-252-2" name="__codelineno-252-2" href="#__codelineno-252-2"></a><span class="k">def</span> <span class="nf">serve_json</span><span class="p">(</span><span class="n">sport</span><span class="p">):</span>
<a id="__codelineno-252-3" name="__codelineno-252-3" href="#__codelineno-252-3"></a>    <span class="n">team</span> <span class="o">=</span> <span class="n">flask</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">]</span>
<a id="__codelineno-252-4" name="__codelineno-252-4" href="#__codelineno-252-4"></a>    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;team&#39;</span><span class="p">:</span> <span class="n">team</span><span class="p">,</span> <span class="s1">&#39;odds&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.09</span><span class="p">,</span> <span class="mf">3.74</span><span class="p">,</span> <span class="mf">3.68</span><span class="p">]}</span>
</code></pre></div>
<h4 id="starts-the-app-in-its-own-thread-and-queries-its-rest-api">Starts the app in its own thread and queries its REST API:<a class="headerlink" href="#starts-the-app-in-its-own-thread-and-queries-its-rest-api" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-253-1" name="__codelineno-253-1" href="#__codelineno-253-1"></a><span class="c1"># $ pip3 install requests</span>
<a id="__codelineno-253-2" name="__codelineno-253-2" href="#__codelineno-253-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">threading</span><span class="o">,</span> <span class="nn">requests</span>
<a id="__codelineno-253-3" name="__codelineno-253-3" href="#__codelineno-253-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">,</span> <span class="n">daemon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<a id="__codelineno-253-4" name="__codelineno-253-4" href="#__codelineno-253-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://localhost:5000/football/odds&#39;</span>
<a id="__codelineno-253-5" name="__codelineno-253-5" href="#__codelineno-253-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">request_data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;team&#39;</span><span class="p">:</span> <span class="s1">&#39;arsenal f.c.&#39;</span><span class="p">}</span>
<a id="__codelineno-253-6" name="__codelineno-253-6" href="#__codelineno-253-6"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">request_data</span><span class="p">)</span>
<a id="__codelineno-253-7" name="__codelineno-253-7" href="#__codelineno-253-7"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<a id="__codelineno-253-8" name="__codelineno-253-8" href="#__codelineno-253-8"></a><span class="p">{</span><span class="s1">&#39;team&#39;</span><span class="p">:</span> <span class="s1">&#39;arsenal f.c.&#39;</span><span class="p">,</span> <span class="s1">&#39;odds&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.09</span><span class="p">,</span> <span class="mf">3.74</span><span class="p">,</span> <span class="mf">3.68</span><span class="p">]}</span>
</code></pre></div>
<h2 id="profiling">Profiling<a class="headerlink" href="#profiling" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-254-1" name="__codelineno-254-1" href="#__codelineno-254-1"></a><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">perf_counter</span>
<a id="__codelineno-254-2" name="__codelineno-254-2" href="#__codelineno-254-2"></a><span class="n">start_time</span> <span class="o">=</span> <span class="n">perf_counter</span><span class="p">()</span>
<a id="__codelineno-254-3" name="__codelineno-254-3" href="#__codelineno-254-3"></a><span class="o">...</span>
<a id="__codelineno-254-4" name="__codelineno-254-4" href="#__codelineno-254-4"></a><span class="n">duration_in_seconds</span> <span class="o">=</span> <span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
</code></pre></div>
<h3 id="timing-a-snippet">Timing a Snippet<a class="headerlink" href="#timing-a-snippet" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-255-1" name="__codelineno-255-1" href="#__codelineno-255-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">timeit</span> <span class="kn">import</span> <span class="n">timeit</span>
<a id="__codelineno-255-2" name="__codelineno-255-2" href="#__codelineno-255-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">timeit</span><span class="p">(</span><span class="s1">&#39;list(range(10000))&#39;</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="nb">globals</span><span class="o">=</span><span class="nb">globals</span><span class="p">(),</span> <span class="n">setup</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">)</span>
<a id="__codelineno-255-3" name="__codelineno-255-3" href="#__codelineno-255-3"></a><span class="mf">0.19373</span>
</code></pre></div>
<h3 id="profiling-by-line">Profiling by Line<a class="headerlink" href="#profiling-by-line" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-256-1" name="__codelineno-256-1" href="#__codelineno-256-1"></a>$ pip3 install line_profiler
<a id="__codelineno-256-2" name="__codelineno-256-2" href="#__codelineno-256-2"></a>$ echo &#39;@profile
<a id="__codelineno-256-3" name="__codelineno-256-3" href="#__codelineno-256-3"></a>def main():
<a id="__codelineno-256-4" name="__codelineno-256-4" href="#__codelineno-256-4"></a>    a = list(range(10000))
<a id="__codelineno-256-5" name="__codelineno-256-5" href="#__codelineno-256-5"></a>    b = set(range(10000))
<a id="__codelineno-256-6" name="__codelineno-256-6" href="#__codelineno-256-6"></a>main()&#39; &gt; test.py
<a id="__codelineno-256-7" name="__codelineno-256-7" href="#__codelineno-256-7"></a>$ kernprof -lv test.py
<a id="__codelineno-256-8" name="__codelineno-256-8" href="#__codelineno-256-8"></a>Line #      Hits         Time  Per Hit   % Time  Line Contents
<a id="__codelineno-256-9" name="__codelineno-256-9" href="#__codelineno-256-9"></a>==============================================================
<a id="__codelineno-256-10" name="__codelineno-256-10" href="#__codelineno-256-10"></a>     1                                           @profile
<a id="__codelineno-256-11" name="__codelineno-256-11" href="#__codelineno-256-11"></a>     2                                           def main():
<a id="__codelineno-256-12" name="__codelineno-256-12" href="#__codelineno-256-12"></a>     3         1        253.4    253.4     32.2      a = list(range(10000))
<a id="__codelineno-256-13" name="__codelineno-256-13" href="#__codelineno-256-13"></a>     4         1        534.1    534.1     67.8      b = set(range(10000))
</code></pre></div>
<h3 id="call-and-flame-graphs">Call and Flame Graphs<a class="headerlink" href="#call-and-flame-graphs" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-257-1" name="__codelineno-257-1" href="#__codelineno-257-1"></a>$ apt/brew install graphviz &amp;&amp; pip3 install gprof2dot snakeviz
<a id="__codelineno-257-2" name="__codelineno-257-2" href="#__codelineno-257-2"></a>$ tail --lines=4 test.py &gt; test.py
<a id="__codelineno-257-3" name="__codelineno-257-3" href="#__codelineno-257-3"></a>$ python3 -m cProfile -o test.prof test.py
<a id="__codelineno-257-4" name="__codelineno-257-4" href="#__codelineno-257-4"></a>$ gprof2dot --format=pstats test.prof | dot -T png -o test.png
<a id="__codelineno-257-5" name="__codelineno-257-5" href="#__codelineno-257-5"></a>$ xdg-open/open test.png
<a id="__codelineno-257-6" name="__codelineno-257-6" href="#__codelineno-257-6"></a>$ snakeviz test.prof
</code></pre></div>
<h3 id="sampling-and-memory-profilers">Sampling and Memory Profilers<a class="headerlink" href="#sampling-and-memory-profilers" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-258-1" name="__codelineno-258-1" href="#__codelineno-258-1"></a>+--------------+----------+------------+-------------------------------+------+
<a id="__codelineno-258-2" name="__codelineno-258-2" href="#__codelineno-258-2"></a>| pip3 install |   Type   |   Target   |          How to run           | Live |
<a id="__codelineno-258-3" name="__codelineno-258-3" href="#__codelineno-258-3"></a>+--------------+----------+------------+-------------------------------+------+
<a id="__codelineno-258-4" name="__codelineno-258-4" href="#__codelineno-258-4"></a>| pyinstrument | Sampling |    CPU     | pyinstrument test.py          | No   |
<a id="__codelineno-258-5" name="__codelineno-258-5" href="#__codelineno-258-5"></a>| py-spy       | Sampling |    CPU     | py-spy top -- python3 test.py | Yes  |
<a id="__codelineno-258-6" name="__codelineno-258-6" href="#__codelineno-258-6"></a>| scalene      | Sampling | CPU+Memory | scalene test.py               | No   |
<a id="__codelineno-258-7" name="__codelineno-258-7" href="#__codelineno-258-7"></a>| memray       | Tracing  |   Memory   | memray run --live test.py     | Yes  |
<a id="__codelineno-258-8" name="__codelineno-258-8" href="#__codelineno-258-8"></a>+--------------+----------+------------+-------------------------------+------+
</code></pre></div>
<h2 id="numpy">NumPy<a class="headerlink" href="#numpy" title="Permanent link">&para;</a></h2>
<p><strong>Array manipulation mini-language. It can run up to one hundred times faster than the equivalent Python code. An even faster alternative that runs on a GPU is called CuPy.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-259-1" name="__codelineno-259-1" href="#__codelineno-259-1"></a><span class="c1"># $ pip3 install numpy</span>
<a id="__codelineno-259-2" name="__codelineno-259-2" href="#__codelineno-259-2"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-260-1" name="__codelineno-260-1" href="#__codelineno-260-1"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">/</span><span class="n">list_of_lists</span><span class="o">/</span><span class="err">…</span><span class="o">&gt;</span><span class="p">)</span>              <span class="c1"># Returns a 1d/2d/… NumPy array.</span>
<a id="__codelineno-260-2" name="__codelineno-260-2" href="#__codelineno-260-2"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="o">/</span><span class="n">ones</span><span class="o">/</span><span class="n">empty</span><span class="p">(</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">&gt;</span><span class="p">)</span>                  <span class="c1"># Also np.full(&lt;shape&gt;, &lt;el&gt;).</span>
<a id="__codelineno-260-3" name="__codelineno-260-3" href="#__codelineno-260-3"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">from_inc</span><span class="p">,</span> <span class="n">to_exc</span><span class="p">,</span> <span class="err">±</span><span class="n">step</span><span class="p">)</span>            <span class="c1"># Also np.linspace(start, stop, len).</span>
<a id="__codelineno-260-4" name="__codelineno-260-4" href="#__codelineno-260-4"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">from_inc</span><span class="p">,</span> <span class="n">to_exc</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">shape</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Also np.random.random(&lt;shape&gt;).</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-261-1" name="__codelineno-261-1" href="#__codelineno-261-1"></a><span class="o">&lt;</span><span class="n">view</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;.</span><span class="n">reshape</span><span class="p">(</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">&gt;</span><span class="p">)</span>                      <span class="c1"># Also `&lt;array&gt;.shape = &lt;shape&gt;`.</span>
<a id="__codelineno-261-2" name="__codelineno-261-2" href="#__codelineno-261-2"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;.</span><span class="n">flatten</span><span class="p">()</span>                             <span class="c1"># Also `&lt;view&gt; = &lt;array&gt;.ravel()`.</span>
<a id="__codelineno-261-3" name="__codelineno-261-3" href="#__codelineno-261-3"></a><span class="o">&lt;</span><span class="n">view</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;.</span><span class="n">transpose</span><span class="p">()</span>                           <span class="c1"># Or: &lt;array&gt;.T</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-262-1" name="__codelineno-262-1" href="#__codelineno-262-1"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="o">/</span><span class="nb">abs</span><span class="o">/</span><span class="n">sqrt</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">int64</span><span class="p">(</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Returns new array of the same shape.</span>
<a id="__codelineno-262-2" name="__codelineno-262-2" href="#__codelineno-262-2"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;.</span><span class="n">sum</span><span class="o">/</span><span class="nb">max</span><span class="o">/</span><span class="n">mean</span><span class="o">/</span><span class="n">argmax</span><span class="o">/</span><span class="nb">all</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>         <span class="c1"># Passed dimension gets aggregated.</span>
<a id="__codelineno-262-3" name="__codelineno-262-3" href="#__codelineno-262-3"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">apply_along_axis</span><span class="p">(</span><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Func can return a scalar or array.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-263-1" name="__codelineno-263-1" href="#__codelineno-263-1"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="o">&lt;</span><span class="n">list_of_arrays</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>      <span class="c1"># Links arrays along first axis (rows).</span>
<a id="__codelineno-263-2" name="__codelineno-263-2" href="#__codelineno-263-2"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">row_stack</span><span class="o">/</span><span class="n">column_stack</span><span class="p">(</span><span class="o">&lt;</span><span class="n">list_of_arrays</span><span class="o">&gt;</span><span class="p">)</span>   <span class="c1"># Treats 1d arrays as rows or columns.</span>
<a id="__codelineno-263-3" name="__codelineno-263-3" href="#__codelineno-263-3"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="o">/</span><span class="n">repeat</span><span class="p">(</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">list</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="n">axis</span><span class="p">])</span>  <span class="c1"># Tiles array or repeats its elements.</span>
</code></pre></div>
* <strong>Shape is a tuple of dimension sizes. A 100x50 RGB image has shape (50, 100, 3).</strong>
* <strong>Axis is an index of the dimension that gets aggregated. Leftmost dimension has index 0. Summing the RGB image along axis 2 will return a greyscale image with shape (50, 100).</strong></p>
<h3 id="indexing">Indexing<a class="headerlink" href="#indexing" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-264-1" name="__codelineno-264-1" href="#__codelineno-264-1"></a><span class="sr">&lt;el&gt;</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="n">row_index</span><span class="p">,</span><span class="w"> </span><span class="n">column_index</span><span class="p">]</span><span class="w">        </span><span class="c1"># &lt;3d_a&gt;[table_i, row_i, column_i]</span>
<a id="__codelineno-264-2" name="__codelineno-264-2" href="#__codelineno-264-2"></a><span class="sr">&lt;1d_view&gt;</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="n">row_index</span><span class="p">]</span><span class="w">                      </span><span class="c1"># &lt;3d_a&gt;[table_i, row_i]</span>
<a id="__codelineno-264-3" name="__codelineno-264-3" href="#__codelineno-264-3"></a><span class="sr">&lt;1d_view&gt;</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[:,</span><span class="w"> </span><span class="n">column_index</span><span class="p">]</span><span class="w">                </span><span class="c1"># &lt;3d_a&gt;[table_i, :, column_i]</span>
<a id="__codelineno-264-4" name="__codelineno-264-4" href="#__codelineno-264-4"></a><span class="sr">&lt;2d_view&gt;</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="n">rows_slice</span><span class="p">,</span><span class="w"> </span><span class="n">columns_slice</span><span class="p">]</span><span class="w">      </span><span class="c1"># &lt;3d_a&gt;[table_i, rows_s, columns_s]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-265-1" name="__codelineno-265-1" href="#__codelineno-265-1"></a><span class="sr">&lt;2d_array&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="n">row_indexes</span><span class="p">]</span><span class="w">                    </span><span class="c1"># &lt;3d_a&gt;[table_i/is, row_is]</span>
<a id="__codelineno-265-2" name="__codelineno-265-2" href="#__codelineno-265-2"></a><span class="sr">&lt;2d_array&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[:,</span><span class="w"> </span><span class="n">column_indexes</span><span class="p">]</span><span class="w">              </span><span class="c1"># &lt;3d_a&gt;[table_i/is, :, column_is]</span>
<a id="__codelineno-265-3" name="__codelineno-265-3" href="#__codelineno-265-3"></a><span class="sr">&lt;1d_array&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="n">row_indexes</span><span class="p">,</span><span class="w"> </span><span class="n">column_indexes</span><span class="p">]</span><span class="w">    </span><span class="c1"># &lt;3d_a&gt;[table_i/is, row_is, column_is]</span>
<a id="__codelineno-265-4" name="__codelineno-265-4" href="#__codelineno-265-4"></a><span class="sr">&lt;1d_array&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="n">row_indexes</span><span class="p">,</span><span class="w"> </span><span class="n">column_index</span><span class="p">]</span><span class="w">      </span><span class="c1"># &lt;3d_a&gt;[table_i/is, row_is, column_i]</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-266-1" name="__codelineno-266-1" href="#__codelineno-266-1"></a><span class="sr">&lt;2d_bools&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="sr">&lt;el/1d/2d_array&gt;</span><span class="w">              </span><span class="c1"># 1d_array must have size of a row.</span>
<a id="__codelineno-266-2" name="__codelineno-266-2" href="#__codelineno-266-2"></a><span class="sr">&lt;1d/2d_a&gt;</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="sr">&lt;2d/1d_bools&gt;</span><span class="p">]</span><span class="w">                  </span><span class="c1"># 1d_bools must have size of a column.</span>
</code></pre></div>
* <strong>Indexes should not be tuples because Python converts <code>'obj[i, j]'</code>  to <code>'obj[(i, j)]'</code>!</strong>
* <strong><code>':'</code> returns a slice of all dimension's indexes. Omitted dimensions default to <code>':'</code>.</strong>
* <strong>Any value that is broadcastable to the indexed shape can be assigned to the selection.</strong></p>
<h3 id="broadcasting">Broadcasting<a class="headerlink" href="#broadcasting" title="Permanent link">&para;</a></h3>
<p><strong>Set of rules by which NumPy functions operate on arrays of different sizes and/or dimensions.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-267-1" name="__codelineno-267-1" href="#__codelineno-267-1"></a><span class="n">left</span>  <span class="o">=</span> <span class="p">[[</span><span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.6</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.8</span><span class="p">]]</span>                           <span class="c1"># Shape: (3, 1)</span>
<a id="__codelineno-267-2" name="__codelineno-267-2" href="#__codelineno-267-2"></a><span class="n">right</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0.1</span> <span class="p">,</span>  <span class="mf">0.6</span> <span class="p">,</span>  <span class="mf">0.8</span> <span class="p">]</span>                           <span class="c1"># Shape: (3,)</span>
</code></pre></div>
<h4 id="1-if-array-shapes-differ-in-length-left-pad-the-shorter-shape-with-ones">1. If array shapes differ in length, left-pad the shorter shape with ones:<a class="headerlink" href="#1-if-array-shapes-differ-in-length-left-pad-the-shorter-shape-with-ones" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-268-1" name="__codelineno-268-1" href="#__codelineno-268-1"></a><span class="n">left</span>  <span class="o">=</span> <span class="p">[[</span><span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.6</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.8</span><span class="p">]]</span>                           <span class="c1"># Shape: (3, 1)</span>
<a id="__codelineno-268-2" name="__codelineno-268-2" href="#__codelineno-268-2"></a><span class="n">right</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.1</span> <span class="p">,</span>  <span class="mf">0.6</span> <span class="p">,</span>  <span class="mf">0.8</span><span class="p">]]</span>                           <span class="c1"># Shape: (1, 3) &lt;- !</span>
</code></pre></div>
<h4 id="2-if-any-dimensions-differ-in-size-expand-the-ones-that-have-size-1-by-duplicating-their-elements">2. If any dimensions differ in size, expand the ones that have size 1 by duplicating their elements:<a class="headerlink" href="#2-if-any-dimensions-differ-in-size-expand-the-ones-that-have-size-1-by-duplicating-their-elements" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-269-1" name="__codelineno-269-1" href="#__codelineno-269-1"></a><span class="n">left</span>  <span class="o">=</span> <span class="p">[[</span><span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.1</span><span class="p">],</span>                             <span class="c1"># Shape: (3, 3) &lt;- !</span>
<a id="__codelineno-269-2" name="__codelineno-269-2" href="#__codelineno-269-2"></a>         <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span>  <span class="mf">0.6</span><span class="p">,</span>  <span class="mf">0.6</span><span class="p">],</span>
<a id="__codelineno-269-3" name="__codelineno-269-3" href="#__codelineno-269-3"></a>         <span class="p">[</span><span class="mf">0.8</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">]]</span>
<a id="__codelineno-269-4" name="__codelineno-269-4" href="#__codelineno-269-4"></a>
<a id="__codelineno-269-5" name="__codelineno-269-5" href="#__codelineno-269-5"></a><span class="n">right</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.6</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">],</span>                             <span class="c1"># Shape: (3, 3) &lt;- !</span>
<a id="__codelineno-269-6" name="__codelineno-269-6" href="#__codelineno-269-6"></a>         <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.6</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">],</span>
<a id="__codelineno-269-7" name="__codelineno-269-7" href="#__codelineno-269-7"></a>         <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.6</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">]]</span>
</code></pre></div>
<h3 id="example_3">Example<a class="headerlink" href="#example_3" title="Permanent link">&para;</a></h3>
<h4 id="for-each-point-returns-index-of-its-nearest-point-01-06-08-1-2-1">For each point returns index of its nearest point (<code>[0.1, 0.6, 0.8] =&gt; [1, 2, 1]</code>):<a class="headerlink" href="#for-each-point-returns-index-of-its-nearest-point-01-06-08-1-2-1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-270-1" name="__codelineno-270-1" href="#__codelineno-270-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">])</span>
<a id="__codelineno-270-2" name="__codelineno-270-2" href="#__codelineno-270-2"></a> <span class="p">[</span> <span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.6</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">]</span>
<a id="__codelineno-270-3" name="__codelineno-270-3" href="#__codelineno-270-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">wrapped_points</span> <span class="o">=</span> <span class="n">points</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-270-4" name="__codelineno-270-4" href="#__codelineno-270-4"></a><span class="p">[[</span> <span class="mf">0.1</span><span class="p">],</span>
<a id="__codelineno-270-5" name="__codelineno-270-5" href="#__codelineno-270-5"></a> <span class="p">[</span> <span class="mf">0.6</span><span class="p">],</span>
<a id="__codelineno-270-6" name="__codelineno-270-6" href="#__codelineno-270-6"></a> <span class="p">[</span> <span class="mf">0.8</span><span class="p">]]</span>
<a id="__codelineno-270-7" name="__codelineno-270-7" href="#__codelineno-270-7"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">distances</span> <span class="o">=</span> <span class="n">wrapped_points</span> <span class="o">-</span> <span class="n">points</span>
<a id="__codelineno-270-8" name="__codelineno-270-8" href="#__codelineno-270-8"></a><span class="p">[[</span> <span class="mf">0.</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7</span><span class="p">],</span>
<a id="__codelineno-270-9" name="__codelineno-270-9" href="#__codelineno-270-9"></a> <span class="p">[</span> <span class="mf">0.5</span><span class="p">,</span>  <span class="mf">0.</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">],</span>
<a id="__codelineno-270-10" name="__codelineno-270-10" href="#__codelineno-270-10"></a> <span class="p">[</span> <span class="mf">0.7</span><span class="p">,</span>  <span class="mf">0.2</span><span class="p">,</span>  <span class="mf">0.</span> <span class="p">]]</span>
<a id="__codelineno-270-11" name="__codelineno-270-11" href="#__codelineno-270-11"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">distances</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">distances</span><span class="p">)</span>
<a id="__codelineno-270-12" name="__codelineno-270-12" href="#__codelineno-270-12"></a><span class="p">[[</span> <span class="mf">0.</span> <span class="p">,</span>  <span class="mf">0.5</span><span class="p">,</span>  <span class="mf">0.7</span><span class="p">],</span>
<a id="__codelineno-270-13" name="__codelineno-270-13" href="#__codelineno-270-13"></a> <span class="p">[</span> <span class="mf">0.5</span><span class="p">,</span>  <span class="mf">0.</span> <span class="p">,</span>  <span class="mf">0.2</span><span class="p">],</span>
<a id="__codelineno-270-14" name="__codelineno-270-14" href="#__codelineno-270-14"></a> <span class="p">[</span> <span class="mf">0.7</span><span class="p">,</span>  <span class="mf">0.2</span><span class="p">,</span>  <span class="mf">0.</span> <span class="p">]]</span>
<a id="__codelineno-270-15" name="__codelineno-270-15" href="#__codelineno-270-15"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">distances</span><span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span>
<a id="__codelineno-270-16" name="__codelineno-270-16" href="#__codelineno-270-16"></a><span class="p">[[</span> <span class="n">inf</span><span class="p">,</span>  <span class="mf">0.5</span><span class="p">,</span>  <span class="mf">0.7</span><span class="p">],</span>
<a id="__codelineno-270-17" name="__codelineno-270-17" href="#__codelineno-270-17"></a> <span class="p">[</span> <span class="mf">0.5</span><span class="p">,</span>  <span class="n">inf</span><span class="p">,</span>  <span class="mf">0.2</span><span class="p">],</span>
<a id="__codelineno-270-18" name="__codelineno-270-18" href="#__codelineno-270-18"></a> <span class="p">[</span> <span class="mf">0.7</span><span class="p">,</span>  <span class="mf">0.2</span><span class="p">,</span>  <span class="n">inf</span><span class="p">]]</span>
<a id="__codelineno-270-19" name="__codelineno-270-19" href="#__codelineno-270-19"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">distances</span><span class="o">.</span><span class="n">argmin</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-270-20" name="__codelineno-270-20" href="#__codelineno-270-20"></a><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</code></pre></div>
<h2 id="image">Image<a class="headerlink" href="#image" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-271-1" name="__codelineno-271-1" href="#__codelineno-271-1"></a><span class="c1"># $ pip3 install pillow</span>
<a id="__codelineno-271-2" name="__codelineno-271-2" href="#__codelineno-271-2"></a><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-272-1" name="__codelineno-272-1" href="#__codelineno-272-1"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;&lt;mode&gt;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>  <span class="c1"># Also `color=&lt;int/tuple/str&gt;`.</span>
<a id="__codelineno-272-2" name="__codelineno-272-2" href="#__codelineno-272-2"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Identifies format based on file contents.</span>
<a id="__codelineno-272-3" name="__codelineno-272-3" href="#__codelineno-272-3"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">convert</span><span class="p">(</span><span class="s1">&#39;&lt;mode&gt;&#39;</span><span class="p">)</span>             <span class="c1"># Converts image to the new mode.</span>
<a id="__codelineno-272-4" name="__codelineno-272-4" href="#__codelineno-272-4"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">save</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                            <span class="c1"># Selects format based on the path extension.</span>
<a id="__codelineno-272-5" name="__codelineno-272-5" href="#__codelineno-272-5"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">show</span><span class="p">()</span>                                  <span class="c1"># Opens image in the default preview app.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-273-1" name="__codelineno-273-1" href="#__codelineno-273-1"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">getpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>          <span class="c1"># Returns pixel&#39;s value (its color).</span>
<a id="__codelineno-273-2" name="__codelineno-273-2" href="#__codelineno-273-2"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">putpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">tuple</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Updates pixel&#39;s value.</span>
<a id="__codelineno-273-3" name="__codelineno-273-3" href="#__codelineno-273-3"></a><span class="o">&lt;</span><span class="n">ImagingCore</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">getdata</span><span class="p">()</span>               <span class="c1"># Returns a flattened view of pixel values.</span>
<a id="__codelineno-273-4" name="__codelineno-273-4" href="#__codelineno-273-4"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">putdata</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">/</span><span class="n">ImagingCore</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Updates pixels with a copy of the sequence.</span>
<a id="__codelineno-273-5" name="__codelineno-273-5" href="#__codelineno-273-5"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">paste</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>                  <span class="c1"># Draws passed image at specified location.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-274-1" name="__codelineno-274-1" href="#__codelineno-274-1"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">filter</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Filter</span><span class="o">&gt;</span><span class="p">)</span>              <span class="c1"># `&lt;Filter&gt; = ImageFilter.&lt;name&gt;([&lt;args&gt;])`</span>
<a id="__codelineno-274-2" name="__codelineno-274-2" href="#__codelineno-274-2"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Enhance</span><span class="o">&gt;.</span><span class="n">enhance</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># `&lt;Enhance&gt; = ImageEnhance.&lt;name&gt;(&lt;Image&gt;)`</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-275-1" name="__codelineno-275-1" href="#__codelineno-275-1"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span><span class="p">)</span>                     <span class="c1"># Creates a 2d/3d NumPy array from the image.</span>
<a id="__codelineno-275-2" name="__codelineno-275-2" href="#__codelineno-275-2"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">(</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">))</span>    <span class="c1"># Use `&lt;array&gt;.clip(0, 255)` to clip values.</span>
</code></pre></div>
<h3 id="modes_1">Modes<a class="headerlink" href="#modes_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>'L'</code> - 8-bit pixels, greyscale.</strong></li>
<li><strong><code>'RGB'</code> - 3x8-bit pixels, true color.</strong></li>
<li><strong><code>'RGBA'</code> - 4x8-bit pixels, true color with transparency mask.</strong></li>
<li><strong><code>'HSV'</code> - 3x8-bit pixels, Hue, Saturation, Value color space.</strong></li>
</ul>
<h3 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h3>
<h4 id="creates-a-png-image-of-a-rainbow-gradient">Creates a PNG image of a rainbow gradient:<a class="headerlink" href="#creates-a-png-image-of-a-rainbow-gradient" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-276-1" name="__codelineno-276-1" href="#__codelineno-276-1"></a><span class="n">WIDTH</span><span class="p">,</span> <span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span>
<a id="__codelineno-276-2" name="__codelineno-276-2" href="#__codelineno-276-2"></a><span class="n">n_pixels</span> <span class="o">=</span> <span class="n">WIDTH</span> <span class="o">*</span> <span class="n">HEIGHT</span>
<a id="__codelineno-276-3" name="__codelineno-276-3" href="#__codelineno-276-3"></a><span class="n">hues</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span> <span class="o">*</span> <span class="n">i</span><span class="o">/</span><span class="n">n_pixels</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_pixels</span><span class="p">))</span>
<a id="__codelineno-276-4" name="__codelineno-276-4" href="#__codelineno-276-4"></a><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;HSV&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">WIDTH</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">))</span>
<a id="__codelineno-276-5" name="__codelineno-276-5" href="#__codelineno-276-5"></a><span class="n">img</span><span class="o">.</span><span class="n">putdata</span><span class="p">([(</span><span class="nb">int</span><span class="p">(</span><span class="n">h</span><span class="p">),</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">hues</span><span class="p">])</span>
<a id="__codelineno-276-6" name="__codelineno-276-6" href="#__codelineno-276-6"></a><span class="n">img</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s1">&#39;RGB&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;test.png&#39;</span><span class="p">)</span>
</code></pre></div>
<h4 id="adds-noise-to-the-png-image-and-displays-it">Adds noise to the PNG image and displays it:<a class="headerlink" href="#adds-noise-to-the-png-image-and-displays-it" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-277-1" name="__codelineno-277-1" href="#__codelineno-277-1"></a><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span>
<a id="__codelineno-277-2" name="__codelineno-277-2" href="#__codelineno-277-2"></a><span class="n">add_noise</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">value</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="n">value</span> <span class="o">+</span> <span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)))</span>
<a id="__codelineno-277-3" name="__codelineno-277-3" href="#__codelineno-277-3"></a><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;test.png&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s1">&#39;HSV&#39;</span><span class="p">)</span>
<a id="__codelineno-277-4" name="__codelineno-277-4" href="#__codelineno-277-4"></a><span class="n">img</span><span class="o">.</span><span class="n">putdata</span><span class="p">([(</span><span class="n">add_noise</span><span class="p">(</span><span class="n">h</span><span class="p">),</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">img</span><span class="o">.</span><span class="n">getdata</span><span class="p">()])</span>
<a id="__codelineno-277-5" name="__codelineno-277-5" href="#__codelineno-277-5"></a><span class="n">img</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<h3 id="image-draw">Image Draw<a class="headerlink" href="#image-draw" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-278-1" name="__codelineno-278-1" href="#__codelineno-278-1"></a><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageDraw</span>
<a id="__codelineno-278-2" name="__codelineno-278-2" href="#__codelineno-278-2"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Object for adding 2D graphics to the image.</span>
<a id="__codelineno-278-3" name="__codelineno-278-3" href="#__codelineno-278-3"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">point</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>                       <span class="c1"># Draws a point. Truncates floats into ints.</span>
<a id="__codelineno-278-4" name="__codelineno-278-4" href="#__codelineno-278-4"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">line</span><span class="p">((</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="p">[,</span> <span class="o">...</span><span class="p">]))</span>      <span class="c1"># To get anti-aliasing use Image&#39;s resize().</span>
<a id="__codelineno-278-5" name="__codelineno-278-5" href="#__codelineno-278-5"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">arc</span><span class="p">((</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">),</span> <span class="n">deg1</span><span class="p">,</span> <span class="n">deg2</span><span class="p">)</span>   <span class="c1"># Always draws in clockwise direction.</span>
<a id="__codelineno-278-6" name="__codelineno-278-6" href="#__codelineno-278-6"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">rectangle</span><span class="p">((</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">))</span>         <span class="c1"># To rotate use Image&#39;s rotate() and paste().</span>
<a id="__codelineno-278-7" name="__codelineno-278-7" href="#__codelineno-278-7"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">polygon</span><span class="p">((</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="o">...</span><span class="p">))</span>      <span class="c1"># Last point gets connected to the first.</span>
<a id="__codelineno-278-8" name="__codelineno-278-8" href="#__codelineno-278-8"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">ellipse</span><span class="p">((</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">))</span>           <span class="c1"># To rotate use Image&#39;s rotate() and paste().</span>
<a id="__codelineno-278-9" name="__codelineno-278-9" href="#__codelineno-278-9"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">text</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">text</span><span class="p">,</span> <span class="n">font</span><span class="o">=&lt;</span><span class="n">Font</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># `&lt;Font&gt; = ImageFont.truetype(&lt;path&gt;, size)`</span>
</code></pre></div>
* <strong>Use <code>'fill=&lt;color&gt;'</code> to set the primary color.</strong>
* <strong>Use <code>'width=&lt;int&gt;'</code> to set the width of lines or contours.</strong>
* <strong>Use <code>'outline=&lt;color&gt;'</code> to set the color of the contours.</strong>
* <strong>Color can be an int, tuple, <code>'#rrggbb[aa]'</code> string or a color name.</strong></p>
<h2 id="animation">Animation<a class="headerlink" href="#animation" title="Permanent link">&para;</a></h2>
<h4 id="creates-a-gif-of-a-bouncing-ball">Creates a GIF of a bouncing ball:<a class="headerlink" href="#creates-a-gif-of-a-bouncing-ball" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-279-1" name="__codelineno-279-1" href="#__codelineno-279-1"></a><span class="c1"># $ pip3 install imageio</span>
<a id="__codelineno-279-2" name="__codelineno-279-2" href="#__codelineno-279-2"></a><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageDraw</span>
<a id="__codelineno-279-3" name="__codelineno-279-3" href="#__codelineno-279-3"></a><span class="kn">import</span> <span class="nn">imageio</span>
<a id="__codelineno-279-4" name="__codelineno-279-4" href="#__codelineno-279-4"></a>
<a id="__codelineno-279-5" name="__codelineno-279-5" href="#__codelineno-279-5"></a><span class="n">WIDTH</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="mi">126</span><span class="p">,</span> <span class="mi">126</span><span class="p">,</span> <span class="mi">10</span>
<a id="__codelineno-279-6" name="__codelineno-279-6" href="#__codelineno-279-6"></a><span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-279-7" name="__codelineno-279-7" href="#__codelineno-279-7"></a><span class="k">for</span> <span class="n">velocity</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">):</span>
<a id="__codelineno-279-8" name="__codelineno-279-8" href="#__codelineno-279-8"></a>    <span class="n">y</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">velocity</span><span class="p">))</span>
<a id="__codelineno-279-9" name="__codelineno-279-9" href="#__codelineno-279-9"></a>    <span class="n">frame</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">WIDTH</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">))</span>
<a id="__codelineno-279-10" name="__codelineno-279-10" href="#__codelineno-279-10"></a>    <span class="n">draw</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
<a id="__codelineno-279-11" name="__codelineno-279-11" href="#__codelineno-279-11"></a>    <span class="n">draw</span><span class="o">.</span><span class="n">ellipse</span><span class="p">((</span><span class="n">WIDTH</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="n">R</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">WIDTH</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="n">R</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="n">R</span><span class="o">*</span><span class="mi">2</span><span class="p">),</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<a id="__codelineno-279-12" name="__codelineno-279-12" href="#__codelineno-279-12"></a>    <span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
<a id="__codelineno-279-13" name="__codelineno-279-13" href="#__codelineno-279-13"></a><span class="n">frames</span> <span class="o">+=</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">frames</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-279-14" name="__codelineno-279-14" href="#__codelineno-279-14"></a><span class="n">imageio</span><span class="o">.</span><span class="n">mimsave</span><span class="p">(</span><span class="s1">&#39;test.gif&#39;</span><span class="p">,</span> <span class="n">frames</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.03</span><span class="p">)</span>
</code></pre></div>
<h2 id="audio">Audio<a class="headerlink" href="#audio" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-280-1" name="__codelineno-280-1" href="#__codelineno-280-1"></a><span class="kn">import</span> <span class="nn">wave</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-281-1" name="__codelineno-281-1" href="#__codelineno-281-1"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;&lt;path&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>   <span class="c1"># Opens the WAV file.</span>
<a id="__codelineno-281-2" name="__codelineno-281-2" href="#__codelineno-281-2"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">getframerate</span><span class="p">()</span>       <span class="c1"># Returns number of frames per second.</span>
<a id="__codelineno-281-3" name="__codelineno-281-3" href="#__codelineno-281-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">getnchannels</span><span class="p">()</span>       <span class="c1"># Returns number of samples per frame.</span>
<a id="__codelineno-281-4" name="__codelineno-281-4" href="#__codelineno-281-4"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">getsampwidth</span><span class="p">()</span>       <span class="c1"># Returns number of bytes per sample.</span>
<a id="__codelineno-281-5" name="__codelineno-281-5" href="#__codelineno-281-5"></a><span class="o">&lt;</span><span class="n">params</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">getparams</span><span class="p">()</span>          <span class="c1"># Returns collection of listed params.</span>
<a id="__codelineno-281-6" name="__codelineno-281-6" href="#__codelineno-281-6"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">readframes</span><span class="p">(</span><span class="n">nframes</span><span class="p">)</span>  <span class="c1"># Returns next n frames. All if -1.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-282-1" name="__codelineno-282-1" href="#__codelineno-282-1"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;&lt;path&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span>     <span class="c1"># Opens WAV file for writing.</span>
<a id="__codelineno-282-2" name="__codelineno-282-2" href="#__codelineno-282-2"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">setframerate</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Pass 44100 for CD, 48000 for video.</span>
<a id="__codelineno-282-3" name="__codelineno-282-3" href="#__codelineno-282-3"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">setnchannels</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Pass 1 for mono, 2 for stereo.</span>
<a id="__codelineno-282-4" name="__codelineno-282-4" href="#__codelineno-282-4"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">setsampwidth</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Pass 1 for 8-bit sound, 2 for CD.</span>
<a id="__codelineno-282-5" name="__codelineno-282-5" href="#__codelineno-282-5"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">setparams</span><span class="p">(</span><span class="o">&lt;</span><span class="n">params</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Sets all parameters.</span>
<a id="__codelineno-282-6" name="__codelineno-282-6" href="#__codelineno-282-6"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">writeframes</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Appends frames to the file.</span>
</code></pre></div>
* <strong>Bytes object contains a sequence of frames, each consisting of one or more samples.</strong>
* <strong>In a stereo signal, the first sample of a frame belongs to the left channel.</strong>
* <strong>Each sample consists of one or more bytes that, when converted to an integer, indicate the displacement of a speaker membrane at a given moment.</strong>
* <strong>If sample width is one byte, then the integer should be encoded unsigned.</strong>
* <strong>For all other sizes, the integer should be encoded signed with little-endian byte order.</strong></p>
<h3 id="sample-values">Sample Values<a class="headerlink" href="#sample-values" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-283-1" name="__codelineno-283-1" href="#__codelineno-283-1"></a>+-----------+-----------+------+-----------+
<a id="__codelineno-283-2" name="__codelineno-283-2" href="#__codelineno-283-2"></a>| sampwidth |    min    | zero |    max    |
<a id="__codelineno-283-3" name="__codelineno-283-3" href="#__codelineno-283-3"></a>+-----------+-----------+------+-----------+
<a id="__codelineno-283-4" name="__codelineno-283-4" href="#__codelineno-283-4"></a>|     1     |         0 |  128 |       255 |
<a id="__codelineno-283-5" name="__codelineno-283-5" href="#__codelineno-283-5"></a>|     2     |    -32768 |    0 |     32767 |
<a id="__codelineno-283-6" name="__codelineno-283-6" href="#__codelineno-283-6"></a>|     3     |  -8388608 |    0 |   8388607 |
<a id="__codelineno-283-7" name="__codelineno-283-7" href="#__codelineno-283-7"></a>+-----------+-----------+------+-----------+
</code></pre></div>
<h3 id="read-float-samples-from-wav-file">Read Float Samples from WAV File<a class="headerlink" href="#read-float-samples-from-wav-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-284-1" name="__codelineno-284-1" href="#__codelineno-284-1"></a><span class="k">def</span> <span class="nf">read_wav_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-284-2" name="__codelineno-284-2" href="#__codelineno-284-2"></a>    <span class="k">def</span> <span class="nf">get_int</span><span class="p">(</span><span class="n">bytes_obj</span><span class="p">):</span>
<a id="__codelineno-284-3" name="__codelineno-284-3" href="#__codelineno-284-3"></a>        <span class="n">an_int</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">bytes_obj</span><span class="p">,</span> <span class="s1">&#39;little&#39;</span><span class="p">,</span> <span class="n">signed</span><span class="o">=</span><span class="p">(</span><span class="n">sampwidth</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-284-4" name="__codelineno-284-4" href="#__codelineno-284-4"></a>        <span class="k">return</span> <span class="n">an_int</span> <span class="o">-</span> <span class="mi">128</span> <span class="o">*</span> <span class="p">(</span><span class="n">sampwidth</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-284-5" name="__codelineno-284-5" href="#__codelineno-284-5"></a>    <span class="k">with</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-284-6" name="__codelineno-284-6" href="#__codelineno-284-6"></a>        <span class="n">sampwidth</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">getsampwidth</span><span class="p">()</span>
<a id="__codelineno-284-7" name="__codelineno-284-7" href="#__codelineno-284-7"></a>        <span class="n">frames</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readframes</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-284-8" name="__codelineno-284-8" href="#__codelineno-284-8"></a>    <span class="n">bytes_samples</span> <span class="o">=</span> <span class="p">(</span><span class="n">frames</span><span class="p">[</span><span class="n">i</span> <span class="p">:</span> <span class="n">i</span><span class="o">+</span><span class="n">sampwidth</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">frames</span><span class="p">),</span> <span class="n">sampwidth</span><span class="p">))</span>
<a id="__codelineno-284-9" name="__codelineno-284-9" href="#__codelineno-284-9"></a>    <span class="k">return</span> <span class="p">[</span><span class="n">get_int</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">sampwidth</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">bytes_samples</span><span class="p">]</span>
</code></pre></div>
<h3 id="write-float-samples-to-wav-file">Write Float Samples to WAV File<a class="headerlink" href="#write-float-samples-to-wav-file" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-285-1" name="__codelineno-285-1" href="#__codelineno-285-1"></a><span class="k">def</span> <span class="nf">write_to_wav_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">float_samples</span><span class="p">,</span> <span class="n">nchannels</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sampwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">framerate</span><span class="o">=</span><span class="mi">44100</span><span class="p">):</span>
<a id="__codelineno-285-2" name="__codelineno-285-2" href="#__codelineno-285-2"></a>    <span class="k">def</span> <span class="nf">get_bytes</span><span class="p">(</span><span class="n">a_float</span><span class="p">):</span>
<a id="__codelineno-285-3" name="__codelineno-285-3" href="#__codelineno-285-3"></a>        <span class="n">a_float</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mf">2e-16</span><span class="p">,</span> <span class="n">a_float</span><span class="p">))</span>
<a id="__codelineno-285-4" name="__codelineno-285-4" href="#__codelineno-285-4"></a>        <span class="n">a_float</span> <span class="o">+=</span> <span class="n">sampwidth</span> <span class="o">==</span> <span class="mi">1</span>
<a id="__codelineno-285-5" name="__codelineno-285-5" href="#__codelineno-285-5"></a>        <span class="n">a_float</span> <span class="o">*=</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">sampwidth</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-285-6" name="__codelineno-285-6" href="#__codelineno-285-6"></a>        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">a_float</span><span class="p">)</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="n">sampwidth</span><span class="p">,</span> <span class="s1">&#39;little&#39;</span><span class="p">,</span> <span class="n">signed</span><span class="o">=</span><span class="p">(</span><span class="n">sampwidth</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-285-7" name="__codelineno-285-7" href="#__codelineno-285-7"></a>    <span class="k">with</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-285-8" name="__codelineno-285-8" href="#__codelineno-285-8"></a>        <span class="n">file</span><span class="o">.</span><span class="n">setnchannels</span><span class="p">(</span><span class="n">nchannels</span><span class="p">)</span>
<a id="__codelineno-285-9" name="__codelineno-285-9" href="#__codelineno-285-9"></a>        <span class="n">file</span><span class="o">.</span><span class="n">setsampwidth</span><span class="p">(</span><span class="n">sampwidth</span><span class="p">)</span>
<a id="__codelineno-285-10" name="__codelineno-285-10" href="#__codelineno-285-10"></a>        <span class="n">file</span><span class="o">.</span><span class="n">setframerate</span><span class="p">(</span><span class="n">framerate</span><span class="p">)</span>
<a id="__codelineno-285-11" name="__codelineno-285-11" href="#__codelineno-285-11"></a>        <span class="n">file</span><span class="o">.</span><span class="n">writeframes</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">get_bytes</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">float_samples</span><span class="p">))</span>
</code></pre></div>
<h3 id="examples_1">Examples<a class="headerlink" href="#examples_1" title="Permanent link">&para;</a></h3>
<h4 id="saves-a-440-hz-sine-wave-to-a-mono-wav-file">Saves a 440 Hz sine wave to a mono WAV file:<a class="headerlink" href="#saves-a-440-hz-sine-wave-to-a-mono-wav-file" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-286-1" name="__codelineno-286-1" href="#__codelineno-286-1"></a><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span><span class="p">,</span> <span class="n">sin</span>
<a id="__codelineno-286-2" name="__codelineno-286-2" href="#__codelineno-286-2"></a><span class="n">samples_f</span> <span class="o">=</span> <span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="mi">440</span> <span class="o">/</span> <span class="mi">44100</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100_000</span><span class="p">))</span>
<a id="__codelineno-286-3" name="__codelineno-286-3" href="#__codelineno-286-3"></a><span class="n">write_to_wav_file</span><span class="p">(</span><span class="s1">&#39;test.wav&#39;</span><span class="p">,</span> <span class="n">samples_f</span><span class="p">)</span>
</code></pre></div>
<h4 id="adds-noise-to-the-mono-wav-file">Adds noise to the mono WAV file:<a class="headerlink" href="#adds-noise-to-the-mono-wav-file" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-287-1" name="__codelineno-287-1" href="#__codelineno-287-1"></a><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span>
<a id="__codelineno-287-2" name="__codelineno-287-2" href="#__codelineno-287-2"></a><span class="n">add_noise</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">value</span><span class="p">:</span> <span class="n">value</span> <span class="o">+</span> <span class="p">(</span><span class="n">random</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.03</span>
<a id="__codelineno-287-3" name="__codelineno-287-3" href="#__codelineno-287-3"></a><span class="n">samples_f</span> <span class="o">=</span> <span class="p">(</span><span class="n">add_noise</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">read_wav_file</span><span class="p">(</span><span class="s1">&#39;test.wav&#39;</span><span class="p">))</span>
<a id="__codelineno-287-4" name="__codelineno-287-4" href="#__codelineno-287-4"></a><span class="n">write_to_wav_file</span><span class="p">(</span><span class="s1">&#39;test.wav&#39;</span><span class="p">,</span> <span class="n">samples_f</span><span class="p">)</span>
</code></pre></div>
<h4 id="plays-the-wav-file">Plays the WAV file:<a class="headerlink" href="#plays-the-wav-file" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-288-1" name="__codelineno-288-1" href="#__codelineno-288-1"></a><span class="c1"># $ pip3 install simpleaudio</span>
<a id="__codelineno-288-2" name="__codelineno-288-2" href="#__codelineno-288-2"></a><span class="kn">from</span> <span class="nn">simpleaudio</span> <span class="kn">import</span> <span class="n">play_buffer</span>
<a id="__codelineno-288-3" name="__codelineno-288-3" href="#__codelineno-288-3"></a><span class="k">with</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;test.wav&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-288-4" name="__codelineno-288-4" href="#__codelineno-288-4"></a>    <span class="n">p</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">getparams</span><span class="p">()</span>
<a id="__codelineno-288-5" name="__codelineno-288-5" href="#__codelineno-288-5"></a>    <span class="n">frames</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readframes</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-288-6" name="__codelineno-288-6" href="#__codelineno-288-6"></a>    <span class="n">play_buffer</span><span class="p">(</span><span class="n">frames</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">nchannels</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">sampwidth</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">framerate</span><span class="p">)</span><span class="o">.</span><span class="n">wait_done</span><span class="p">()</span>
</code></pre></div>
<h3 id="text-to-speech">Text to Speech<a class="headerlink" href="#text-to-speech" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-289-1" name="__codelineno-289-1" href="#__codelineno-289-1"></a><span class="c1"># $ pip3 install pyttsx3</span>
<a id="__codelineno-289-2" name="__codelineno-289-2" href="#__codelineno-289-2"></a><span class="kn">import</span> <span class="nn">pyttsx3</span>
<a id="__codelineno-289-3" name="__codelineno-289-3" href="#__codelineno-289-3"></a><span class="n">engine</span> <span class="o">=</span> <span class="n">pyttsx3</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<a id="__codelineno-289-4" name="__codelineno-289-4" href="#__codelineno-289-4"></a><span class="n">engine</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s1">&#39;Sally sells seashells by the seashore.&#39;</span><span class="p">)</span>
<a id="__codelineno-289-5" name="__codelineno-289-5" href="#__codelineno-289-5"></a><span class="n">engine</span><span class="o">.</span><span class="n">runAndWait</span><span class="p">()</span>
</code></pre></div>
<h2 id="synthesizer">Synthesizer<a class="headerlink" href="#synthesizer" title="Permanent link">&para;</a></h2>
<h4 id="plays-popcorn-by-gershon-kingsley">Plays Popcorn by Gershon Kingsley:<a class="headerlink" href="#plays-popcorn-by-gershon-kingsley" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-290-1" name="__codelineno-290-1" href="#__codelineno-290-1"></a><span class="c1"># $ pip3 install simpleaudio</span>
<a id="__codelineno-290-2" name="__codelineno-290-2" href="#__codelineno-290-2"></a><span class="kn">import</span> <span class="nn">array</span><span class="o">,</span> <span class="nn">itertools</span> <span class="k">as</span> <span class="nn">it</span><span class="o">,</span> <span class="nn">math</span><span class="o">,</span> <span class="nn">simpleaudio</span>
<a id="__codelineno-290-3" name="__codelineno-290-3" href="#__codelineno-290-3"></a>
<a id="__codelineno-290-4" name="__codelineno-290-4" href="#__codelineno-290-4"></a><span class="n">F</span>  <span class="o">=</span> <span class="mi">44100</span>
<a id="__codelineno-290-5" name="__codelineno-290-5" href="#__codelineno-290-5"></a><span class="n">P1</span> <span class="o">=</span> <span class="s1">&#39;71♩,69♪,,71♩,66♪,,62♩,66♪,,59♩,,,71♩,69♪,,71♩,66♪,,62♩,66♪,,59♩,,,&#39;</span>
<a id="__codelineno-290-6" name="__codelineno-290-6" href="#__codelineno-290-6"></a><span class="n">P2</span> <span class="o">=</span> <span class="s1">&#39;71♩,73♪,,74♩,73♪,,74♪,,71♪,,73♩,71♪,,73♪,,69♪,,71♩,69♪,,71♪,,67♪,,71♩,,,&#39;</span>
<a id="__codelineno-290-7" name="__codelineno-290-7" href="#__codelineno-290-7"></a><span class="n">get_pause</span>   <span class="o">=</span> <span class="k">lambda</span> <span class="n">seconds</span><span class="p">:</span> <span class="n">it</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">seconds</span> <span class="o">*</span> <span class="n">F</span><span class="p">))</span>
<a id="__codelineno-290-8" name="__codelineno-290-8" href="#__codelineno-290-8"></a><span class="n">sin_f</span>       <span class="o">=</span> <span class="k">lambda</span> <span class="n">i</span><span class="p">,</span> <span class="n">hz</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">hz</span> <span class="o">/</span> <span class="n">F</span><span class="p">)</span>
<a id="__codelineno-290-9" name="__codelineno-290-9" href="#__codelineno-290-9"></a><span class="n">get_wave</span>    <span class="o">=</span> <span class="k">lambda</span> <span class="n">hz</span><span class="p">,</span> <span class="n">seconds</span><span class="p">:</span> <span class="p">(</span><span class="n">sin_f</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">hz</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">seconds</span> <span class="o">*</span> <span class="n">F</span><span class="p">)))</span>
<a id="__codelineno-290-10" name="__codelineno-290-10" href="#__codelineno-290-10"></a><span class="n">get_hz</span>      <span class="o">=</span> <span class="k">lambda</span> <span class="n">note</span><span class="p">:</span> <span class="mf">8.176</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">**</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">note</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="mi">12</span><span class="p">)</span>
<a id="__codelineno-290-11" name="__codelineno-290-11" href="#__codelineno-290-11"></a><span class="n">get_sec</span>     <span class="o">=</span> <span class="k">lambda</span> <span class="n">note</span><span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span> <span class="k">if</span> <span class="s1">&#39;♩&#39;</span> <span class="ow">in</span> <span class="n">note</span> <span class="k">else</span> <span class="mi">1</span><span class="o">/</span><span class="mi">8</span>
<a id="__codelineno-290-12" name="__codelineno-290-12" href="#__codelineno-290-12"></a><span class="n">get_samples</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">note</span><span class="p">:</span> <span class="n">get_wave</span><span class="p">(</span><span class="n">get_hz</span><span class="p">(</span><span class="n">note</span><span class="p">),</span> <span class="n">get_sec</span><span class="p">(</span><span class="n">note</span><span class="p">))</span> <span class="k">if</span> <span class="n">note</span> <span class="k">else</span> <span class="n">get_pause</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">)</span>
<a id="__codelineno-290-13" name="__codelineno-290-13" href="#__codelineno-290-13"></a><span class="n">samples_f</span>   <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">get_samples</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">(</span><span class="n">P1</span><span class="o">+</span><span class="n">P2</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">))</span>
<a id="__codelineno-290-14" name="__codelineno-290-14" href="#__codelineno-290-14"></a><span class="n">samples_i</span>   <span class="o">=</span> <span class="n">array</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">f</span> <span class="o">*</span> <span class="mi">30000</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">samples_f</span><span class="p">))</span>
<a id="__codelineno-290-15" name="__codelineno-290-15" href="#__codelineno-290-15"></a><span class="n">simpleaudio</span><span class="o">.</span><span class="n">play_buffer</span><span class="p">(</span><span class="n">samples_i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">F</span><span class="p">)</span><span class="o">.</span><span class="n">wait_done</span><span class="p">()</span>
</code></pre></div>
<h2 id="pygame">Pygame<a class="headerlink" href="#pygame" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-291-1" name="__codelineno-291-1" href="#__codelineno-291-1"></a><span class="c1"># $ pip3 install pygame</span>
<a id="__codelineno-291-2" name="__codelineno-291-2" href="#__codelineno-291-2"></a><span class="kn">import</span> <span class="nn">pygame</span> <span class="k">as</span> <span class="nn">pg</span>
<a id="__codelineno-291-3" name="__codelineno-291-3" href="#__codelineno-291-3"></a>
<a id="__codelineno-291-4" name="__codelineno-291-4" href="#__codelineno-291-4"></a><span class="n">pg</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<a id="__codelineno-291-5" name="__codelineno-291-5" href="#__codelineno-291-5"></a><span class="n">screen</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">500</span><span class="p">,</span> <span class="mi">500</span><span class="p">))</span>
<a id="__codelineno-291-6" name="__codelineno-291-6" href="#__codelineno-291-6"></a><span class="n">rect</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">240</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-291-7" name="__codelineno-291-7" href="#__codelineno-291-7"></a><span class="k">while</span> <span class="ow">not</span> <span class="n">pg</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pg</span><span class="o">.</span><span class="n">QUIT</span><span class="p">):</span>
<a id="__codelineno-291-8" name="__codelineno-291-8" href="#__codelineno-291-8"></a>    <span class="n">deltas</span> <span class="o">=</span> <span class="p">{</span><span class="n">pg</span><span class="o">.</span><span class="n">K_UP</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">),</span> <span class="n">pg</span><span class="o">.</span><span class="n">K_RIGHT</span><span class="p">:</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pg</span><span class="o">.</span><span class="n">K_DOWN</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">pg</span><span class="o">.</span><span class="n">K_LEFT</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
<a id="__codelineno-291-9" name="__codelineno-291-9" href="#__codelineno-291-9"></a>    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pg</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pg</span><span class="o">.</span><span class="n">KEYDOWN</span><span class="p">):</span>
<a id="__codelineno-291-10" name="__codelineno-291-10" href="#__codelineno-291-10"></a>        <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span> <span class="o">=</span> <span class="n">deltas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<a id="__codelineno-291-11" name="__codelineno-291-11" href="#__codelineno-291-11"></a>        <span class="n">rect</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">move</span><span class="p">((</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">))</span>
<a id="__codelineno-291-12" name="__codelineno-291-12" href="#__codelineno-291-12"></a>    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<a id="__codelineno-291-13" name="__codelineno-291-13" href="#__codelineno-291-13"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">rect</span><span class="p">)</span>
<a id="__codelineno-291-14" name="__codelineno-291-14" href="#__codelineno-291-14"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</code></pre></div>
<h3 id="rectangle">Rectangle<a class="headerlink" href="#rectangle" title="Permanent link">&para;</a></h3>
<p><strong>Object for storing rectangular coordinates.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-292-1" name="__codelineno-292-1" href="#__codelineno-292-1"></a><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>           <span class="c1"># Floats get truncated into ints.</span>
<a id="__codelineno-292-2" name="__codelineno-292-2" href="#__codelineno-292-2"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">x</span><span class="o">/</span><span class="n">y</span><span class="o">/</span><span class="n">centerx</span><span class="o">/</span><span class="n">centery</span><span class="o">/</span><span class="err">…</span>           <span class="c1"># Top, right, bottom, left. Allows assignments.</span>
<a id="__codelineno-292-3" name="__codelineno-292-3" href="#__codelineno-292-3"></a><span class="o">&lt;</span><span class="n">tup</span><span class="o">.&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">topleft</span><span class="o">/</span><span class="n">center</span><span class="o">/</span><span class="err">…</span>                <span class="c1"># Topright, bottomright, bottomleft. Same.</span>
<a id="__codelineno-292-4" name="__codelineno-292-4" href="#__codelineno-292-4"></a><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">move</span><span class="p">((</span><span class="n">delta_x</span><span class="p">,</span> <span class="n">delta_y</span><span class="p">))</span>        <span class="c1"># Use move_ip() to move in-place.</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-293-1" name="__codelineno-293-1" href="#__codelineno-293-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">collidepoint</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>            <span class="c1"># Checks if rectangle contains the point.</span>
<a id="__codelineno-293-2" name="__codelineno-293-2" href="#__codelineno-293-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">colliderect</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Checks if two rectangles overlap.</span>
<a id="__codelineno-293-3" name="__codelineno-293-3" href="#__codelineno-293-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">collidelist</span><span class="p">(</span><span class="o">&lt;</span><span class="n">list_of_Rect</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Returns index of first colliding Rect or -1.</span>
<a id="__codelineno-293-4" name="__codelineno-293-4" href="#__codelineno-293-4"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">collidelistall</span><span class="p">(</span><span class="o">&lt;</span><span class="n">list_of_Rect</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Returns indexes of all colliding rectangles.</span>
</code></pre></div>
<h3 id="surface">Surface<a class="headerlink" href="#surface" title="Permanent link">&para;</a></h3>
<p><strong>Object for representing images.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-294-1" name="__codelineno-294-1" href="#__codelineno-294-1"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>   <span class="c1"># Opens new window and returns its surface.</span>
<a id="__codelineno-294-2" name="__codelineno-294-2" href="#__codelineno-294-2"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>            <span class="c1"># New RGB surface. RGBA if `flags=pg.SRCALPHA`.</span>
<a id="__codelineno-294-3" name="__codelineno-294-3" href="#__codelineno-294-3"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">/</span><span class="n">file</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Loads the image. Format depends on source.</span>
<a id="__codelineno-294-4" name="__codelineno-294-4" href="#__codelineno-294-4"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">surfarray</span><span class="o">.</span><span class="n">make_surface</span><span class="p">(</span><span class="o">&lt;</span><span class="n">np_array</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Also `&lt;np_arr&gt; = surfarray.pixels3d(&lt;Surf&gt;)`.</span>
<a id="__codelineno-294-5" name="__codelineno-294-5" href="#__codelineno-294-5"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;.</span><span class="n">subsurface</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="p">)</span>              <span class="c1"># Creates a new surface from the cutout.</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-295-1" name="__codelineno-295-1" href="#__codelineno-295-1"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;.</span><span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>                              <span class="c1"># Tuple, Color(&#39;#rrggbb[aa]&#39;) or Color(&lt;name&gt;).</span>
<a id="__codelineno-295-2" name="__codelineno-295-2" href="#__codelineno-295-2"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;.</span><span class="n">set_at</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">color</span><span class="p">)</span>                    <span class="c1"># Updates pixel. Also &lt;Surf&gt;.get_at((x, y)).</span>
<a id="__codelineno-295-3" name="__codelineno-295-3" href="#__codelineno-295-3"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;.</span><span class="n">blit</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>                     <span class="c1"># Draws passed surface to the surface.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-296-1" name="__codelineno-296-1" href="#__codelineno-296-1"></a><span class="kn">from</span> <span class="nn">pygame.transform</span> <span class="kn">import</span> <span class="n">scale</span><span class="p">,</span> <span class="o">...</span>
<a id="__codelineno-296-2" name="__codelineno-296-2" href="#__codelineno-296-2"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">scale</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>         <span class="c1"># Returns scaled surface.</span>
<a id="__codelineno-296-3" name="__codelineno-296-3" href="#__codelineno-296-3"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">rotate</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">anticlock_degrees</span><span class="p">)</span>      <span class="c1"># Returns rotated and scaled surface.</span>
<a id="__codelineno-296-4" name="__codelineno-296-4" href="#__codelineno-296-4"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">flip</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">x_bool</span><span class="p">,</span> <span class="n">y_bool</span><span class="p">)</span>           <span class="c1"># Returns flipped surface.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-297-1" name="__codelineno-297-1" href="#__codelineno-297-1"></a><span class="kn">from</span> <span class="nn">pygame.draw</span> <span class="kn">import</span> <span class="n">line</span><span class="p">,</span> <span class="o">...</span>
<a id="__codelineno-297-2" name="__codelineno-297-2" href="#__codelineno-297-2"></a><span class="n">line</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">),</span> <span class="n">width</span><span class="p">)</span>  <span class="c1"># Draws a line to the surface.</span>
<a id="__codelineno-297-3" name="__codelineno-297-3" href="#__codelineno-297-3"></a><span class="n">arc</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">from_rad</span><span class="p">,</span> <span class="n">to_rad</span><span class="p">)</span>    <span class="c1"># Also ellipse(&lt;Surf&gt;, color, &lt;Rect&gt;, width=0).</span>
<a id="__codelineno-297-4" name="__codelineno-297-4" href="#__codelineno-297-4"></a><span class="n">rect</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>            <span class="c1"># Also polygon(&lt;Surf&gt;, color, points, width=0).</span>
</code></pre></div>
<h3 id="font">Font<a class="headerlink" href="#font" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-298-1" name="__codelineno-298-1" href="#__codelineno-298-1"></a><span class="o">&lt;</span><span class="n">Font</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">/</span><span class="n">file</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>        <span class="c1"># Loads TTF file. Pass None for default font.</span>
<a id="__codelineno-298-2" name="__codelineno-298-2" href="#__codelineno-298-2"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Font</span><span class="o">&gt;.</span><span class="n">render</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">antialias</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>  <span class="c1"># Background color can be specified at the end.</span>
</code></pre></div>
<h3 id="sound">Sound<a class="headerlink" href="#sound" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-299-1" name="__codelineno-299-1" href="#__codelineno-299-1"></a><span class="o">&lt;</span><span class="n">Sound</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">/</span><span class="n">file</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># WAV file or bytes/array of signed shorts.</span>
<a id="__codelineno-299-2" name="__codelineno-299-2" href="#__codelineno-299-2"></a><span class="o">&lt;</span><span class="n">Sound</span><span class="o">&gt;.</span><span class="n">play</span><span class="o">/</span><span class="n">stop</span><span class="p">()</span>                             <span class="c1"># Also &lt;Sound&gt;.set_volume(&lt;float&gt;).</span>
</code></pre></div>
<h3 id="basic-mario-brothers-example">Basic Mario Brothers Example<a class="headerlink" href="#basic-mario-brothers-example" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-300-1" name="__codelineno-300-1" href="#__codelineno-300-1"></a><span class="kn">import</span> <span class="nn">collections</span><span class="o">,</span> <span class="nn">dataclasses</span><span class="o">,</span> <span class="nn">enum</span><span class="o">,</span> <span class="nn">io</span><span class="o">,</span> <span class="nn">itertools</span> <span class="k">as</span> <span class="nn">it</span><span class="o">,</span> <span class="nn">pygame</span> <span class="k">as</span> <span class="nn">pg</span><span class="o">,</span> <span class="nn">urllib.request</span>
<a id="__codelineno-300-2" name="__codelineno-300-2" href="#__codelineno-300-2"></a><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span>
<a id="__codelineno-300-3" name="__codelineno-300-3" href="#__codelineno-300-3"></a>
<a id="__codelineno-300-4" name="__codelineno-300-4" href="#__codelineno-300-4"></a><span class="n">P</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;x y&#39;</span><span class="p">)</span>          <span class="c1"># Position</span>
<a id="__codelineno-300-5" name="__codelineno-300-5" href="#__codelineno-300-5"></a><span class="n">D</span> <span class="o">=</span> <span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;n e s w&#39;</span><span class="p">)</span>                   <span class="c1"># Direction</span>
<a id="__codelineno-300-6" name="__codelineno-300-6" href="#__codelineno-300-6"></a><span class="n">W</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">MAX_S</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>                  <span class="c1"># Width, Height, Max speed</span>
<a id="__codelineno-300-7" name="__codelineno-300-7" href="#__codelineno-300-7"></a>
<a id="__codelineno-300-8" name="__codelineno-300-8" href="#__codelineno-300-8"></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-300-9" name="__codelineno-300-9" href="#__codelineno-300-9"></a>    <span class="k">def</span> <span class="nf">get_screen</span><span class="p">():</span>
<a id="__codelineno-300-10" name="__codelineno-300-10" href="#__codelineno-300-10"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<a id="__codelineno-300-11" name="__codelineno-300-11" href="#__codelineno-300-11"></a>        <span class="k">return</span> <span class="n">pg</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="n">W</span><span class="o">*</span><span class="mi">16</span><span class="p">,</span> <span class="n">H</span><span class="o">*</span><span class="mi">16</span><span class="p">))</span>
<a id="__codelineno-300-12" name="__codelineno-300-12" href="#__codelineno-300-12"></a>    <span class="k">def</span> <span class="nf">get_images</span><span class="p">():</span>
<a id="__codelineno-300-13" name="__codelineno-300-13" href="#__codelineno-300-13"></a>        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://gto76.github.io/python-cheatsheet/web/mario_bros.png&#39;</span>
<a id="__codelineno-300-14" name="__codelineno-300-14" href="#__codelineno-300-14"></a>        <span class="n">img</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()))</span>
<a id="__codelineno-300-15" name="__codelineno-300-15" href="#__codelineno-300-15"></a>        <span class="k">return</span> <span class="p">[</span><span class="n">img</span><span class="o">.</span><span class="n">subsurface</span><span class="p">(</span><span class="n">get_rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span> <span class="o">//</span> <span class="mi">16</span><span class="p">)]</span>
<a id="__codelineno-300-16" name="__codelineno-300-16" href="#__codelineno-300-16"></a>    <span class="k">def</span> <span class="nf">get_mario</span><span class="p">():</span>
<a id="__codelineno-300-17" name="__codelineno-300-17" href="#__codelineno-300-17"></a>        <span class="n">Mario</span> <span class="o">=</span> <span class="n">dataclasses</span><span class="o">.</span><span class="n">make_dataclass</span><span class="p">(</span><span class="s1">&#39;Mario&#39;</span><span class="p">,</span> <span class="s1">&#39;rect spd facing_left frame_cycle&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<a id="__codelineno-300-18" name="__codelineno-300-18" href="#__codelineno-300-18"></a>        <span class="k">return</span> <span class="n">Mario</span><span class="p">(</span><span class="n">get_rect</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="kc">False</span><span class="p">,</span> <span class="n">it</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<a id="__codelineno-300-19" name="__codelineno-300-19" href="#__codelineno-300-19"></a>    <span class="k">def</span> <span class="nf">get_tiles</span><span class="p">():</span>
<a id="__codelineno-300-20" name="__codelineno-300-20" href="#__codelineno-300-20"></a>        <span class="n">border</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">W</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">H</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">W</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">or</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">H</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<a id="__codelineno-300-21" name="__codelineno-300-21" href="#__codelineno-300-21"></a>        <span class="n">platforms</span> <span class="o">=</span> <span class="p">[(</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">W</span><span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="n">randint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">H</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">W</span><span class="o">*</span><span class="n">H</span> <span class="o">//</span> <span class="mi">10</span><span class="p">)]</span>
<a id="__codelineno-300-22" name="__codelineno-300-22" href="#__codelineno-300-22"></a>        <span class="k">return</span> <span class="p">[</span><span class="n">get_rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">border</span> <span class="o">+</span> <span class="n">platforms</span><span class="p">]</span>
<a id="__codelineno-300-23" name="__codelineno-300-23" href="#__codelineno-300-23"></a>    <span class="k">def</span> <span class="nf">get_rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<a id="__codelineno-300-24" name="__codelineno-300-24" href="#__codelineno-300-24"></a>        <span class="k">return</span> <span class="n">pg</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="mi">16</span><span class="p">,</span> <span class="n">y</span><span class="o">*</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
<a id="__codelineno-300-25" name="__codelineno-300-25" href="#__codelineno-300-25"></a>    <span class="n">run</span><span class="p">(</span><span class="n">get_screen</span><span class="p">(),</span> <span class="n">get_images</span><span class="p">(),</span> <span class="n">get_mario</span><span class="p">(),</span> <span class="n">get_tiles</span><span class="p">())</span>
<a id="__codelineno-300-26" name="__codelineno-300-26" href="#__codelineno-300-26"></a>
<a id="__codelineno-300-27" name="__codelineno-300-27" href="#__codelineno-300-27"></a><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">images</span><span class="p">,</span> <span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">):</span>
<a id="__codelineno-300-28" name="__codelineno-300-28" href="#__codelineno-300-28"></a>    <span class="n">clock</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Clock</span><span class="p">()</span>
<a id="__codelineno-300-29" name="__codelineno-300-29" href="#__codelineno-300-29"></a>    <span class="n">pressed</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<a id="__codelineno-300-30" name="__codelineno-300-30" href="#__codelineno-300-30"></a>    <span class="k">while</span> <span class="ow">not</span> <span class="n">pg</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pg</span><span class="o">.</span><span class="n">QUIT</span><span class="p">)</span> <span class="ow">and</span> <span class="n">clock</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="mi">28</span><span class="p">):</span>
<a id="__codelineno-300-31" name="__codelineno-300-31" href="#__codelineno-300-31"></a>        <span class="n">keys</span> <span class="o">=</span> <span class="p">{</span><span class="n">pg</span><span class="o">.</span><span class="n">K_UP</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">K_RIGHT</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">e</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">K_DOWN</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">K_LEFT</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">w</span><span class="p">}</span>
<a id="__codelineno-300-32" name="__codelineno-300-32" href="#__codelineno-300-32"></a>        <span class="n">pressed</span> <span class="o">|=</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">pg</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pg</span><span class="o">.</span><span class="n">KEYDOWN</span><span class="p">)}</span>
<a id="__codelineno-300-33" name="__codelineno-300-33" href="#__codelineno-300-33"></a>        <span class="n">pressed</span> <span class="o">-=</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">pg</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pg</span><span class="o">.</span><span class="n">KEYUP</span><span class="p">)}</span>
<a id="__codelineno-300-34" name="__codelineno-300-34" href="#__codelineno-300-34"></a>        <span class="n">update_speed</span><span class="p">(</span><span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">,</span> <span class="n">pressed</span><span class="p">)</span>
<a id="__codelineno-300-35" name="__codelineno-300-35" href="#__codelineno-300-35"></a>        <span class="n">update_position</span><span class="p">(</span><span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
<a id="__codelineno-300-36" name="__codelineno-300-36" href="#__codelineno-300-36"></a>        <span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">images</span><span class="p">,</span> <span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">,</span> <span class="n">pressed</span><span class="p">)</span>
<a id="__codelineno-300-37" name="__codelineno-300-37" href="#__codelineno-300-37"></a>
<a id="__codelineno-300-38" name="__codelineno-300-38" href="#__codelineno-300-38"></a><span class="k">def</span> <span class="nf">update_speed</span><span class="p">(</span><span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">,</span> <span class="n">pressed</span><span class="p">):</span>
<a id="__codelineno-300-39" name="__codelineno-300-39" href="#__codelineno-300-39"></a>    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">mario</span><span class="o">.</span><span class="n">spd</span>
<a id="__codelineno-300-40" name="__codelineno-300-40" href="#__codelineno-300-40"></a>    <span class="n">x</span> <span class="o">+=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">((</span><span class="n">D</span><span class="o">.</span><span class="n">e</span> <span class="ow">in</span> <span class="n">pressed</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">w</span> <span class="ow">in</span> <span class="n">pressed</span><span class="p">))</span>
<a id="__codelineno-300-41" name="__codelineno-300-41" href="#__codelineno-300-41"></a>    <span class="n">x</span> <span class="o">+=</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-300-42" name="__codelineno-300-42" href="#__codelineno-300-42"></a>    <span class="n">y</span> <span class="o">+=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">D</span><span class="o">.</span><span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">get_boundaries</span><span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">rect</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">n</span> <span class="ow">in</span> <span class="n">pressed</span><span class="p">)</span> <span class="o">*</span> <span class="o">-</span><span class="mi">10</span>
<a id="__codelineno-300-43" name="__codelineno-300-43" href="#__codelineno-300-43"></a>    <span class="n">mario</span><span class="o">.</span><span class="n">spd</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="n">MAX_S</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">MAX_S</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)),</span> <span class="n">y</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="n">MAX_S</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">MAX_S</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">y</span><span class="p">)))</span>
<a id="__codelineno-300-44" name="__codelineno-300-44" href="#__codelineno-300-44"></a>
<a id="__codelineno-300-45" name="__codelineno-300-45" href="#__codelineno-300-45"></a><span class="k">def</span> <span class="nf">update_position</span><span class="p">(</span><span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">):</span>
<a id="__codelineno-300-46" name="__codelineno-300-46" href="#__codelineno-300-46"></a>    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">mario</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">topleft</span>
<a id="__codelineno-300-47" name="__codelineno-300-47" href="#__codelineno-300-47"></a>    <span class="n">n_steps</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">mario</span><span class="o">.</span><span class="n">spd</span><span class="p">)</span>
<a id="__codelineno-300-48" name="__codelineno-300-48" href="#__codelineno-300-48"></a>    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_steps</span><span class="p">):</span>
<a id="__codelineno-300-49" name="__codelineno-300-49" href="#__codelineno-300-49"></a>        <span class="n">mario</span><span class="o">.</span><span class="n">spd</span> <span class="o">=</span> <span class="n">stop_on_collision</span><span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">spd</span><span class="p">,</span> <span class="n">get_boundaries</span><span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">rect</span><span class="p">,</span> <span class="n">tiles</span><span class="p">))</span>
<a id="__codelineno-300-50" name="__codelineno-300-50" href="#__codelineno-300-50"></a>        <span class="n">mario</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">topleft</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">spd</span><span class="o">.</span><span class="n">x</span> <span class="o">/</span> <span class="n">n_steps</span><span class="p">),</span> <span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">spd</span><span class="o">.</span><span class="n">y</span> <span class="o">/</span> <span class="n">n_steps</span><span class="p">)</span>
<a id="__codelineno-300-51" name="__codelineno-300-51" href="#__codelineno-300-51"></a>
<a id="__codelineno-300-52" name="__codelineno-300-52" href="#__codelineno-300-52"></a><span class="k">def</span> <span class="nf">get_boundaries</span><span class="p">(</span><span class="n">rect</span><span class="p">,</span> <span class="n">tiles</span><span class="p">):</span>
<a id="__codelineno-300-53" name="__codelineno-300-53" href="#__codelineno-300-53"></a>    <span class="n">deltas</span> <span class="o">=</span> <span class="p">{</span><span class="n">D</span><span class="o">.</span><span class="n">n</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">D</span><span class="o">.</span><span class="n">e</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">D</span><span class="o">.</span><span class="n">s</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">D</span><span class="o">.</span><span class="n">w</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
<a id="__codelineno-300-54" name="__codelineno-300-54" href="#__codelineno-300-54"></a>    <span class="k">return</span> <span class="p">{</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span><span class="p">,</span> <span class="n">delta</span> <span class="ow">in</span> <span class="n">deltas</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">rect</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span><span class="o">.</span><span class="n">collidelist</span><span class="p">(</span><span class="n">tiles</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span>
<a id="__codelineno-300-55" name="__codelineno-300-55" href="#__codelineno-300-55"></a>
<a id="__codelineno-300-56" name="__codelineno-300-56" href="#__codelineno-300-56"></a><span class="k">def</span> <span class="nf">stop_on_collision</span><span class="p">(</span><span class="n">spd</span><span class="p">,</span> <span class="n">bounds</span><span class="p">):</span>
<a id="__codelineno-300-57" name="__codelineno-300-57" href="#__codelineno-300-57"></a>    <span class="k">return</span> <span class="n">P</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span> <span class="k">if</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">w</span> <span class="ow">in</span> <span class="n">bounds</span> <span class="ow">and</span> <span class="n">spd</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">e</span> <span class="ow">in</span> <span class="n">bounds</span> <span class="ow">and</span> <span class="n">spd</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">else</span> <span class="n">spd</span><span class="o">.</span><span class="n">x</span><span class="p">,</span>
<a id="__codelineno-300-58" name="__codelineno-300-58" href="#__codelineno-300-58"></a>             <span class="n">y</span><span class="o">=</span><span class="mi">0</span> <span class="k">if</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">n</span> <span class="ow">in</span> <span class="n">bounds</span> <span class="ow">and</span> <span class="n">spd</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">s</span> <span class="ow">in</span> <span class="n">bounds</span> <span class="ow">and</span> <span class="n">spd</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">else</span> <span class="n">spd</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<a id="__codelineno-300-59" name="__codelineno-300-59" href="#__codelineno-300-59"></a>
<a id="__codelineno-300-60" name="__codelineno-300-60" href="#__codelineno-300-60"></a><span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">images</span><span class="p">,</span> <span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">,</span> <span class="n">pressed</span><span class="p">):</span>
<a id="__codelineno-300-61" name="__codelineno-300-61" href="#__codelineno-300-61"></a>    <span class="k">def</span> <span class="nf">get_marios_image_index</span><span class="p">():</span>
<a id="__codelineno-300-62" name="__codelineno-300-62" href="#__codelineno-300-62"></a>        <span class="k">if</span> <span class="n">D</span><span class="o">.</span><span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">get_boundaries</span><span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">rect</span><span class="p">,</span> <span class="n">tiles</span><span class="p">):</span>
<a id="__codelineno-300-63" name="__codelineno-300-63" href="#__codelineno-300-63"></a>            <span class="k">return</span> <span class="mi">4</span>
<a id="__codelineno-300-64" name="__codelineno-300-64" href="#__codelineno-300-64"></a>        <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">frame_cycle</span><span class="p">)</span> <span class="k">if</span> <span class="p">{</span><span class="n">D</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="n">D</span><span class="o">.</span><span class="n">e</span><span class="p">}</span> <span class="o">&amp;</span> <span class="n">pressed</span> <span class="k">else</span> <span class="mi">6</span>
<a id="__codelineno-300-65" name="__codelineno-300-65" href="#__codelineno-300-65"></a>    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">85</span><span class="p">,</span> <span class="mi">168</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
<a id="__codelineno-300-66" name="__codelineno-300-66" href="#__codelineno-300-66"></a>    <span class="n">mario</span><span class="o">.</span><span class="n">facing_left</span> <span class="o">=</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">w</span> <span class="ow">in</span> <span class="n">pressed</span><span class="p">)</span> <span class="k">if</span> <span class="p">{</span><span class="n">D</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="n">D</span><span class="o">.</span><span class="n">e</span><span class="p">}</span> <span class="o">&amp;</span> <span class="n">pressed</span> <span class="k">else</span> <span class="n">mario</span><span class="o">.</span><span class="n">facing_left</span>
<a id="__codelineno-300-67" name="__codelineno-300-67" href="#__codelineno-300-67"></a>    <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">images</span><span class="p">[</span><span class="n">get_marios_image_index</span><span class="p">()</span> <span class="o">+</span> <span class="n">mario</span><span class="o">.</span><span class="n">facing_left</span> <span class="o">*</span> <span class="mi">9</span><span class="p">],</span> <span class="n">mario</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
<a id="__codelineno-300-68" name="__codelineno-300-68" href="#__codelineno-300-68"></a>    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tiles</span><span class="p">:</span>
<a id="__codelineno-300-69" name="__codelineno-300-69" href="#__codelineno-300-69"></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">images</span><span class="p">[</span><span class="mi">18</span> <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">W</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">16</span><span class="p">]</span> <span class="ow">or</span> <span class="n">t</span><span class="o">.</span><span class="n">y</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">H</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">16</span><span class="p">]</span> <span class="k">else</span> <span class="mi">19</span><span class="p">],</span> <span class="n">t</span><span class="p">)</span>
<a id="__codelineno-300-70" name="__codelineno-300-70" href="#__codelineno-300-70"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
<a id="__codelineno-300-71" name="__codelineno-300-71" href="#__codelineno-300-71"></a>
<a id="__codelineno-300-72" name="__codelineno-300-72" href="#__codelineno-300-72"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<a id="__codelineno-300-73" name="__codelineno-300-73" href="#__codelineno-300-73"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h2 id="pandas">Pandas<a class="headerlink" href="#pandas" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-301-1" name="__codelineno-301-1" href="#__codelineno-301-1"></a><span class="c1"># $ pip3 install pandas matplotlib</span>
<a id="__codelineno-301-2" name="__codelineno-301-2" href="#__codelineno-301-2"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span><span class="o">,</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</code></pre></div>
<h3 id="series">Series<a class="headerlink" href="#series" title="Permanent link">&para;</a></h3>
<p><strong>Ordered dictionary with a name.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-302-1" name="__codelineno-302-1" href="#__codelineno-302-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<a id="__codelineno-302-2" name="__codelineno-302-2" href="#__codelineno-302-2"></a><span class="n">x</span>    <span class="mi">1</span>
<a id="__codelineno-302-3" name="__codelineno-302-3" href="#__codelineno-302-3"></a><span class="n">y</span>    <span class="mi">2</span>
<a id="__codelineno-302-4" name="__codelineno-302-4" href="#__codelineno-302-4"></a><span class="n">Name</span><span class="p">:</span> <span class="n">a</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-303-1" name="__codelineno-303-1" href="#__codelineno-303-1"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Assigns RangeIndex starting at 0.</span>
<a id="__codelineno-303-2" name="__codelineno-303-2" href="#__codelineno-303-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Takes dictionary&#39;s keys for index.</span>
<a id="__codelineno-303-3" name="__codelineno-303-3" href="#__codelineno-303-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">/</span><span class="n">Series</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">index</span><span class="o">=&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Only keeps items with keys specified in index.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-304-1" name="__codelineno-304-1" href="#__codelineno-304-1"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>                           <span class="c1"># Or: &lt;Sr&gt;.iloc[index]</span>
<a id="__codelineno-304-2" name="__codelineno-304-2" href="#__codelineno-304-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[</span><span class="n">keys</span><span class="p">]</span>                          <span class="c1"># Or: &lt;Sr&gt;.iloc[indexes]</span>
<a id="__codelineno-304-3" name="__codelineno-304-3" href="#__codelineno-304-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[</span><span class="n">from_key</span> <span class="p">:</span> <span class="n">to_key_inclusive</span><span class="p">]</span>   <span class="c1"># Or: &lt;Sr&gt;.iloc[from_i : to_i_exclusive]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-305-1" name="__codelineno-305-1" href="#__codelineno-305-1"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span><span class="p">[</span><span class="n">key</span><span class="o">/</span><span class="n">index</span><span class="p">]</span>                         <span class="c1"># Or: &lt;Sr&gt;.key</span>
<a id="__codelineno-305-2" name="__codelineno-305-2" href="#__codelineno-305-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span><span class="p">[</span><span class="n">keys</span><span class="o">/</span><span class="n">indexes</span><span class="p">]</span>                      <span class="c1"># Or: &lt;Sr&gt;[&lt;keys_slice/slice&gt;]</span>
<a id="__codelineno-305-3" name="__codelineno-305-3" href="#__codelineno-305-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span><span class="p">[</span><span class="n">bools</span><span class="p">]</span>                             <span class="c1"># Or: &lt;Sr&gt;.loc/iloc[bools]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-306-1" name="__codelineno-306-1" href="#__codelineno-306-1"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">/</span><span class="n">Sr</span><span class="o">&gt;</span>                          <span class="c1"># Returns a Series of bools.</span>
<a id="__codelineno-306-2" name="__codelineno-306-2" href="#__codelineno-306-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">+</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">/</span><span class="n">Sr</span><span class="o">&gt;</span>                          <span class="c1"># Items with non-matching keys get value NaN.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-307-1" name="__codelineno-307-1" href="#__codelineno-307-1"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_Sr</span><span class="o">&gt;</span><span class="p">)</span>                 <span class="c1"># Concats multiple series into one long Series.</span>
<a id="__codelineno-307-2" name="__codelineno-307-2" href="#__codelineno-307-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">combine_first</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Adds items that are not yet present.</span>
<a id="__codelineno-307-3" name="__codelineno-307-3" href="#__codelineno-307-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">update</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span><span class="p">)</span>                              <span class="c1"># Updates items that are already present.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-308-1" name="__codelineno-308-1" href="#__codelineno-308-1"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">plot</span><span class="o">.</span><span class="n">line</span><span class="o">/</span><span class="n">area</span><span class="o">/</span><span class="n">bar</span><span class="o">/</span><span class="n">pie</span><span class="o">/</span><span class="n">hist</span><span class="p">()</span>             <span class="c1"># Generates a Matplotlib plot.</span>
<a id="__codelineno-308-2" name="__codelineno-308-2" href="#__codelineno-308-2"></a><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                                     <span class="c1"># Displays the plot. Also plt.savefig(&lt;path&gt;).</span>
</code></pre></div>
<h4 id="series-aggregate-transform-map">Series — Aggregate, Transform, Map:<a class="headerlink" href="#series-aggregate-transform-map" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-309-1" name="__codelineno-309-1" href="#__codelineno-309-1"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">sum</span><span class="o">/</span><span class="nb">max</span><span class="o">/</span><span class="n">mean</span><span class="o">/</span><span class="n">idxmax</span><span class="o">/</span><span class="nb">all</span><span class="p">()</span>          <span class="c1"># Or: &lt;Sr&gt;.agg(lambda &lt;Sr&gt;: &lt;el&gt;)</span>
<a id="__codelineno-309-2" name="__codelineno-309-2" href="#__codelineno-309-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">rank</span><span class="o">/</span><span class="n">diff</span><span class="o">/</span><span class="n">cumsum</span><span class="o">/</span><span class="n">ffill</span><span class="o">/</span><span class="n">interplt</span><span class="p">()</span>  <span class="c1"># Or: &lt;Sr&gt;.agg/transform(lambda &lt;Sr&gt;: &lt;Sr&gt;)</span>
<a id="__codelineno-309-3" name="__codelineno-309-3" href="#__codelineno-309-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">fillna</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Or: &lt;Sr&gt;.agg/transform/map(lambda &lt;el&gt;: &lt;el&gt;)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-310-1" name="__codelineno-310-1" href="#__codelineno-310-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">sr</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
<a id="__codelineno-310-2" name="__codelineno-310-2" href="#__codelineno-310-2"></a><span class="n">x</span>    <span class="mi">2</span>
<a id="__codelineno-310-3" name="__codelineno-310-3" href="#__codelineno-310-3"></a><span class="n">y</span>    <span class="mi">3</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-311-1" name="__codelineno-311-1" href="#__codelineno-311-1"></a>+---------------+-------------+-------------+---------------+
<a id="__codelineno-311-2" name="__codelineno-311-2" href="#__codelineno-311-2"></a>|               |    &#39;sum&#39;    |   [&#39;sum&#39;]   | {&#39;s&#39;: &#39;sum&#39;}  |
<a id="__codelineno-311-3" name="__codelineno-311-3" href="#__codelineno-311-3"></a>+---------------+-------------+-------------+---------------+
<a id="__codelineno-311-4" name="__codelineno-311-4" href="#__codelineno-311-4"></a>| sr.apply(…)   |      5      |    sum  5   |     s  5      |
<a id="__codelineno-311-5" name="__codelineno-311-5" href="#__codelineno-311-5"></a>| sr.agg(…)     |             |             |               |
<a id="__codelineno-311-6" name="__codelineno-311-6" href="#__codelineno-311-6"></a>+---------------+-------------+-------------+---------------+
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-312-1" name="__codelineno-312-1" href="#__codelineno-312-1"></a>+---------------+-------------+-------------+---------------+
<a id="__codelineno-312-2" name="__codelineno-312-2" href="#__codelineno-312-2"></a>|               |    &#39;rank&#39;   |   [&#39;rank&#39;]  | {&#39;r&#39;: &#39;rank&#39;} |
<a id="__codelineno-312-3" name="__codelineno-312-3" href="#__codelineno-312-3"></a>+---------------+-------------+-------------+---------------+
<a id="__codelineno-312-4" name="__codelineno-312-4" href="#__codelineno-312-4"></a>| sr.apply(…)   |             |      rank   |               |
<a id="__codelineno-312-5" name="__codelineno-312-5" href="#__codelineno-312-5"></a>| sr.agg(…)     |     x  1    |   x     1   |    r  x  1    |
<a id="__codelineno-312-6" name="__codelineno-312-6" href="#__codelineno-312-6"></a>|               |     y  2    |   y     2   |       y  2    |
<a id="__codelineno-312-7" name="__codelineno-312-7" href="#__codelineno-312-7"></a>+---------------+-------------+-------------+---------------+
</code></pre></div>
* <strong>Keys/indexes/bools can't be tuples because <code>'obj[x, y]'</code> is converted to <code>'obj[(x, y)]'</code>!</strong>
* <strong>Methods ffill(), interpolate(), fillna() and dropna() accept <code>'inplace=True'</code>.</strong>
* <strong>Last result has a hierarchical index. Use <code>'&lt;Sr&gt;[key_1, key_2]'</code> to get its values.</strong></p>
<h3 id="dataframe">DataFrame<a class="headerlink" href="#dataframe" title="Permanent link">&para;</a></h3>
<p><strong>Table with labeled rows and columns.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-313-1" name="__codelineno-313-1" href="#__codelineno-313-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
<a id="__codelineno-313-2" name="__codelineno-313-2" href="#__codelineno-313-2"></a>   <span class="n">x</span>  <span class="n">y</span>
<a id="__codelineno-313-3" name="__codelineno-313-3" href="#__codelineno-313-3"></a><span class="n">a</span>  <span class="mi">1</span>  <span class="mi">2</span>
<a id="__codelineno-313-4" name="__codelineno-313-4" href="#__codelineno-313-4"></a><span class="n">b</span>  <span class="mi">3</span>  <span class="mi">4</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-314-1" name="__codelineno-314-1" href="#__codelineno-314-1"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="o">&lt;</span><span class="n">list_of_rows</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Rows can be either lists, dicts or series.</span>
<a id="__codelineno-314-2" name="__codelineno-314-2" href="#__codelineno-314-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="o">&lt;</span><span class="n">dict_of_columns</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Columns can be either lists, dicts or series.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-315-1" name="__codelineno-315-1" href="#__codelineno-315-1"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_key</span><span class="p">,</span> <span class="n">column_key</span><span class="p">]</span>        <span class="c1"># Or: &lt;DF&gt;.iloc[row_index, column_index]</span>
<a id="__codelineno-315-2" name="__codelineno-315-2" href="#__codelineno-315-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_key</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>                  <span class="c1"># Or: &lt;DF&gt;.iloc[row_index/es]</span>
<a id="__codelineno-315-3" name="__codelineno-315-3" href="#__codelineno-315-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">column_key</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>            <span class="c1"># Or: &lt;DF&gt;.iloc[:, column_index/es]</span>
<a id="__codelineno-315-4" name="__codelineno-315-4" href="#__codelineno-315-4"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_bools</span><span class="p">,</span> <span class="n">column_bools</span><span class="p">]</span>    <span class="c1"># Or: &lt;DF&gt;.iloc[row_bools, column_bools]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-316-1" name="__codelineno-316-1" href="#__codelineno-316-1"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span><span class="p">[</span><span class="n">column_key</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>                   <span class="c1"># Or: &lt;DF&gt;.column_key</span>
<a id="__codelineno-316-2" name="__codelineno-316-2" href="#__codelineno-316-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span><span class="p">[</span><span class="n">row_bools</span><span class="p">]</span>                      <span class="c1"># Keeps rows as specified by bools.</span>
<a id="__codelineno-316-3" name="__codelineno-316-3" href="#__codelineno-316-3"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="n">DF_of_bools</span><span class="o">&gt;</span><span class="p">]</span>                  <span class="c1"># Assigns NaN to items that are False in bools.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-317-1" name="__codelineno-317-1" href="#__codelineno-317-1"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">/</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">&gt;</span>                    <span class="c1"># Returns DF of bools. Sr is treated as a row.</span>
<a id="__codelineno-317-2" name="__codelineno-317-2" href="#__codelineno-317-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">+</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">/</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">&gt;</span>                    <span class="c1"># Items with non-matching keys get value NaN.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-318-1" name="__codelineno-318-1" href="#__codelineno-318-1"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">set_index</span><span class="p">(</span><span class="n">column_key</span><span class="p">)</span>           <span class="c1"># Replaces row keys with values from the column.</span>
<a id="__codelineno-318-2" name="__codelineno-318-2" href="#__codelineno-318-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>         <span class="c1"># Drops or moves row keys to column named index.</span>
<a id="__codelineno-318-3" name="__codelineno-318-3" href="#__codelineno-318-3"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">sort_index</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>      <span class="c1"># Sorts rows by row keys. Use `axis=1` for cols.</span>
<a id="__codelineno-318-4" name="__codelineno-318-4" href="#__codelineno-318-4"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">column_key</span><span class="o">/</span><span class="n">s</span><span class="p">)</span>       <span class="c1"># Sorts rows by passed column/s. Also `axis=1`.</span>
</code></pre></div>
<h4 id="dataframe-merge-join-concat">DataFrame — Merge, Join, Concat:<a class="headerlink" href="#dataframe-merge-join-concat" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-319-1" name="__codelineno-319-1" href="#__codelineno-319-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">l</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
<a id="__codelineno-319-2" name="__codelineno-319-2" href="#__codelineno-319-2"></a>   <span class="n">x</span>  <span class="n">y</span>
<a id="__codelineno-319-3" name="__codelineno-319-3" href="#__codelineno-319-3"></a><span class="n">a</span>  <span class="mi">1</span>  <span class="mi">2</span>
<a id="__codelineno-319-4" name="__codelineno-319-4" href="#__codelineno-319-4"></a><span class="n">b</span>  <span class="mi">3</span>  <span class="mi">4</span>
<a id="__codelineno-319-5" name="__codelineno-319-5" href="#__codelineno-319-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">])</span>
<a id="__codelineno-319-6" name="__codelineno-319-6" href="#__codelineno-319-6"></a>   <span class="n">y</span>  <span class="n">z</span>
<a id="__codelineno-319-7" name="__codelineno-319-7" href="#__codelineno-319-7"></a><span class="n">b</span>  <span class="mi">4</span>  <span class="mi">5</span>
<a id="__codelineno-319-8" name="__codelineno-319-8" href="#__codelineno-319-8"></a><span class="n">c</span>  <span class="mi">6</span>  <span class="mi">7</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-320-1" name="__codelineno-320-1" href="#__codelineno-320-1"></a>+------------------------+---------------+------------+------------+--------------------------+
<a id="__codelineno-320-2" name="__codelineno-320-2" href="#__codelineno-320-2"></a>|                        |    &#39;outer&#39;    |   &#39;inner&#39;  |   &#39;left&#39;   |       Description        |
<a id="__codelineno-320-3" name="__codelineno-320-3" href="#__codelineno-320-3"></a>+------------------------+---------------+------------+------------+--------------------------+
<a id="__codelineno-320-4" name="__codelineno-320-4" href="#__codelineno-320-4"></a>| l.merge(r, on=&#39;y&#39;,     |    x   y   z  | x   y   z  | x   y   z  | Merges on column if &#39;on&#39; |
<a id="__codelineno-320-5" name="__codelineno-320-5" href="#__codelineno-320-5"></a>|            how=…)      | 0  1   2   .  | 3   4   5  | 1   2   .  | or &#39;left/right_on&#39; are   |
<a id="__codelineno-320-6" name="__codelineno-320-6" href="#__codelineno-320-6"></a>|                        | 1  3   4   5  |            | 3   4   5  | set, else on shared cols.|
<a id="__codelineno-320-7" name="__codelineno-320-7" href="#__codelineno-320-7"></a>|                        | 2  .   6   7  |            |            | Uses &#39;inner&#39; by default. |
<a id="__codelineno-320-8" name="__codelineno-320-8" href="#__codelineno-320-8"></a>+------------------------+---------------+------------+------------+--------------------------+
<a id="__codelineno-320-9" name="__codelineno-320-9" href="#__codelineno-320-9"></a>| l.join(r, lsuffix=&#39;l&#39;, |    x yl yr  z |            | x yl yr  z | Merges on row keys.      |
<a id="__codelineno-320-10" name="__codelineno-320-10" href="#__codelineno-320-10"></a>|           rsuffix=&#39;r&#39;, | a  1  2  .  . | x yl yr  z | 1  2  .  . | Uses &#39;left&#39; by default.  |
<a id="__codelineno-320-11" name="__codelineno-320-11" href="#__codelineno-320-11"></a>|           how=…)       | b  3  4  4  5 | 3  4  4  5 | 3  4  4  5 | If r is a Series, it is  |
<a id="__codelineno-320-12" name="__codelineno-320-12" href="#__codelineno-320-12"></a>|                        | c  .  .  6  7 |            |            | treated as a column.     |
<a id="__codelineno-320-13" name="__codelineno-320-13" href="#__codelineno-320-13"></a>+------------------------+---------------+------------+------------+--------------------------+
<a id="__codelineno-320-14" name="__codelineno-320-14" href="#__codelineno-320-14"></a>| pd.concat([l, r],      |    x   y   z  |     y      |            | Adds rows at the bottom. |
<a id="__codelineno-320-15" name="__codelineno-320-15" href="#__codelineno-320-15"></a>|           axis=0,      | a  1   2   .  |     2      |            | Uses &#39;outer&#39; by default. |
<a id="__codelineno-320-16" name="__codelineno-320-16" href="#__codelineno-320-16"></a>|           join=…)      | b  3   4   .  |     4      |            | A Series is treated as a |
<a id="__codelineno-320-17" name="__codelineno-320-17" href="#__codelineno-320-17"></a>|                        | b  .   4   5  |     4      |            | column. To add a row use |
<a id="__codelineno-320-18" name="__codelineno-320-18" href="#__codelineno-320-18"></a>|                        | c  .   6   7  |     6      |            | pd.concat([l, DF([sr])]).|
<a id="__codelineno-320-19" name="__codelineno-320-19" href="#__codelineno-320-19"></a>+------------------------+---------------+------------+------------+--------------------------+
<a id="__codelineno-320-20" name="__codelineno-320-20" href="#__codelineno-320-20"></a>| pd.concat([l, r],      |    x  y  y  z |            |            | Adds columns at the      |
<a id="__codelineno-320-21" name="__codelineno-320-21" href="#__codelineno-320-21"></a>|           axis=1,      | a  1  2  .  . | x  y  y  z |            | right end. Uses &#39;outer&#39;  |
<a id="__codelineno-320-22" name="__codelineno-320-22" href="#__codelineno-320-22"></a>|           join=…)      | b  3  4  4  5 | 3  4  4  5 |            | by default. A Series is  |
<a id="__codelineno-320-23" name="__codelineno-320-23" href="#__codelineno-320-23"></a>|                        | c  .  .  6  7 |            |            | treated as a column.     |
<a id="__codelineno-320-24" name="__codelineno-320-24" href="#__codelineno-320-24"></a>+------------------------+---------------+------------+------------+--------------------------+
<a id="__codelineno-320-25" name="__codelineno-320-25" href="#__codelineno-320-25"></a>| l.combine_first(r)     |    x   y   z  |            |            | Adds missing rows and    |
<a id="__codelineno-320-26" name="__codelineno-320-26" href="#__codelineno-320-26"></a>|                        | a  1   2   .  |            |            | columns. Also updates    |
<a id="__codelineno-320-27" name="__codelineno-320-27" href="#__codelineno-320-27"></a>|                        | b  3   4   5  |            |            | items that contain NaN.  |
<a id="__codelineno-320-28" name="__codelineno-320-28" href="#__codelineno-320-28"></a>|                        | c  .   6   7  |            |            | Argument r must be a DF. |
<a id="__codelineno-320-29" name="__codelineno-320-29" href="#__codelineno-320-29"></a>+------------------------+---------------+------------+------------+--------------------------+
</code></pre></div>
<h4 id="dataframe-aggregate-transform-map">DataFrame — Aggregate, Transform, Map:<a class="headerlink" href="#dataframe-aggregate-transform-map" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-321-1" name="__codelineno-321-1" href="#__codelineno-321-1"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">sum</span><span class="o">/</span><span class="nb">max</span><span class="o">/</span><span class="n">mean</span><span class="o">/</span><span class="n">idxmax</span><span class="o">/</span><span class="nb">all</span><span class="p">()</span>          <span class="c1"># Or: &lt;DF&gt;.apply/agg(lambda &lt;Sr&gt;: &lt;el&gt;)</span>
<a id="__codelineno-321-2" name="__codelineno-321-2" href="#__codelineno-321-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">rank</span><span class="o">/</span><span class="n">diff</span><span class="o">/</span><span class="n">cumsum</span><span class="o">/</span><span class="n">ffill</span><span class="o">/</span><span class="n">interplt</span><span class="p">()</span>  <span class="c1"># Or: &lt;DF&gt;.apply/agg/transfrm(lambda &lt;Sr&gt;: &lt;Sr&gt;)</span>
<a id="__codelineno-321-3" name="__codelineno-321-3" href="#__codelineno-321-3"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">fillna</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Or: &lt;DF&gt;.applymap(lambda &lt;el&gt;: &lt;el&gt;)</span>
</code></pre></div>
* <strong>All operations operate on columns by default. Pass <code>'axis=1'</code> to process the rows instead.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-322-1" name="__codelineno-322-1" href="#__codelineno-322-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
<a id="__codelineno-322-2" name="__codelineno-322-2" href="#__codelineno-322-2"></a>   <span class="n">x</span>  <span class="n">y</span>
<a id="__codelineno-322-3" name="__codelineno-322-3" href="#__codelineno-322-3"></a><span class="n">a</span>  <span class="mi">1</span>  <span class="mi">2</span>
<a id="__codelineno-322-4" name="__codelineno-322-4" href="#__codelineno-322-4"></a><span class="n">b</span>  <span class="mi">3</span>  <span class="mi">4</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-323-1" name="__codelineno-323-1" href="#__codelineno-323-1"></a>+-----------------+-------------+-------------+---------------+
<a id="__codelineno-323-2" name="__codelineno-323-2" href="#__codelineno-323-2"></a>|                 |    &#39;sum&#39;    |   [&#39;sum&#39;]   | {&#39;x&#39;: &#39;sum&#39;}  |
<a id="__codelineno-323-3" name="__codelineno-323-3" href="#__codelineno-323-3"></a>+-----------------+-------------+-------------+---------------+
<a id="__codelineno-323-4" name="__codelineno-323-4" href="#__codelineno-323-4"></a>| df.apply(…)     |     x  4    |       x  y  |     x  4      |
<a id="__codelineno-323-5" name="__codelineno-323-5" href="#__codelineno-323-5"></a>| df.agg(…)       |     y  6    |  sum  4  6  |               |
<a id="__codelineno-323-6" name="__codelineno-323-6" href="#__codelineno-323-6"></a>+-----------------+-------------+-------------+---------------+
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-324-1" name="__codelineno-324-1" href="#__codelineno-324-1"></a>+-----------------+-------------+-------------+---------------+
<a id="__codelineno-324-2" name="__codelineno-324-2" href="#__codelineno-324-2"></a>|                 |    &#39;rank&#39;   |   [&#39;rank&#39;]  | {&#39;x&#39;: &#39;rank&#39;} |
<a id="__codelineno-324-3" name="__codelineno-324-3" href="#__codelineno-324-3"></a>+-----------------+-------------+-------------+---------------+
<a id="__codelineno-324-4" name="__codelineno-324-4" href="#__codelineno-324-4"></a>| df.apply(…)     |             |      x    y |               |
<a id="__codelineno-324-5" name="__codelineno-324-5" href="#__codelineno-324-5"></a>| df.agg(…)       |      x  y   |   rank rank |        x      |
<a id="__codelineno-324-6" name="__codelineno-324-6" href="#__codelineno-324-6"></a>| df.transform(…) |   a  1  1   | a    1    1 |     a  1      |
<a id="__codelineno-324-7" name="__codelineno-324-7" href="#__codelineno-324-7"></a>|                 |   b  2  2   | b    2    2 |     b  2      |
<a id="__codelineno-324-8" name="__codelineno-324-8" href="#__codelineno-324-8"></a>+-----------------+-------------+-------------+---------------+
</code></pre></div>
* <strong>Use <code>'&lt;DF&gt;[col_key_1, col_key_2][row_key]'</code> to get the fifth result's values.</strong></p>
<h4 id="dataframe-plot-encode-decode">DataFrame — Plot, Encode, Decode:<a class="headerlink" href="#dataframe-plot-encode-decode" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-325-1" name="__codelineno-325-1" href="#__codelineno-325-1"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">plot</span><span class="o">.</span><span class="n">line</span><span class="o">/</span><span class="n">area</span><span class="o">/</span><span class="n">bar</span><span class="o">/</span><span class="n">hist</span><span class="o">/</span><span class="n">scatter</span><span class="o">/</span><span class="n">box</span><span class="p">()</span>     <span class="c1"># Also: `x=column_key, y=column_key/s`.</span>
<a id="__codelineno-325-2" name="__codelineno-325-2" href="#__codelineno-325-2"></a><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                                     <span class="c1"># Displays the plot. Also plt.savefig(&lt;path&gt;).</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-326-1" name="__codelineno-326-1" href="#__codelineno-326-1"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="o">/</span><span class="n">html</span><span class="p">(</span><span class="s1">&#39;&lt;str/path/url&gt;&#39;</span><span class="p">)</span>     <span class="c1"># Run `$ pip3 install beautifulsoup4 lxml`.</span>
<a id="__codelineno-326-2" name="__codelineno-326-2" href="#__codelineno-326-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;&lt;path/url&gt;&#39;</span><span class="p">)</span>               <span class="c1"># Also `names=&lt;list&gt;, parse_dates=False`.</span>
<a id="__codelineno-326-3" name="__codelineno-326-3" href="#__codelineno-326-3"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="o">/</span><span class="n">excel</span><span class="p">(</span><span class="s1">&#39;&lt;path/url&gt;&#39;</span><span class="p">)</span>      <span class="c1"># Use `sheet_name=None` to get all Excel sheets.</span>
<a id="__codelineno-326-4" name="__codelineno-326-4" href="#__codelineno-326-4"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="s1">&#39;&lt;table/query&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">conn</span><span class="o">.&gt;</span><span class="p">)</span>   <span class="c1"># SQLite3/SQLAlchemy connection (see #SQLite).</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-327-1" name="__codelineno-327-1" href="#__codelineno-327-1"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">to_dict</span><span class="p">([</span><span class="s1">&#39;d/l/s/…&#39;</span><span class="p">])</span>             <span class="c1"># Returns columns as dicts, lists or series.</span>
<a id="__codelineno-327-2" name="__codelineno-327-2" href="#__codelineno-327-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">to_json</span><span class="o">/</span><span class="n">html</span><span class="o">/</span><span class="n">csv</span><span class="p">([</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">])</span>       <span class="c1"># Also to_markdown/latex([&lt;path&gt;]).</span>
<a id="__codelineno-327-3" name="__codelineno-327-3" href="#__codelineno-327-3"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">to_pickle</span><span class="o">/</span><span class="n">excel</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                   <span class="c1"># Run `$ pip3 install &quot;pandas[excel]&quot; odfpy`.</span>
<a id="__codelineno-327-4" name="__codelineno-327-4" href="#__codelineno-327-4"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">to_sql</span><span class="p">(</span><span class="s1">&#39;&lt;table_name&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">connection</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Also `if_exists=&#39;fail/replace/append&#39;`.</span>
</code></pre></div>
<h3 id="groupby">GroupBy<a class="headerlink" href="#groupby" title="Permanent link">&para;</a></h3>
<p><strong>Object that groups together rows of a dataframe based on the value of the passed column.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-328-1" name="__codelineno-328-1" href="#__codelineno-328-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;xyz&#39;</span><span class="p">))</span>
<a id="__codelineno-328-2" name="__codelineno-328-2" href="#__codelineno-328-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<a id="__codelineno-328-3" name="__codelineno-328-3" href="#__codelineno-328-3"></a>   <span class="n">x</span>  <span class="n">y</span>  <span class="n">z</span>
<a id="__codelineno-328-4" name="__codelineno-328-4" href="#__codelineno-328-4"></a><span class="n">b</span>  <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>
<a id="__codelineno-328-5" name="__codelineno-328-5" href="#__codelineno-328-5"></a><span class="n">c</span>  <span class="mi">7</span>  <span class="mi">8</span>  <span class="mi">6</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-329-1" name="__codelineno-329-1" href="#__codelineno-329-1"></a><span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">groupby</span><span class="p">(</span><span class="n">column_key</span><span class="o">/</span><span class="n">s</span><span class="p">)</span>              <span class="c1"># Splits DF into groups based on passed column.</span>
<a id="__codelineno-329-2" name="__codelineno-329-2" href="#__codelineno-329-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;.</span><span class="n">apply</span><span class="p">(</span><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span><span class="p">)</span>                      <span class="c1"># Maps each group. Func can return DF, Sr or el.</span>
<a id="__codelineno-329-3" name="__codelineno-329-3" href="#__codelineno-329-3"></a><span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;</span><span class="p">[</span><span class="n">column_key</span><span class="p">]</span>                        <span class="c1"># Single column GB. All operations return a Sr.</span>
<a id="__codelineno-329-4" name="__codelineno-329-4" href="#__codelineno-329-4"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;.</span><span class="n">size</span><span class="p">()</span>                             <span class="c1"># A Sr of group sizes. Keys are group &quot;names&quot;.</span>
</code></pre></div>
<h4 id="groupby-aggregate-transform-map">GroupBy — Aggregate, Transform, Map:<a class="headerlink" href="#groupby-aggregate-transform-map" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-330-1" name="__codelineno-330-1" href="#__codelineno-330-1"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;.</span><span class="n">sum</span><span class="o">/</span><span class="nb">max</span><span class="o">/</span><span class="n">mean</span><span class="o">/</span><span class="n">idxmax</span><span class="o">/</span><span class="nb">all</span><span class="p">()</span>          <span class="c1"># Or: &lt;GB&gt;.agg(lambda &lt;Sr&gt;: &lt;el&gt;)</span>
<a id="__codelineno-330-2" name="__codelineno-330-2" href="#__codelineno-330-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;.</span><span class="n">rank</span><span class="o">/</span><span class="n">diff</span><span class="o">/</span><span class="n">cumsum</span><span class="o">/</span><span class="n">ffill</span><span class="p">()</span>           <span class="c1"># Or: &lt;GB&gt;.transform(lambda &lt;Sr&gt;: &lt;Sr&gt;)</span>
<a id="__codelineno-330-3" name="__codelineno-330-3" href="#__codelineno-330-3"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;.</span><span class="n">fillna</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Or: &lt;GB&gt;.transform(lambda &lt;Sr&gt;: &lt;Sr&gt;)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-331-1" name="__codelineno-331-1" href="#__codelineno-331-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">gb</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">);</span> <span class="n">gb</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<a id="__codelineno-331-2" name="__codelineno-331-2" href="#__codelineno-331-2"></a>   <span class="n">x</span>  <span class="n">y</span>  <span class="n">z</span>
<a id="__codelineno-331-3" name="__codelineno-331-3" href="#__codelineno-331-3"></a><span class="n">a</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>
<a id="__codelineno-331-4" name="__codelineno-331-4" href="#__codelineno-331-4"></a>   <span class="n">x</span>  <span class="n">y</span>  <span class="n">z</span>
<a id="__codelineno-331-5" name="__codelineno-331-5" href="#__codelineno-331-5"></a><span class="n">b</span>  <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>
<a id="__codelineno-331-6" name="__codelineno-331-6" href="#__codelineno-331-6"></a><span class="n">c</span>  <span class="mi">7</span>  <span class="mi">8</span>  <span class="mi">6</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-332-1" name="__codelineno-332-1" href="#__codelineno-332-1"></a>+-----------------+-------------+-------------+-------------+---------------+
<a id="__codelineno-332-2" name="__codelineno-332-2" href="#__codelineno-332-2"></a>|                 |    &#39;sum&#39;    |    &#39;rank&#39;   |   [&#39;rank&#39;]  | {&#39;x&#39;: &#39;rank&#39;} |
<a id="__codelineno-332-3" name="__codelineno-332-3" href="#__codelineno-332-3"></a>+-----------------+-------------+-------------+-------------+---------------+
<a id="__codelineno-332-4" name="__codelineno-332-4" href="#__codelineno-332-4"></a>| gb.agg(…)       |      x   y  |             |      x    y |               |
<a id="__codelineno-332-5" name="__codelineno-332-5" href="#__codelineno-332-5"></a>|                 |  z          |      x  y   |   rank rank |        x      |
<a id="__codelineno-332-6" name="__codelineno-332-6" href="#__codelineno-332-6"></a>|                 |  3   1   2  |   a  1  1   | a    1    1 |     a  1      |
<a id="__codelineno-332-7" name="__codelineno-332-7" href="#__codelineno-332-7"></a>|                 |  6  11  13  |   b  1  1   | b    1    1 |     b  1      |
<a id="__codelineno-332-8" name="__codelineno-332-8" href="#__codelineno-332-8"></a>|                 |             |   c  2  2   | c    2    2 |     c  2      |
<a id="__codelineno-332-9" name="__codelineno-332-9" href="#__codelineno-332-9"></a>+-----------------+-------------+-------------+-------------+---------------+
<a id="__codelineno-332-10" name="__codelineno-332-10" href="#__codelineno-332-10"></a>| gb.transform(…) |      x   y  |      x  y   |             |               |
<a id="__codelineno-332-11" name="__codelineno-332-11" href="#__codelineno-332-11"></a>|                 |  a   1   2  |   a  1  1   |             |               |
<a id="__codelineno-332-12" name="__codelineno-332-12" href="#__codelineno-332-12"></a>|                 |  b  11  13  |   b  1  1   |             |               |
<a id="__codelineno-332-13" name="__codelineno-332-13" href="#__codelineno-332-13"></a>|                 |  c  11  13  |   c  2  2   |             |               |
<a id="__codelineno-332-14" name="__codelineno-332-14" href="#__codelineno-332-14"></a>+-----------------+-------------+-------------+-------------+---------------+
</code></pre></div>
<h3 id="rolling">Rolling<a class="headerlink" href="#rolling" title="Permanent link">&para;</a></h3>
<p><strong>Object for rolling window calculations.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-333-1" name="__codelineno-333-1" href="#__codelineno-333-1"></a><span class="o">&lt;</span><span class="n">RSr</span><span class="o">/</span><span class="n">RDF</span><span class="o">/</span><span class="n">RGB</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">/</span><span class="n">GB</span><span class="o">&gt;.</span><span class="n">rolling</span><span class="p">(</span><span class="n">win_size</span><span class="p">)</span>   <span class="c1"># Also: `min_periods=None, center=False`.</span>
<a id="__codelineno-333-2" name="__codelineno-333-2" href="#__codelineno-333-2"></a><span class="o">&lt;</span><span class="n">RSr</span><span class="o">/</span><span class="n">RDF</span><span class="o">/</span><span class="n">RGB</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">RDF</span><span class="o">/</span><span class="n">RGB</span><span class="o">&gt;</span><span class="p">[</span><span class="n">column_key</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>        <span class="c1"># Or: &lt;RDF/RGB&gt;.column_key</span>
<a id="__codelineno-333-3" name="__codelineno-333-3" href="#__codelineno-333-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">&gt;</span>       <span class="o">=</span> <span class="o">&lt;</span><span class="n">R</span><span class="o">&gt;.</span><span class="n">mean</span><span class="o">/</span><span class="nb">sum</span><span class="o">/</span><span class="nb">max</span><span class="p">()</span>             <span class="c1"># Or: &lt;R&gt;.apply/agg(&lt;agg_func/str&gt;)</span>
</code></pre></div>
<h2 id="plotly">Plotly<a class="headerlink" href="#plotly" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-334-1" name="__codelineno-334-1" href="#__codelineno-334-1"></a><span class="c1"># $ pip3 install pandas plotly kaleido</span>
<a id="__codelineno-334-2" name="__codelineno-334-2" href="#__codelineno-334-2"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span><span class="o">,</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">ex</span>
<a id="__codelineno-334-3" name="__codelineno-334-3" href="#__codelineno-334-3"></a><span class="o">&lt;</span><span class="n">Figure</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ex</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">x</span><span class="o">=&lt;</span><span class="n">col_name</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">y</span><span class="o">=&lt;</span><span class="n">col_name</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># Or: ex.line(x=&lt;list&gt;, y=&lt;list&gt;)</span>
<a id="__codelineno-334-4" name="__codelineno-334-4" href="#__codelineno-334-4"></a><span class="o">&lt;</span><span class="n">Figure</span><span class="o">&gt;.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="err">…</span><span class="p">)</span>  <span class="c1"># `paper_bgcolor=&#39;rgb(0, 0, 0)&#39;`.</span>
<a id="__codelineno-334-5" name="__codelineno-334-5" href="#__codelineno-334-5"></a><span class="o">&lt;</span><span class="n">Figure</span><span class="o">&gt;.</span><span class="n">write_html</span><span class="o">/</span><span class="n">json</span><span class="o">/</span><span class="n">image</span><span class="p">(</span><span class="s1">&#39;&lt;path&gt;&#39;</span><span class="p">)</span>                    <span class="c1"># Also &lt;Figure&gt;.show().</span>
</code></pre></div>
<h4 id="displays-a-line-chart-of-total-coronavirus-deaths-per-million-grouped-by-continent">Displays a line chart of total coronavirus deaths per million grouped by continent:<a class="headerlink" href="#displays-a-line-chart-of-total-coronavirus-deaths-per-million-grouped-by-continent" title="Permanent link">&para;</a></h4>
<p><img alt="Covid Deaths" src="web/covid_deaths.png" /></p>
<div id="2a950764-39fc-416d-97fe-0a6226a3095f" class="plotly-graph-div" style="height:312px; width:914px;"></div>

<div class="highlight"><pre><span></span><code><a id="__codelineno-335-1" name="__codelineno-335-1" href="#__codelineno-335-1"></a><span class="n">covid</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://covid.ourworldindata.org/data/owid-covid-data.csv&#39;</span><span class="p">,</span>
<a id="__codelineno-335-2" name="__codelineno-335-2" href="#__codelineno-335-2"></a>                    <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;iso_code&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;total_deaths&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="p">])</span>
<a id="__codelineno-335-3" name="__codelineno-335-3" href="#__codelineno-335-3"></a><span class="n">continents</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://gist.githubusercontent.com/stevewithington/20a69c0b6d2ff&#39;</span>
<a id="__codelineno-335-4" name="__codelineno-335-4" href="#__codelineno-335-4"></a>                         <span class="s1">&#39;846ea5d35e5fc47f26c/raw/country-and-continent-codes-list-csv.csv&#39;</span><span class="p">,</span>
<a id="__codelineno-335-5" name="__codelineno-335-5" href="#__codelineno-335-5"></a>                         <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Three_Letter_Country_Code&#39;</span><span class="p">,</span> <span class="s1">&#39;Continent_Name&#39;</span><span class="p">])</span>
<a id="__codelineno-335-6" name="__codelineno-335-6" href="#__codelineno-335-6"></a><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">covid</span><span class="p">,</span> <span class="n">continents</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;iso_code&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;Three_Letter_Country_Code&#39;</span><span class="p">)</span>
<a id="__codelineno-335-7" name="__codelineno-335-7" href="#__codelineno-335-7"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Continent_Name&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<a id="__codelineno-335-8" name="__codelineno-335-8" href="#__codelineno-335-8"></a><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Total Deaths per Million&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">total_deaths</span> <span class="o">*</span> <span class="mf">1e6</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">population</span>
<a id="__codelineno-335-9" name="__codelineno-335-9" href="#__codelineno-335-9"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">date</span> <span class="o">&gt;</span> <span class="s1">&#39;2020-03-14&#39;</span><span class="p">]</span>
<a id="__codelineno-335-10" name="__codelineno-335-10" href="#__codelineno-335-10"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Continent_Name&#39;</span><span class="p">:</span> <span class="s1">&#39;Continent&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
<a id="__codelineno-335-11" name="__codelineno-335-11" href="#__codelineno-335-11"></a><span class="n">ex</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Total Deaths per Million&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Continent&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<h4 id="displays-a-multi-axis-line-chart-of-total-coronavirus-cases-and-changes-in-prices-of-bitcoin-dow-jones-and-gold">Displays a multi-axis line chart of total coronavirus cases and changes in prices of Bitcoin, Dow Jones and gold:<a class="headerlink" href="#displays-a-multi-axis-line-chart-of-total-coronavirus-cases-and-changes-in-prices-of-bitcoin-dow-jones-and-gold" title="Permanent link">&para;</a></h4>
<p><img alt="Covid Cases" src="web/covid_cases.png" /></p>
<div id="e23ccacc-a456-478b-b467-7282a2165921" class="plotly-graph-div" style="height:287px; width:935px;"></div>

<div class="highlight"><pre><span></span><code><a id="__codelineno-336-1" name="__codelineno-336-1" href="#__codelineno-336-1"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span><span class="o">,</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<a id="__codelineno-336-2" name="__codelineno-336-2" href="#__codelineno-336-2"></a>
<a id="__codelineno-336-3" name="__codelineno-336-3" href="#__codelineno-336-3"></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-336-4" name="__codelineno-336-4" href="#__codelineno-336-4"></a>    <span class="n">covid</span><span class="p">,</span> <span class="n">bitcoin</span><span class="p">,</span> <span class="n">gold</span><span class="p">,</span> <span class="n">dow</span> <span class="o">=</span> <span class="n">scrape_data</span><span class="p">()</span>
<a id="__codelineno-336-5" name="__codelineno-336-5" href="#__codelineno-336-5"></a>    <span class="n">display_data</span><span class="p">(</span><span class="n">wrangle_data</span><span class="p">(</span><span class="n">covid</span><span class="p">,</span> <span class="n">bitcoin</span><span class="p">,</span> <span class="n">gold</span><span class="p">,</span> <span class="n">dow</span><span class="p">))</span>
<a id="__codelineno-336-6" name="__codelineno-336-6" href="#__codelineno-336-6"></a>
<a id="__codelineno-336-7" name="__codelineno-336-7" href="#__codelineno-336-7"></a><span class="k">def</span> <span class="nf">scrape_data</span><span class="p">():</span>
<a id="__codelineno-336-8" name="__codelineno-336-8" href="#__codelineno-336-8"></a>    <span class="k">def</span> <span class="nf">get_covid_cases</span><span class="p">():</span>
<a id="__codelineno-336-9" name="__codelineno-336-9" href="#__codelineno-336-9"></a>        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://covid.ourworldindata.org/data/owid-covid-data.csv&#39;</span>
<a id="__codelineno-336-10" name="__codelineno-336-10" href="#__codelineno-336-10"></a>        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;location&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;total_cases&#39;</span><span class="p">])</span>
<a id="__codelineno-336-11" name="__codelineno-336-11" href="#__codelineno-336-11"></a>        <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="s1">&#39;World&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">total_cases</span>
<a id="__codelineno-336-12" name="__codelineno-336-12" href="#__codelineno-336-12"></a>    <span class="k">def</span> <span class="nf">get_ticker</span><span class="p">(</span><span class="n">symbol</span><span class="p">):</span>
<a id="__codelineno-336-13" name="__codelineno-336-13" href="#__codelineno-336-13"></a>        <span class="n">url</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s1">&#39;https://query1.finance.yahoo.com/v7/finance/download/</span><span class="si">{</span><span class="n">symbol</span><span class="si">}</span><span class="s1">?&#39;</span>
<a id="__codelineno-336-14" name="__codelineno-336-14" href="#__codelineno-336-14"></a>               <span class="s1">&#39;period1=1579651200&amp;period2=9999999999&amp;interval=1d&amp;events=history&#39;</span><span class="p">)</span>
<a id="__codelineno-336-15" name="__codelineno-336-15" href="#__codelineno-336-15"></a>        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Close&#39;</span><span class="p">])</span>
<a id="__codelineno-336-16" name="__codelineno-336-16" href="#__codelineno-336-16"></a>        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">Close</span>
<a id="__codelineno-336-17" name="__codelineno-336-17" href="#__codelineno-336-17"></a>    <span class="n">out</span> <span class="o">=</span> <span class="n">get_covid_cases</span><span class="p">(),</span> <span class="n">get_ticker</span><span class="p">(</span><span class="s1">&#39;BTC-USD&#39;</span><span class="p">),</span> <span class="n">get_ticker</span><span class="p">(</span><span class="s1">&#39;GC=F&#39;</span><span class="p">),</span> <span class="n">get_ticker</span><span class="p">(</span><span class="s1">&#39;^DJI&#39;</span><span class="p">)</span>
<a id="__codelineno-336-18" name="__codelineno-336-18" href="#__codelineno-336-18"></a>    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="o">.</span><span class="n">rename</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Total Cases&#39;</span><span class="p">,</span> <span class="s1">&#39;Bitcoin&#39;</span><span class="p">,</span> <span class="s1">&#39;Gold&#39;</span><span class="p">,</span> <span class="s1">&#39;Dow Jones&#39;</span><span class="p">])</span>
<a id="__codelineno-336-19" name="__codelineno-336-19" href="#__codelineno-336-19"></a>
<a id="__codelineno-336-20" name="__codelineno-336-20" href="#__codelineno-336-20"></a><span class="k">def</span> <span class="nf">wrangle_data</span><span class="p">(</span><span class="n">covid</span><span class="p">,</span> <span class="n">bitcoin</span><span class="p">,</span> <span class="n">gold</span><span class="p">,</span> <span class="n">dow</span><span class="p">):</span>
<a id="__codelineno-336-21" name="__codelineno-336-21" href="#__codelineno-336-21"></a>    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">bitcoin</span><span class="p">,</span> <span class="n">gold</span><span class="p">,</span> <span class="n">dow</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Creates table by joining columns on dates.</span>
<a id="__codelineno-336-22" name="__codelineno-336-22" href="#__codelineno-336-22"></a>    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span>            <span class="c1"># Sorts table by date and interpolates NaN-s.</span>
<a id="__codelineno-336-23" name="__codelineno-336-23" href="#__codelineno-336-23"></a>    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2020-02-23&#39;</span><span class="p">:]</span>                    <span class="c1"># Discards rows before &#39;2020-02-23&#39;.</span>
<a id="__codelineno-336-24" name="__codelineno-336-24" href="#__codelineno-336-24"></a>    <span class="n">df</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>                  <span class="c1"># Calculates percentages relative to day 1.</span>
<a id="__codelineno-336-25" name="__codelineno-336-25" href="#__codelineno-336-25"></a>    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">covid</span><span class="p">)</span>                           <span class="c1"># Adds column with covid cases.</span>
<a id="__codelineno-336-26" name="__codelineno-336-26" href="#__codelineno-336-26"></a>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>   <span class="c1"># Sorts columns by last day&#39;s value.</span>
<a id="__codelineno-336-27" name="__codelineno-336-27" href="#__codelineno-336-27"></a>
<a id="__codelineno-336-28" name="__codelineno-336-28" href="#__codelineno-336-28"></a><span class="k">def</span> <span class="nf">display_data</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
<a id="__codelineno-336-29" name="__codelineno-336-29" href="#__codelineno-336-29"></a>    <span class="n">figure</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<a id="__codelineno-336-30" name="__codelineno-336-30" href="#__codelineno-336-30"></a>    <span class="k">for</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
<a id="__codelineno-336-31" name="__codelineno-336-31" href="#__codelineno-336-31"></a>        <span class="n">yaxis</span> <span class="o">=</span> <span class="s1">&#39;y1&#39;</span> <span class="k">if</span> <span class="n">col_name</span> <span class="o">==</span> <span class="s1">&#39;Total Cases&#39;</span> <span class="k">else</span> <span class="s1">&#39;y2&#39;</span>
<a id="__codelineno-336-32" name="__codelineno-336-32" href="#__codelineno-336-32"></a>        <span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">col_name</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="n">col_name</span><span class="p">,</span> <span class="n">yaxis</span><span class="o">=</span><span class="n">yaxis</span><span class="p">)</span>
<a id="__codelineno-336-33" name="__codelineno-336-33" href="#__codelineno-336-33"></a>        <span class="n">figure</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<a id="__codelineno-336-34" name="__codelineno-336-34" href="#__codelineno-336-34"></a>    <span class="n">figure</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
<a id="__codelineno-336-35" name="__codelineno-336-35" href="#__codelineno-336-35"></a>        <span class="n">yaxis1</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Total Cases&#39;</span><span class="p">,</span> <span class="n">rangemode</span><span class="o">=</span><span class="s1">&#39;tozero&#39;</span><span class="p">),</span>
<a id="__codelineno-336-36" name="__codelineno-336-36" href="#__codelineno-336-36"></a>        <span class="n">yaxis2</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;%&#39;</span><span class="p">,</span> <span class="n">rangemode</span><span class="o">=</span><span class="s1">&#39;tozero&#39;</span><span class="p">,</span> <span class="n">overlaying</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">),</span>
<a id="__codelineno-336-37" name="__codelineno-336-37" href="#__codelineno-336-37"></a>        <span class="n">legend</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">1.08</span><span class="p">),</span>
<a id="__codelineno-336-38" name="__codelineno-336-38" href="#__codelineno-336-38"></a>        <span class="n">width</span><span class="o">=</span><span class="mi">944</span><span class="p">,</span>
<a id="__codelineno-336-39" name="__codelineno-336-39" href="#__codelineno-336-39"></a>        <span class="n">height</span><span class="o">=</span><span class="mi">423</span>
<a id="__codelineno-336-40" name="__codelineno-336-40" href="#__codelineno-336-40"></a>    <span class="p">)</span>
<a id="__codelineno-336-41" name="__codelineno-336-41" href="#__codelineno-336-41"></a>    <span class="n">figure</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<a id="__codelineno-336-42" name="__codelineno-336-42" href="#__codelineno-336-42"></a>
<a id="__codelineno-336-43" name="__codelineno-336-43" href="#__codelineno-336-43"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<a id="__codelineno-336-44" name="__codelineno-336-44" href="#__codelineno-336-44"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h2 id="appendix">Appendix<a class="headerlink" href="#appendix" title="Permanent link">&para;</a></h2>
<h3 id="cython">Cython<a class="headerlink" href="#cython" title="Permanent link">&para;</a></h3>
<p><strong>Library that compiles Python code into C.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-337-1" name="__codelineno-337-1" href="#__codelineno-337-1"></a><span class="c1"># $ pip3 install cython</span>
<a id="__codelineno-337-2" name="__codelineno-337-2" href="#__codelineno-337-2"></a><span class="kn">import</span> <span class="nn">pyximport</span><span class="p">;</span> <span class="n">pyximport</span><span class="o">.</span><span class="n">install</span><span class="p">()</span>
<a id="__codelineno-337-3" name="__codelineno-337-3" href="#__codelineno-337-3"></a><span class="kn">import</span> <span class="o">&lt;</span><span class="n">cython_script</span><span class="o">&gt;</span>
<a id="__codelineno-337-4" name="__codelineno-337-4" href="#__codelineno-337-4"></a><span class="o">&lt;</span><span class="n">cython_script</span><span class="o">&gt;.</span><span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h4 id="definitions">Definitions:<a class="headerlink" href="#definitions" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>All <code>'cdef'</code> definitions are optional, but they contribute to the speed-up.</strong></li>
<li><strong>Script needs to be saved with a <code>'pyx'</code> extension.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-338-1" name="__codelineno-338-1" href="#__codelineno-338-1"></a><span class="n">cdef</span> <span class="o">&lt;</span><span class="n">ctype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">var_name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>
<a id="__codelineno-338-2" name="__codelineno-338-2" href="#__codelineno-338-2"></a><span class="n">cdef</span> <span class="o">&lt;</span><span class="n">ctype</span><span class="o">&gt;</span><span class="p">[</span><span class="n">n_elements</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">var_name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
<a id="__codelineno-338-3" name="__codelineno-338-3" href="#__codelineno-338-3"></a><span class="n">cdef</span> <span class="o">&lt;</span><span class="n">ctype</span><span class="o">/</span><span class="n">void</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">func_name</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">ctype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">arg_name</span><span class="o">&gt;</span><span class="p">):</span> <span class="o">...</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-339-1" name="__codelineno-339-1" href="#__codelineno-339-1"></a><span class="n">cdef</span> <span class="k">class</span> <span class="err">&lt;</span><span class="nc">class_name</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-339-2" name="__codelineno-339-2" href="#__codelineno-339-2"></a>    <span class="n">cdef</span> <span class="n">public</span> <span class="o">&lt;</span><span class="n">ctype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">attr_name</span><span class="o">&gt;</span>
<a id="__codelineno-339-3" name="__codelineno-339-3" href="#__codelineno-339-3"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ctype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">arg_name</span><span class="o">&gt;</span><span class="p">):</span>
<a id="__codelineno-339-4" name="__codelineno-339-4" href="#__codelineno-339-4"></a>        <span class="bp">self</span><span class="o">.&lt;</span><span class="n">attr_name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">arg_name</span><span class="o">&gt;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-340-1" name="__codelineno-340-1" href="#__codelineno-340-1"></a><span class="n">cdef</span> <span class="n">enum</span> <span class="o">&lt;</span><span class="n">enum_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">member_name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">member_name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span>
</code></pre></div>
<h3 id="virtual-environments">Virtual Environments<a class="headerlink" href="#virtual-environments" title="Permanent link">&para;</a></h3>
<p><strong>System for installing libraries directly into project's directory.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-341-1" name="__codelineno-341-1" href="#__codelineno-341-1"></a>$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>&lt;name&gt;<span class="w">      </span><span class="c1"># Creates virtual environment in current directory.</span>
<a id="__codelineno-341-2" name="__codelineno-341-2" href="#__codelineno-341-2"></a>$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>&lt;name&gt;/bin/activate<span class="w">  </span><span class="c1"># Activates venv. On Windows run `&lt;name&gt;\Scripts\activate`.</span>
<a id="__codelineno-341-3" name="__codelineno-341-3" href="#__codelineno-341-3"></a>$<span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>&lt;library&gt;<span class="w">      </span><span class="c1"># Installs the library into active environment.</span>
<a id="__codelineno-341-4" name="__codelineno-341-4" href="#__codelineno-341-4"></a>$<span class="w"> </span>python3<span class="w"> </span>&lt;path&gt;<span class="w">              </span><span class="c1"># Runs the script in active environment. Also `./&lt;path&gt;`.</span>
<a id="__codelineno-341-5" name="__codelineno-341-5" href="#__codelineno-341-5"></a>$<span class="w"> </span>deactivate<span class="w">                  </span><span class="c1"># Deactivates the active virtual environment.</span>
</code></pre></div>
<h3 id="basic-script-template">Basic Script Template<a class="headerlink" href="#basic-script-template" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-342-1" name="__codelineno-342-1" href="#__codelineno-342-1"></a><span class="ch">#!/usr/bin/env python3</span>
<a id="__codelineno-342-2" name="__codelineno-342-2" href="#__codelineno-342-2"></a><span class="c1">#</span>
<a id="__codelineno-342-3" name="__codelineno-342-3" href="#__codelineno-342-3"></a><span class="c1"># Usage: .py</span>
<a id="__codelineno-342-4" name="__codelineno-342-4" href="#__codelineno-342-4"></a><span class="c1">#</span>
<a id="__codelineno-342-5" name="__codelineno-342-5" href="#__codelineno-342-5"></a>
<a id="__codelineno-342-6" name="__codelineno-342-6" href="#__codelineno-342-6"></a><span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">argv</span><span class="p">,</span> <span class="n">exit</span>
<a id="__codelineno-342-7" name="__codelineno-342-7" href="#__codelineno-342-7"></a><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span><span class="p">,</span> <span class="n">namedtuple</span>
<a id="__codelineno-342-8" name="__codelineno-342-8" href="#__codelineno-342-8"></a><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">make_dataclass</span>
<a id="__codelineno-342-9" name="__codelineno-342-9" href="#__codelineno-342-9"></a><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<a id="__codelineno-342-10" name="__codelineno-342-10" href="#__codelineno-342-10"></a><span class="kn">import</span> <span class="nn">functools</span> <span class="k">as</span> <span class="nn">ft</span><span class="o">,</span> <span class="nn">itertools</span> <span class="k">as</span> <span class="nn">it</span><span class="o">,</span> <span class="nn">operator</span> <span class="k">as</span> <span class="nn">op</span><span class="o">,</span> <span class="nn">re</span>
<a id="__codelineno-342-11" name="__codelineno-342-11" href="#__codelineno-342-11"></a>
<a id="__codelineno-342-12" name="__codelineno-342-12" href="#__codelineno-342-12"></a>
<a id="__codelineno-342-13" name="__codelineno-342-13" href="#__codelineno-342-13"></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-342-14" name="__codelineno-342-14" href="#__codelineno-342-14"></a>    <span class="k">pass</span>
<a id="__codelineno-342-15" name="__codelineno-342-15" href="#__codelineno-342-15"></a>
<a id="__codelineno-342-16" name="__codelineno-342-16" href="#__codelineno-342-16"></a>
<a id="__codelineno-342-17" name="__codelineno-342-17" href="#__codelineno-342-17"></a><span class="c1">###</span>
<a id="__codelineno-342-18" name="__codelineno-342-18" href="#__codelineno-342-18"></a><span class="c1">##  UTIL</span>
<a id="__codelineno-342-19" name="__codelineno-342-19" href="#__codelineno-342-19"></a><span class="c1">#</span>
<a id="__codelineno-342-20" name="__codelineno-342-20" href="#__codelineno-342-20"></a>
<a id="__codelineno-342-21" name="__codelineno-342-21" href="#__codelineno-342-21"></a><span class="k">def</span> <span class="nf">read_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-342-22" name="__codelineno-342-22" href="#__codelineno-342-22"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-342-23" name="__codelineno-342-23" href="#__codelineno-342-23"></a>        <span class="k">return</span> <span class="n">file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<a id="__codelineno-342-24" name="__codelineno-342-24" href="#__codelineno-342-24"></a>
<a id="__codelineno-342-25" name="__codelineno-342-25" href="#__codelineno-342-25"></a>
<a id="__codelineno-342-26" name="__codelineno-342-26" href="#__codelineno-342-26"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<a id="__codelineno-342-27" name="__codelineno-342-27" href="#__codelineno-342-27"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h2 id="index">Index<a class="headerlink" href="#index" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Only available in the <a href="https://transactions.sendowl.com/products/78175486/4422834F/view">PDF</a>.</strong></li>
<li><strong>Ctrl+F / ⌘F is usually sufficient.</strong></li>
<li><strong>Searching <code>'#&lt;title&gt;'</code> on the <a href="https://gto76.github.io/python-cheatsheet/">webpage</a> will limit the search to the titles.</strong>
Comprehensive Python Cheatsheet
===============================
<sup><a href="https://raw.githubusercontent.com/gto76/python-cheatsheet/main/README.md">Download text file</a>, <a href="https://transactions.sendowl.com/products/78175486/4422834F/view">Buy PDF</a>, <a href="https://github.com/gto76/python-cheatsheet">Fork me on GitHub</a> or <a href="https://github.com/gto76/python-cheatsheet/wiki/Frequently-Asked-Questions">Check out FAQ</a>.
</sup></li>
</ul>
<p><img alt="Monty Python" src="web/image_888.jpeg" /></p>
<h2 id="contents">Contents<a class="headerlink" href="#contents" title="Permanent link">&para;</a></h2>
<p><strong>&nbsp;&nbsp;&nbsp;</strong> <strong>1. Collections:</strong> <strong>&nbsp;</strong> <strong><a href="#list"><code>List</code></a></strong><strong>,</strong> <strong><a href="#dictionary"><code>Dictionary</code></a></strong><strong>,</strong> <strong><a href="#set"><code>Set</code></a></strong><strong>,</strong> <strong><a href="#tuple"><code>Tuple</code></a></strong><strong>,</strong> <strong><a href="#range"><code>Range</code></a></strong><strong>,</strong> <strong><a href="#enumerate"><code>Enumerate</code></a></strong><strong>,</strong> <strong><a href="#iterator"><code>Iterator</code></a></strong><strong>,</strong> <strong><a href="#generator"><code>Generator</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>2. Types:</strong> <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>  <strong><a href="#type"><code>Type</code></a></strong><strong>,</strong> <strong><a href="#string"><code>String</code></a></strong><strong>,</strong> <strong><a href="#regex"><code>Regular_Exp</code></a></strong><strong>,</strong> <strong><a href="#format"><code>Format</code></a></strong><strong>,</strong> <strong><a href="#numbers-1"><code>Numbers</code></a></strong><strong>,</strong> <strong><a href="#combinatorics"><code>Combinatorics</code></a></strong><strong>,</strong> <strong><a href="#datetime"><code>Datetime</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>3. Syntax:</strong> <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>  <strong><a href="#arguments"><code>Args</code></a></strong><strong>,</strong> <strong><a href="#inline"><code>Inline</code></a></strong><strong>,</strong> <strong><a href="#imports"><code>Import</code></a></strong><strong>,</strong> <strong><a href="#decorator"><code>Decorator</code></a></strong><strong>,</strong> <strong><a href="#class"><code>Class</code></a></strong><strong>,</strong> <strong><a href="#duck-types"><code>Duck_Types</code></a></strong><strong>,</strong> <strong><a href="#enum"><code>Enum</code></a></strong><strong>,</strong> <strong><a href="#exceptions"><code>Exception</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>4. System:</strong> <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>  <strong><a href="#exit"><code>Exit</code></a></strong><strong>,</strong> <strong><a href="#print"><code>Print</code></a></strong><strong>,</strong> <strong><a href="#input"><code>Input</code></a></strong><strong>,</strong> <strong><a href="#command-line-arguments"><code>Command_Line_Arguments</code></a></strong><strong>,</strong> <strong><a href="#open"><code>Open</code></a></strong><strong>,</strong> <strong><a href="#paths"><code>Path</code></a></strong><strong>,</strong> <strong><a href="#os-commands"><code>OS_Commands</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>5. Data:</strong> <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>  <strong><a href="#json"><code>JSON</code></a></strong><strong>,</strong> <strong><a href="#pickle"><code>Pickle</code></a></strong><strong>,</strong> <strong><a href="#csv"><code>CSV</code></a></strong><strong>,</strong> <strong><a href="#sqlite"><code>SQLite</code></a></strong><strong>,</strong> <strong><a href="#bytes"><code>Bytes</code></a></strong><strong>,</strong> <strong><a href="#struct"><code>Struct</code></a></strong><strong>,</strong> <strong><a href="#array"><code>Array</code></a></strong><strong>,</strong> <strong><a href="#memory-view"><code>Memory_View</code></a></strong><strong>,</strong> <strong><a href="#deque"><code>Deque</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>6. Advanced:</strong> <strong>&nbsp;&nbsp;&nbsp;</strong>  <strong><a href="#threading"><code>Threading</code></a></strong><strong>,</strong> <strong><a href="#operator"><code>Operator</code></a></strong><strong>,</strong> <strong><a href="#match-statement"><code>Match_Stmt</code></a></strong><strong>,</strong> <strong><a href="#logging"><code>Logging</code></a></strong><strong>,</strong> <strong><a href="#introspection"><code>Introspection</code></a></strong><strong>,</strong> <strong><a href="#coroutines"><code>Coroutines</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>7. Libraries:</strong> <strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</strong>  <strong><a href="#progress-bar"><code>Progress_Bar</code></a></strong><strong>,</strong> <strong><a href="#plot"><code>Plots</code></a></strong><strong>,</strong> <strong><a href="#table"><code>Tables</code></a></strong><strong>,</strong> <strong><a href="#curses"><code>Curses</code></a></strong><strong>,</strong> <strong><a href="#pysimplegui"><code>GUIs</code></a></strong><strong>,</strong> <strong><a href="#scraping"><code>Scraping</code></a></strong><strong>,</strong> <strong><a href="#web"><code>Web</code></a></strong><strong>,</strong> <strong><a href="#profiling"><code>Profiling</code></a></strong><strong>.</strong><br />
<strong>&nbsp;&nbsp;&nbsp;</strong> <strong>8. Multimedia:</strong> <strong>&nbsp;&nbsp;</strong>  <strong><a href="#numpy"><code>NumPy</code></a></strong><strong>,</strong> <strong><a href="#image"><code>Image</code></a></strong><strong>,</strong> <strong><a href="#animation"><code>Animation</code></a></strong><strong>,</strong> <strong><a href="#audio"><code>Audio</code></a></strong><strong>,</strong> <strong><a href="#synthesizer"><code>Synthesizer</code></a></strong><strong>,</strong> <strong><a href="#pygame"><code>Pygame</code></a></strong><strong>,</strong> <strong><a href="#pandas"><code>Pandas</code></a></strong><strong>,</strong> <strong><a href="#plotly"><code>Plotly</code></a></strong><strong>.</strong></p>
<h2 id="main_1">Main<a class="headerlink" href="#main_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-343-1" name="__codelineno-343-1" href="#__codelineno-343-1"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>      <span class="c1"># Runs main() if file wasn&#39;t imported.</span>
<a id="__codelineno-343-2" name="__codelineno-343-2" href="#__codelineno-343-2"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h2 id="list_1">List<a class="headerlink" href="#list_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-344-1" name="__codelineno-344-1" href="#__codelineno-344-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="nb">slice</span><span class="o">&gt;</span><span class="p">]</span>        <span class="c1"># Or: &lt;list&gt;[from_inclusive : to_exclusive : ±step]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-345-1" name="__codelineno-345-1" href="#__codelineno-345-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">append</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Or: &lt;list&gt; += [&lt;el&gt;]</span>
<a id="__codelineno-345-2" name="__codelineno-345-2" href="#__codelineno-345-2"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">extend</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Or: &lt;list&gt; += &lt;collection&gt;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-346-1" name="__codelineno-346-1" href="#__codelineno-346-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">sort</span><span class="p">()</span>                   <span class="c1"># Sorts in ascending order.</span>
<a id="__codelineno-346-2" name="__codelineno-346-2" href="#__codelineno-346-2"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">reverse</span><span class="p">()</span>                <span class="c1"># Reverses the list in-place.</span>
<a id="__codelineno-346-3" name="__codelineno-346-3" href="#__codelineno-346-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>   <span class="c1"># Returns a new sorted list.</span>
<a id="__codelineno-346-4" name="__codelineno-346-4" href="#__codelineno-346-4"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">reversed</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Returns reversed iterator.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-347-1" name="__codelineno-347-1" href="#__codelineno-347-1"></a><span class="n">sum_of_elements</span>  <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-347-2" name="__codelineno-347-2" href="#__codelineno-347-2"></a><span class="n">elementwise_sum</span>  <span class="o">=</span> <span class="p">[</span><span class="nb">sum</span><span class="p">(</span><span class="n">pair</span><span class="p">)</span> <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">list_a</span><span class="p">,</span> <span class="n">list_b</span><span class="p">)]</span>
<a id="__codelineno-347-3" name="__codelineno-347-3" href="#__codelineno-347-3"></a><span class="n">sorted_by_second</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">el</span><span class="p">:</span> <span class="n">el</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-347-4" name="__codelineno-347-4" href="#__codelineno-347-4"></a><span class="n">sorted_by_both</span>   <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">el</span><span class="p">:</span> <span class="p">(</span><span class="n">el</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">el</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
<a id="__codelineno-347-5" name="__codelineno-347-5" href="#__codelineno-347-5"></a><span class="n">flatter_list</span>     <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">))</span>
<a id="__codelineno-347-6" name="__codelineno-347-6" href="#__codelineno-347-6"></a><span class="n">product_of_elems</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">out</span><span class="p">,</span> <span class="n">el</span><span class="p">:</span> <span class="n">out</span> <span class="o">*</span> <span class="n">el</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-347-7" name="__codelineno-347-7" href="#__codelineno-347-7"></a><span class="n">list_of_chars</span>    <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div>
* <strong>For details about sorted(), min() and max() see <a href="#sortable">sortable</a>.</strong>
* <strong>Module <a href="#operator">operator</a> provides functions itemgetter() and mul() that offer the same functionality as <a href="#lambda">lambda</a> expressions above.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-348-1" name="__codelineno-348-1" href="#__codelineno-348-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">insert</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Inserts item at index and moves the rest to the right.</span>
<a id="__codelineno-348-2" name="__codelineno-348-2" href="#__codelineno-348-2"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">pop</span><span class="p">([</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">])</span>     <span class="c1"># Removes and returns item at index or from the end.</span>
<a id="__codelineno-348-3" name="__codelineno-348-3" href="#__codelineno-348-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">count</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Returns number of occurrences. Also works on strings.</span>
<a id="__codelineno-348-4" name="__codelineno-348-4" href="#__codelineno-348-4"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">index</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Returns index of the first occurrence or raises ValueError.</span>
<a id="__codelineno-348-5" name="__codelineno-348-5" href="#__codelineno-348-5"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">remove</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Removes first occurrence of the item or raises ValueError.</span>
<a id="__codelineno-348-6" name="__codelineno-348-6" href="#__codelineno-348-6"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;.</span><span class="n">clear</span><span class="p">()</span>                  <span class="c1"># Removes all items. Also works on dictionary and set.</span>
</code></pre></div>
<h2 id="dictionary_1">Dictionary<a class="headerlink" href="#dictionary_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-349-1" name="__codelineno-349-1" href="#__codelineno-349-1"></a><span class="o">&lt;</span><span class="n">view</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">keys</span><span class="p">()</span>                          <span class="c1"># Coll. of keys that reflects changes.</span>
<a id="__codelineno-349-2" name="__codelineno-349-2" href="#__codelineno-349-2"></a><span class="o">&lt;</span><span class="n">view</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">values</span><span class="p">()</span>                        <span class="c1"># Coll. of values that reflects changes.</span>
<a id="__codelineno-349-3" name="__codelineno-349-3" href="#__codelineno-349-3"></a><span class="o">&lt;</span><span class="n">view</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">items</span><span class="p">()</span>                         <span class="c1"># Coll. of key-value tuples that reflects chgs.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-350-1" name="__codelineno-350-1" href="#__codelineno-350-1"></a><span class="n">value</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>          <span class="c1"># Returns default if key is missing.</span>
<a id="__codelineno-350-2" name="__codelineno-350-2" href="#__codelineno-350-2"></a><span class="n">value</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>   <span class="c1"># Returns and writes default if key is missing.</span>
<a id="__codelineno-350-3" name="__codelineno-350-3" href="#__codelineno-350-3"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># Returns a dict with default value `&lt;type&gt;()`.</span>
<a id="__codelineno-350-4" name="__codelineno-350-4" href="#__codelineno-350-4"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">defaultdict</span><span class="p">(</span><span class="k">lambda</span><span class="p">:</span> <span class="mi">1</span><span class="p">)</span>     <span class="c1"># Returns a dict with default value 1.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-351-1" name="__codelineno-351-1" href="#__codelineno-351-1"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                     <span class="c1"># Creates a dict from coll. of key-value pairs.</span>
<a id="__codelineno-351-2" name="__codelineno-351-2" href="#__codelineno-351-2"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">keys</span><span class="p">,</span> <span class="n">values</span><span class="p">))</span>                <span class="c1"># Creates a dict from two collections.</span>
<a id="__codelineno-351-3" name="__codelineno-351-3" href="#__codelineno-351-3"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dict</span><span class="o">.</span><span class="n">fromkeys</span><span class="p">(</span><span class="n">keys</span> <span class="p">[,</span> <span class="n">value</span><span class="p">])</span>          <span class="c1"># Creates a dict from collection of keys.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-352-1" name="__codelineno-352-1" href="#__codelineno-352-1"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">update</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">)</span>                           <span class="c1"># Adds items. Replaces ones with matching keys.</span>
<a id="__codelineno-352-2" name="__codelineno-352-2" href="#__codelineno-352-2"></a><span class="n">value</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">pop</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>                         <span class="c1"># Removes item or raises KeyError if missing.</span>
<a id="__codelineno-352-3" name="__codelineno-352-3" href="#__codelineno-352-3"></a><span class="p">{</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="n">value</span><span class="p">}</span>    <span class="c1"># Returns set of keys that point to the value.</span>
<a id="__codelineno-352-4" name="__codelineno-352-4" href="#__codelineno-352-4"></a><span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">keys</span><span class="p">}</span>  <span class="c1"># Returns a dictionary, filtered by keys.</span>
</code></pre></div>
<h3 id="counter_1">Counter<a class="headerlink" href="#counter_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-353-1" name="__codelineno-353-1" href="#__codelineno-353-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">Counter</span>
<a id="__codelineno-353-2" name="__codelineno-353-2" href="#__codelineno-353-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">]</span>
<a id="__codelineno-353-3" name="__codelineno-353-3" href="#__codelineno-353-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span><span class="n">colors</span><span class="p">)</span>
<a id="__codelineno-353-4" name="__codelineno-353-4" href="#__codelineno-353-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span><span class="p">[</span><span class="s1">&#39;yellow&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-353-5" name="__codelineno-353-5" href="#__codelineno-353-5"></a><span class="n">Counter</span><span class="p">({</span><span class="s1">&#39;blue&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;red&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;yellow&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<a id="__codelineno-353-6" name="__codelineno-353-6" href="#__codelineno-353-6"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span><span class="o">.</span><span class="n">most_common</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-353-7" name="__codelineno-353-7" href="#__codelineno-353-7"></a><span class="p">(</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<h2 id="set_1">Set<a class="headerlink" href="#set_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-354-1" name="__codelineno-354-1" href="#__codelineno-354-1"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>                                   <span class="c1"># `{}` returns a dictionary.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-355-1" name="__codelineno-355-1" href="#__codelineno-355-1"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">add</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                                 <span class="c1"># Or: &lt;set&gt; |= {&lt;el&gt;}</span>
<a id="__codelineno-355-2" name="__codelineno-355-2" href="#__codelineno-355-2"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">update</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>              <span class="c1"># Or: &lt;set&gt; |= &lt;set&gt;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-356-1" name="__codelineno-356-1" href="#__codelineno-356-1"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">union</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">)</span>                   <span class="c1"># Or: &lt;set&gt; | &lt;set&gt;</span>
<a id="__codelineno-356-2" name="__codelineno-356-2" href="#__codelineno-356-2"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">intersection</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">)</span>            <span class="c1"># Or: &lt;set&gt; &amp; &lt;set&gt;</span>
<a id="__codelineno-356-3" name="__codelineno-356-3" href="#__codelineno-356-3"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">difference</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">)</span>              <span class="c1"># Or: &lt;set&gt; - &lt;set&gt;</span>
<a id="__codelineno-356-4" name="__codelineno-356-4" href="#__codelineno-356-4"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">symmetric_difference</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">)</span>    <span class="c1"># Or: &lt;set&gt; ^ &lt;set&gt;</span>
<a id="__codelineno-356-5" name="__codelineno-356-5" href="#__codelineno-356-5"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">issubset</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">)</span>                <span class="c1"># Or: &lt;set&gt; &lt;= &lt;set&gt;</span>
<a id="__codelineno-356-6" name="__codelineno-356-6" href="#__codelineno-356-6"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">issuperset</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">)</span>              <span class="c1"># Or: &lt;set&gt; &gt;= &lt;set&gt;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-357-1" name="__codelineno-357-1" href="#__codelineno-357-1"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">pop</span><span class="p">()</span>                              <span class="c1"># Raises KeyError if empty.</span>
<a id="__codelineno-357-2" name="__codelineno-357-2" href="#__codelineno-357-2"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">remove</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                              <span class="c1"># Raises KeyError if missing.</span>
<a id="__codelineno-357-3" name="__codelineno-357-3" href="#__codelineno-357-3"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;.</span><span class="n">discard</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                             <span class="c1"># Doesn&#39;t raise an error.</span>
</code></pre></div>
<h3 id="frozen-set_1">Frozen Set<a class="headerlink" href="#frozen-set_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Is immutable and hashable.</strong></li>
<li><strong>That means it can be used as a key in a dictionary or as an element in a set.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-358-1" name="__codelineno-358-1" href="#__codelineno-358-1"></a><span class="o">&lt;</span><span class="nb">frozenset</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div></li>
</ul>
<h2 id="tuple_1">Tuple<a class="headerlink" href="#tuple_1" title="Permanent link">&para;</a></h2>
<p><strong>Tuple is an immutable and hashable list.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-359-1" name="__codelineno-359-1" href="#__codelineno-359-1"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">()</span>                               <span class="c1"># Empty tuple.</span>
<a id="__codelineno-359-2" name="__codelineno-359-2" href="#__codelineno-359-2"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">,)</span>                          <span class="c1"># Or: &lt;el&gt;,</span>
<a id="__codelineno-359-3" name="__codelineno-359-3" href="#__codelineno-359-3"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">el_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">el_2</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>         <span class="c1"># Or: &lt;el_1&gt;, &lt;el_2&gt; [, ...]</span>
</code></pre></div></p>
<h3 id="named-tuple_1">Named Tuple<a class="headerlink" href="#named-tuple_1" title="Permanent link">&para;</a></h3>
<p><strong>Tuple's subclass with named elements.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-360-1" name="__codelineno-360-1" href="#__codelineno-360-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<a id="__codelineno-360-2" name="__codelineno-360-2" href="#__codelineno-360-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="s1">&#39;x y&#39;</span><span class="p">)</span>
<a id="__codelineno-360-3" name="__codelineno-360-3" href="#__codelineno-360-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-360-4" name="__codelineno-360-4" href="#__codelineno-360-4"></a><span class="n">Point</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-360-5" name="__codelineno-360-5" href="#__codelineno-360-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-360-6" name="__codelineno-360-6" href="#__codelineno-360-6"></a><span class="mi">1</span>
<a id="__codelineno-360-7" name="__codelineno-360-7" href="#__codelineno-360-7"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">p</span><span class="o">.</span><span class="n">x</span>
<a id="__codelineno-360-8" name="__codelineno-360-8" href="#__codelineno-360-8"></a><span class="mi">1</span>
<a id="__codelineno-360-9" name="__codelineno-360-9" href="#__codelineno-360-9"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">)</span>
<a id="__codelineno-360-10" name="__codelineno-360-10" href="#__codelineno-360-10"></a><span class="mi">2</span>
</code></pre></div>
<h2 id="range_1">Range<a class="headerlink" href="#range_1" title="Permanent link">&para;</a></h2>
<p><strong>Immutable and hashable sequence of integers.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-361-1" name="__codelineno-361-1" href="#__codelineno-361-1"></a><span class="o">&lt;</span><span class="nb">range</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">stop</span><span class="p">)</span>                      <span class="c1"># range(to_exclusive)</span>
<a id="__codelineno-361-2" name="__codelineno-361-2" href="#__codelineno-361-2"></a><span class="o">&lt;</span><span class="nb">range</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">)</span>               <span class="c1"># range(from_inclusive, to_exclusive)</span>
<a id="__codelineno-361-3" name="__codelineno-361-3" href="#__codelineno-361-3"></a><span class="o">&lt;</span><span class="nb">range</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="err">±</span><span class="n">step</span><span class="p">)</span>        <span class="c1"># range(from_inclusive, to_exclusive, ±step_size)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-362-1" name="__codelineno-362-1" href="#__codelineno-362-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<a id="__codelineno-362-2" name="__codelineno-362-2" href="#__codelineno-362-2"></a><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</code></pre></div>
<h2 id="enumerate_1">Enumerate<a class="headerlink" href="#enumerate_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-363-1" name="__codelineno-363-1" href="#__codelineno-363-1"></a><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">el</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="n">i_start</span><span class="p">]):</span>
<a id="__codelineno-363-2" name="__codelineno-363-2" href="#__codelineno-363-2"></a>    <span class="o">...</span>
</code></pre></div>
<h2 id="iterator_2">Iterator<a class="headerlink" href="#iterator_2" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-364-1" name="__codelineno-364-1" href="#__codelineno-364-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># `iter(&lt;iter&gt;)` returns unmodified iterator.</span>
<a id="__codelineno-364-2" name="__codelineno-364-2" href="#__codelineno-364-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">to_exclusive</span><span class="p">)</span>    <span class="c1"># A sequence of return values until &#39;to_exclusive&#39;.</span>
<a id="__codelineno-364-3" name="__codelineno-364-3" href="#__codelineno-364-3"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="n">default</span><span class="p">])</span>          <span class="c1"># Raises StopIteration or returns &#39;default&#39; on end.</span>
<a id="__codelineno-364-4" name="__codelineno-364-4" href="#__codelineno-364-4"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span><span class="p">)</span>                      <span class="c1"># Returns a list of iterator&#39;s remaining elements.</span>
</code></pre></div>
<h3 id="itertools_1">Itertools<a class="headerlink" href="#itertools_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-365-1" name="__codelineno-365-1" href="#__codelineno-365-1"></a><span class="kn">import</span> <span class="nn">itertools</span> <span class="k">as</span> <span class="nn">it</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-366-1" name="__codelineno-366-1" href="#__codelineno-366-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>         <span class="c1"># Returns updated value endlessly. Accepts floats.</span>
<a id="__codelineno-366-2" name="__codelineno-366-2" href="#__codelineno-366-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="n">times</span><span class="p">])</span>         <span class="c1"># Returns element endlessly or &#39;times&#39; times.</span>
<a id="__codelineno-366-3" name="__codelineno-366-3" href="#__codelineno-366-3"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Repeats the sequence endlessly.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-367-1" name="__codelineno-367-1" href="#__codelineno-367-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">coll</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>  <span class="c1"># Empties collections in order (figuratively).</span>
<a id="__codelineno-367-2" name="__codelineno-367-2" href="#__codelineno-367-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Empties collections inside a collection in order.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-368-1" name="__codelineno-368-1" href="#__codelineno-368-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">islice</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">to_exclusive</span><span class="p">)</span>   <span class="c1"># Only returns first &#39;to_exclusive&#39; elements.</span>
<a id="__codelineno-368-2" name="__codelineno-368-2" href="#__codelineno-368-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">islice</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">from_inc</span><span class="p">,</span> <span class="err">…</span><span class="p">)</span>    <span class="c1"># `to_exclusive, +step_size`. Indices can be None.</span>
</code></pre></div>
<h2 id="generator_1">Generator<a class="headerlink" href="#generator_1" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Any function that contains a yield statement returns a generator.</strong></li>
<li><strong>Generators and iterators are interchangeable.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-369-1" name="__codelineno-369-1" href="#__codelineno-369-1"></a><span class="k">def</span> <span class="nf">count</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
<a id="__codelineno-369-2" name="__codelineno-369-2" href="#__codelineno-369-2"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-369-3" name="__codelineno-369-3" href="#__codelineno-369-3"></a>        <span class="k">yield</span> <span class="n">start</span>
<a id="__codelineno-369-4" name="__codelineno-369-4" href="#__codelineno-369-4"></a>        <span class="n">start</span> <span class="o">+=</span> <span class="n">step</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-370-1" name="__codelineno-370-1" href="#__codelineno-370-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">count</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-370-2" name="__codelineno-370-2" href="#__codelineno-370-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
<a id="__codelineno-370-3" name="__codelineno-370-3" href="#__codelineno-370-3"></a><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
</code></pre></div>
<h2 id="type_1">Type<a class="headerlink" href="#type_1" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Everything is an object.</strong></li>
<li><strong>Every object has a type.</strong></li>
<li><strong>Type and class are synonymous.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-371-1" name="__codelineno-371-1" href="#__codelineno-371-1"></a><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">type</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Or: &lt;el&gt;.__class__</span>
<a id="__codelineno-371-2" name="__codelineno-371-2" href="#__codelineno-371-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">isinstance</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Or: issubclass(type(&lt;el&gt;), &lt;type&gt;)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-372-1" name="__codelineno-372-1" href="#__codelineno-372-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">type</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="s1">&#39;a&#39;</span><span class="o">.</span><span class="vm">__class__</span><span class="p">,</span> <span class="nb">str</span>
<a id="__codelineno-372-2" name="__codelineno-372-2" href="#__codelineno-372-2"></a><span class="p">(</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">str</span><span class="s1">&#39;&gt;, &lt;class &#39;</span><span class="nb">str</span><span class="s1">&#39;&gt;, &lt;class &#39;</span><span class="nb">str</span><span class="s1">&#39;&gt;)</span>
</code></pre></div>
<h4 id="some-types-do-not-have-built-in-names-so-they-must-be-imported_1">Some types do not have built-in names, so they must be imported:<a class="headerlink" href="#some-types-do-not-have-built-in-names-so-they-must-be-imported_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-373-1" name="__codelineno-373-1" href="#__codelineno-373-1"></a><span class="kn">from</span> <span class="nn">types</span> <span class="kn">import</span> <span class="n">FunctionType</span><span class="p">,</span> <span class="n">MethodType</span><span class="p">,</span> <span class="n">LambdaType</span><span class="p">,</span> <span class="n">GeneratorType</span><span class="p">,</span> <span class="n">ModuleType</span>
</code></pre></div>
<h3 id="abstract-base-classes_1">Abstract Base Classes<a class="headerlink" href="#abstract-base-classes_1" title="Permanent link">&para;</a></h3>
<p><strong>Each abstract base class specifies a set of virtual subclasses. These classes are then recognized by isinstance() and issubclass() as subclasses of the ABC, although they are really not. ABC can also manually decide whether or not a specific class is its virtual subclass, usually based on which methods the class has implemented. For instance, Iterable ABC looks for method iter(), while Collection ABC looks for iter(), contains() and len().</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-374-1" name="__codelineno-374-1" href="#__codelineno-374-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">collections.abc</span> <span class="kn">import</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">Collection</span><span class="p">,</span> <span class="n">Sequence</span>
<a id="__codelineno-374-2" name="__codelineno-374-2" href="#__codelineno-374-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">isinstance</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">Iterable</span><span class="p">)</span>
<a id="__codelineno-374-3" name="__codelineno-374-3" href="#__codelineno-374-3"></a><span class="kc">True</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-375-1" name="__codelineno-375-1" href="#__codelineno-375-1"></a>+------------------+------------+------------+------------+
<a id="__codelineno-375-2" name="__codelineno-375-2" href="#__codelineno-375-2"></a>|                  |  Iterable  | Collection |  Sequence  |
<a id="__codelineno-375-3" name="__codelineno-375-3" href="#__codelineno-375-3"></a>+------------------+------------+------------+------------+
<a id="__codelineno-375-4" name="__codelineno-375-4" href="#__codelineno-375-4"></a>| list, range, str |    yes     |    yes     |    yes     |
<a id="__codelineno-375-5" name="__codelineno-375-5" href="#__codelineno-375-5"></a>| dict, set        |    yes     |    yes     |            |
<a id="__codelineno-375-6" name="__codelineno-375-6" href="#__codelineno-375-6"></a>| iter             |    yes     |            |            |
<a id="__codelineno-375-7" name="__codelineno-375-7" href="#__codelineno-375-7"></a>+------------------+------------+------------+------------+
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-376-1" name="__codelineno-376-1" href="#__codelineno-376-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">numbers</span> <span class="kn">import</span> <span class="n">Number</span><span class="p">,</span> <span class="n">Complex</span><span class="p">,</span> <span class="n">Real</span><span class="p">,</span> <span class="n">Rational</span><span class="p">,</span> <span class="n">Integral</span>
<a id="__codelineno-376-2" name="__codelineno-376-2" href="#__codelineno-376-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">isinstance</span><span class="p">(</span><span class="mi">123</span><span class="p">,</span> <span class="n">Number</span><span class="p">)</span>
<a id="__codelineno-376-3" name="__codelineno-376-3" href="#__codelineno-376-3"></a><span class="kc">True</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-377-1" name="__codelineno-377-1" href="#__codelineno-377-1"></a>+--------------------+----------+----------+----------+----------+----------+
<a id="__codelineno-377-2" name="__codelineno-377-2" href="#__codelineno-377-2"></a>|                    |  Number  |  Complex |   Real   | Rational | Integral |
<a id="__codelineno-377-3" name="__codelineno-377-3" href="#__codelineno-377-3"></a>+--------------------+----------+----------+----------+----------+----------+
<a id="__codelineno-377-4" name="__codelineno-377-4" href="#__codelineno-377-4"></a>| int                |   yes    |   yes    |   yes    |   yes    |   yes    |
<a id="__codelineno-377-5" name="__codelineno-377-5" href="#__codelineno-377-5"></a>| fractions.Fraction |   yes    |   yes    |   yes    |   yes    |          |
<a id="__codelineno-377-6" name="__codelineno-377-6" href="#__codelineno-377-6"></a>| float              |   yes    |   yes    |   yes    |          |          |
<a id="__codelineno-377-7" name="__codelineno-377-7" href="#__codelineno-377-7"></a>| complex            |   yes    |   yes    |          |          |          |
<a id="__codelineno-377-8" name="__codelineno-377-8" href="#__codelineno-377-8"></a>| decimal.Decimal    |   yes    |          |          |          |          |
<a id="__codelineno-377-9" name="__codelineno-377-9" href="#__codelineno-377-9"></a>+--------------------+----------+----------+----------+----------+----------+
</code></pre></div>
<h2 id="string_1">String<a class="headerlink" href="#string_1" title="Permanent link">&para;</a></h2>
<p><strong>Immutable sequence of characters.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-378-1" name="__codelineno-378-1" href="#__codelineno-378-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">strip</span><span class="p">()</span>                       <span class="c1"># Strips all whitespace characters from both ends.</span>
<a id="__codelineno-378-2" name="__codelineno-378-2" href="#__codelineno-378-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;&lt;chars&gt;&#39;</span><span class="p">)</span>              <span class="c1"># Strips passed characters. Also lstrip/rstrip().</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-379-1" name="__codelineno-379-1" href="#__codelineno-379-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">split</span><span class="p">()</span>                       <span class="c1"># Splits on one or more whitespace characters.</span>
<a id="__codelineno-379-2" name="__codelineno-379-2" href="#__codelineno-379-2"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">split</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Splits on &#39;sep&#39; str at most &#39;maxsplit&#39; times.</span>
<a id="__codelineno-379-3" name="__codelineno-379-3" href="#__codelineno-379-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">splitlines</span><span class="p">(</span><span class="n">keepends</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>    <span class="c1"># On [\n\r\f\v\x1c-\x1e\x85\u2028\u2029] and \r\n.</span>
<a id="__codelineno-379-4" name="__codelineno-379-4" href="#__codelineno-379-4"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">join</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_strings</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Joins elements using string as a separator.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-380-1" name="__codelineno-380-1" href="#__codelineno-380-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">sub_str</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>                  <span class="c1"># Checks if string contains the substring.</span>
<a id="__codelineno-380-2" name="__codelineno-380-2" href="#__codelineno-380-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">startswith</span><span class="p">(</span><span class="o">&lt;</span><span class="n">sub_str</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Pass tuple of strings for multiple options.</span>
<a id="__codelineno-380-3" name="__codelineno-380-3" href="#__codelineno-380-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">find</span><span class="p">(</span><span class="o">&lt;</span><span class="n">sub_str</span><span class="o">&gt;</span><span class="p">)</span>               <span class="c1"># Returns start index of the first match or -1.</span>
<a id="__codelineno-380-4" name="__codelineno-380-4" href="#__codelineno-380-4"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">index</span><span class="p">(</span><span class="o">&lt;</span><span class="n">sub_str</span><span class="o">&gt;</span><span class="p">)</span>              <span class="c1"># Same, but raises ValueError if missing.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-381-1" name="__codelineno-381-1" href="#__codelineno-381-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">lower</span><span class="p">()</span>                       <span class="c1"># Changes the case. Also upper/capitalize/title().</span>
<a id="__codelineno-381-2" name="__codelineno-381-2" href="#__codelineno-381-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">replace</span><span class="p">(</span><span class="n">old</span><span class="p">,</span> <span class="n">new</span> <span class="p">[,</span> <span class="n">count</span><span class="p">])</span>   <span class="c1"># Replaces &#39;old&#39; with &#39;new&#39; at most &#39;count&#39; times.</span>
<a id="__codelineno-381-3" name="__codelineno-381-3" href="#__codelineno-381-3"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">translate</span><span class="p">(</span><span class="o">&lt;</span><span class="n">table</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Use `str.maketrans(&lt;dict&gt;)` to generate table.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-382-1" name="__codelineno-382-1" href="#__codelineno-382-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Converts int to Unicode character.</span>
<a id="__codelineno-382-2" name="__codelineno-382-2" href="#__codelineno-382-2"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">ord</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Converts Unicode character to int.</span>
</code></pre></div>
* <strong>Use <code>'unicodedata.normalize("NFC", &lt;str&gt;)'</code> on strings like <code>'Motörhead'</code> before comparing them to other strings, because <code>'ö'</code> can be stored as one or two characters.</strong>
* <strong><code>'NFC'</code> converts such characters to a single character, while <code>'NFD'</code> converts them to two.</strong></p>
<h3 id="property-methods_1">Property Methods<a class="headerlink" href="#property-methods_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-383-1" name="__codelineno-383-1" href="#__codelineno-383-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">isdecimal</span><span class="p">()</span>                   <span class="c1"># Checks for [0-9]. Also [०-९] and [٠-٩].</span>
<a id="__codelineno-383-2" name="__codelineno-383-2" href="#__codelineno-383-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">isdigit</span><span class="p">()</span>                     <span class="c1"># Checks for [²³¹…] and isdecimal().</span>
<a id="__codelineno-383-3" name="__codelineno-383-3" href="#__codelineno-383-3"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">isnumeric</span><span class="p">()</span>                   <span class="c1"># Checks for [¼½¾], [零〇一…] and isdigit().</span>
<a id="__codelineno-383-4" name="__codelineno-383-4" href="#__codelineno-383-4"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">isalnum</span><span class="p">()</span>                     <span class="c1"># Checks for [a-zA-Z…] and isnumeric().</span>
<a id="__codelineno-383-5" name="__codelineno-383-5" href="#__codelineno-383-5"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">isprintable</span><span class="p">()</span>                 <span class="c1"># Checks for [ !#$%…] and isalnum().</span>
<a id="__codelineno-383-6" name="__codelineno-383-6" href="#__codelineno-383-6"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;.</span><span class="n">isspace</span><span class="p">()</span>                     <span class="c1"># Checks for [ \t\n\r\f\v\x1c-\x1f\x85\xa0…].</span>
</code></pre></div>
<h2 id="regex_1">Regex<a class="headerlink" href="#regex_1" title="Permanent link">&para;</a></h2>
<p><strong>Functions for regular expression matching.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-384-1" name="__codelineno-384-1" href="#__codelineno-384-1"></a><span class="kn">import</span> <span class="nn">re</span>
<a id="__codelineno-384-2" name="__codelineno-384-2" href="#__codelineno-384-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">new</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Substitutes all occurrences with &#39;new&#39;.</span>
<a id="__codelineno-384-3" name="__codelineno-384-3" href="#__codelineno-384-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>            <span class="c1"># Returns all occurrences as strings.</span>
<a id="__codelineno-384-4" name="__codelineno-384-4" href="#__codelineno-384-4"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="n">maxsplit</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Add brackets around regex to include matches.</span>
<a id="__codelineno-384-5" name="__codelineno-384-5" href="#__codelineno-384-5"></a><span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>             <span class="c1"># First occurrence of the pattern or None.</span>
<a id="__codelineno-384-6" name="__codelineno-384-6" href="#__codelineno-384-6"></a><span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>              <span class="c1"># Searches only at the beginning of the text.</span>
<a id="__codelineno-384-7" name="__codelineno-384-7" href="#__codelineno-384-7"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">finditer</span><span class="p">(</span><span class="o">&lt;</span><span class="n">regex</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>           <span class="c1"># Returns all occurrences as Match objects.</span>
</code></pre></div>
<ul>
<li><strong>Argument 'new' can be a function that accepts a Match object and returns a string.</strong></li>
<li><strong>Argument <code>'flags=re.IGNORECASE'</code> can be used with all functions.</strong></li>
<li><strong>Argument <code>'flags=re.MULTILINE'</code> makes <code>'^'</code> and <code>'$'</code> match the start/end of each line.</strong></li>
<li><strong>Argument <code>'flags=re.DOTALL'</code> makes <code>'.'</code> also accept the <code>'\n'</code>.</strong></li>
<li><strong>Use <code>r'\1'</code> or <code>'\\1'</code> for backreference (<code>'\1'</code> returns a character with octal code 1).</strong></li>
<li><strong>Add <code>'?'</code> after <code>'*'</code> and <code>'+'</code> to make them non-greedy.</strong></li>
<li><strong><code>'re.compile(&lt;regex&gt;)'</code> returns a Pattern object with listed methods.</strong></li>
</ul>
<h3 id="match-object_1">Match Object<a class="headerlink" href="#match-object_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-385-1" name="__codelineno-385-1" href="#__codelineno-385-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;.</span><span class="n">group</span><span class="p">()</span>                      <span class="c1"># Returns the whole match. Also group(0).</span>
<a id="__codelineno-385-2" name="__codelineno-385-2" href="#__codelineno-385-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>                     <span class="c1"># Returns part inside the first brackets.</span>
<a id="__codelineno-385-3" name="__codelineno-385-3" href="#__codelineno-385-3"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;.</span><span class="n">groups</span><span class="p">()</span>                     <span class="c1"># Returns all bracketed parts.</span>
<a id="__codelineno-385-4" name="__codelineno-385-4" href="#__codelineno-385-4"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;.</span><span class="n">start</span><span class="p">()</span>                      <span class="c1"># Returns start index of the match.</span>
<a id="__codelineno-385-5" name="__codelineno-385-5" href="#__codelineno-385-5"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">Match</span><span class="o">&gt;.</span><span class="n">end</span><span class="p">()</span>                        <span class="c1"># Returns exclusive end index of the match.</span>
</code></pre></div>
<h3 id="special-sequences_1">Special Sequences<a class="headerlink" href="#special-sequences_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-386-1" name="__codelineno-386-1" href="#__codelineno-386-1"></a><span class="s1">&#39;\d&#39;</span> <span class="o">==</span> <span class="s1">&#39;[0-9]&#39;</span>                                <span class="c1"># Also [०-९…]. Matches a decimal character.</span>
<a id="__codelineno-386-2" name="__codelineno-386-2" href="#__codelineno-386-2"></a><span class="s1">&#39;\w&#39;</span> <span class="o">==</span> <span class="s1">&#39;[a-zA-Z0-9_]&#39;</span>                         <span class="c1"># Also [ª²³…]. Matches an alphanumeric or _.</span>
<a id="__codelineno-386-3" name="__codelineno-386-3" href="#__codelineno-386-3"></a><span class="s1">&#39;\s&#39;</span> <span class="o">==</span> <span class="s1">&#39;[ </span><span class="se">\t\n\r\f\v</span><span class="s1">]&#39;</span>                        <span class="c1"># Also [\x1c-\x1f…]. Matches a whitespace.</span>
</code></pre></div>
<ul>
<li><strong>By default, decimal characters, alphanumerics and whitespaces from all alphabets are matched unless <code>'flags=re.ASCII'</code> argument is used.</strong></li>
<li><strong>It restricts special sequence matches to <code>'[\x00-\x7f]'</code> (the first 128 characters) and also prevents <code>'\s'</code> from accepting <code>'[\x1c-\x1f]'</code> (the so-called separator characters).</strong></li>
<li><strong>Use a capital letter for negation (all non-ASCII characters will be matched when used in combination with ASCII flag).</strong></li>
</ul>
<h2 id="format_3">Format<a class="headerlink" href="#format_3" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-387-1" name="__codelineno-387-1" href="#__codelineno-387-1"></a><span class="sr">&lt;str&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="s">&#39;{&lt;el_1&gt;}, {&lt;el_2&gt;}&#39;</span><span class="w">            </span><span class="c1"># Curly brackets can also contain expressions.</span>
<a id="__codelineno-387-2" name="__codelineno-387-2" href="#__codelineno-387-2"></a><span class="sr">&lt;str&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;{}, {}&#39;</span><span class="o">.</span><span class="nb">format</span><span class="p">(</span><span class="sr">&lt;el_1&gt;</span><span class="p">,</span><span class="w"> </span><span class="sr">&lt;el_2&gt;</span><span class="p">)</span><span class="w">  </span><span class="c1"># Or: &#39;{0}, {a}&#39;.format(&lt;el_1&gt;, a=&lt;el_2&gt;)</span>
<a id="__codelineno-387-3" name="__codelineno-387-3" href="#__codelineno-387-3"></a><span class="sr">&lt;str&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&#39;%s, %s&#39;</span><span class="w"> </span><span class="nv">%</span><span class="w"> </span><span class="err">(&lt;</span><span class="nv">el_1</span><span class="o">&gt;</span><span class="p">,</span><span class="w"> </span><span class="sr">&lt;el_2&gt;</span><span class="p">)</span><span class="w">      </span><span class="c1"># Redundant and inferior C-style formatting.</span>
</code></pre></div>
<h3 id="example_4">Example<a class="headerlink" href="#example_4" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-388-1" name="__codelineno-388-1" href="#__codelineno-388-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">Person</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Person&#39;</span><span class="p">,</span> <span class="s1">&#39;name height&#39;</span><span class="p">)</span>
<a id="__codelineno-388-2" name="__codelineno-388-2" href="#__codelineno-388-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">person</span> <span class="o">=</span> <span class="n">Person</span><span class="p">(</span><span class="s1">&#39;Jean-Luc&#39;</span><span class="p">,</span> <span class="mi">187</span><span class="p">)</span>
<a id="__codelineno-388-3" name="__codelineno-388-3" href="#__codelineno-388-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">person</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s1"> is </span><span class="si">{</span><span class="n">person</span><span class="o">.</span><span class="n">height</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">100</span><span class="si">}</span><span class="s1"> meters tall.&#39;</span>
<a id="__codelineno-388-4" name="__codelineno-388-4" href="#__codelineno-388-4"></a><span class="s1">&#39;Jean-Luc is 1.87 meters tall.&#39;</span>
</code></pre></div>
<h3 id="general-options_1">General Options<a class="headerlink" href="#general-options_1" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-389-1" name="__codelineno-389-1" href="#__codelineno-389-1"></a><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">}</span>                               <span class="c1"># &#39;&lt;el&gt;      &#39;</span>
<a id="__codelineno-389-2" name="__codelineno-389-2" href="#__codelineno-389-2"></a><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="o">^</span><span class="mi">10</span><span class="p">}</span>                               <span class="c1"># &#39;   &lt;el&gt;   &#39;</span>
<a id="__codelineno-389-3" name="__codelineno-389-3" href="#__codelineno-389-3"></a><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&gt;</span><span class="mi">10</span><span class="p">}</span>                               <span class="c1"># &#39;      &lt;el&gt;&#39;</span>
<a id="__codelineno-389-4" name="__codelineno-389-4" href="#__codelineno-389-4"></a><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="o">.&lt;</span><span class="mi">10</span><span class="p">}</span>                              <span class="c1"># &#39;&lt;el&gt;......&#39;</span>
<a id="__codelineno-389-5" name="__codelineno-389-5" href="#__codelineno-389-5"></a><span class="p">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>                                 <span class="c1"># &#39;&lt;el&gt;&#39;</span>
</code></pre></div>
* <strong>Objects are rendered using <code>'format(&lt;el&gt;, &lt;options&gt;)'</code>.</strong>
* <strong>Options can be generated dynamically: <code>f'{&lt;el&gt;:{&lt;str/int&gt;}[…]}'</code>.</strong>
* <strong>Adding <code>'='</code> to the expression prepends it to the output: <code>f'{1+1=}'</code> returns <code>'1+1=2'</code>.</strong>
* <strong>Adding <code>'!r'</code> to the expression converts object to string by calling its <a href="#class">repr()</a> method.</strong></p>
<h3 id="strings_1">Strings<a class="headerlink" href="#strings_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-390-1" name="__codelineno-390-1" href="#__codelineno-390-1"></a><span class="p">{</span><span class="s1">&#39;abcde&#39;</span><span class="p">:</span><span class="mi">10</span><span class="p">}</span>                             <span class="c1"># &#39;abcde     &#39;</span>
<a id="__codelineno-390-2" name="__codelineno-390-2" href="#__codelineno-390-2"></a><span class="p">{</span><span class="s1">&#39;abcde&#39;</span><span class="p">:</span><span class="mf">10.3</span><span class="p">}</span>                           <span class="c1"># &#39;abc       &#39;</span>
<a id="__codelineno-390-3" name="__codelineno-390-3" href="#__codelineno-390-3"></a><span class="p">{</span><span class="s1">&#39;abcde&#39;</span><span class="p">:</span><span class="mf">.3</span><span class="p">}</span>                             <span class="c1"># &#39;abc&#39;</span>
<a id="__codelineno-390-4" name="__codelineno-390-4" href="#__codelineno-390-4"></a><span class="p">{</span><span class="s1">&#39;abcde&#39;</span><span class="err">!</span><span class="n">r</span><span class="p">:</span><span class="mi">10</span><span class="p">}</span>                           <span class="c1"># &quot;&#39;abcde&#39;   &quot;</span>
</code></pre></div>
<h3 id="numbers_2">Numbers<a class="headerlink" href="#numbers_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-391-1" name="__codelineno-391-1" href="#__codelineno-391-1"></a><span class="p">{</span><span class="mi">123456</span><span class="p">:</span><span class="mi">10</span><span class="p">}</span>                              <span class="c1"># &#39;    123456&#39;</span>
<a id="__codelineno-391-2" name="__codelineno-391-2" href="#__codelineno-391-2"></a><span class="p">{</span><span class="mi">123456</span><span class="p">:</span><span class="mi">10</span><span class="p">,}</span>                             <span class="c1"># &#39;   123,456&#39;</span>
<a id="__codelineno-391-3" name="__codelineno-391-3" href="#__codelineno-391-3"></a><span class="p">{</span><span class="mi">123456</span><span class="p">:</span><span class="mi">10</span><span class="n">_</span><span class="p">}</span>                             <span class="c1"># &#39;   123_456&#39;</span>
<a id="__codelineno-391-4" name="__codelineno-391-4" href="#__codelineno-391-4"></a><span class="p">{</span><span class="mi">123456</span><span class="p">:</span><span class="o">+</span><span class="mi">10</span><span class="p">}</span>                             <span class="c1"># &#39;   +123456&#39;</span>
<a id="__codelineno-391-5" name="__codelineno-391-5" href="#__codelineno-391-5"></a><span class="p">{</span><span class="mi">123456</span><span class="o">:=+</span><span class="mi">10</span><span class="p">}</span>                            <span class="c1"># &#39;+   123456&#39;</span>
<a id="__codelineno-391-6" name="__codelineno-391-6" href="#__codelineno-391-6"></a><span class="p">{</span><span class="mi">123456</span><span class="p">:</span> <span class="p">}</span>                               <span class="c1"># &#39; 123456&#39;</span>
<a id="__codelineno-391-7" name="__codelineno-391-7" href="#__codelineno-391-7"></a><span class="p">{</span><span class="o">-</span><span class="mi">123456</span><span class="p">:</span> <span class="p">}</span>                              <span class="c1"># &#39;-123456&#39;</span>
</code></pre></div>
<h3 id="floats_1">Floats<a class="headerlink" href="#floats_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-392-1" name="__codelineno-392-1" href="#__codelineno-392-1"></a><span class="p">{</span><span class="mf">1.23456</span><span class="p">:</span><span class="mf">10.3</span><span class="p">}</span>                           <span class="c1"># &#39;      1.23&#39;</span>
<a id="__codelineno-392-2" name="__codelineno-392-2" href="#__codelineno-392-2"></a><span class="p">{</span><span class="mf">1.23456</span><span class="p">:</span><span class="mf">10.3</span><span class="n">f</span><span class="p">}</span>                          <span class="c1"># &#39;     1.235&#39;</span>
<a id="__codelineno-392-3" name="__codelineno-392-3" href="#__codelineno-392-3"></a><span class="p">{</span><span class="mf">1.23456</span><span class="p">:</span><span class="mf">10.3</span><span class="n">e</span><span class="p">}</span>                          <span class="c1"># &#39; 1.235e+00&#39;</span>
<a id="__codelineno-392-4" name="__codelineno-392-4" href="#__codelineno-392-4"></a><span class="p">{</span><span class="mf">1.23456</span><span class="p">:</span><span class="mf">10.3</span><span class="o">%</span><span class="p">}</span>                          <span class="c1"># &#39;  123.456%&#39;</span>
</code></pre></div>
<h4 id="comparison-of-presentation-types_1">Comparison of presentation types:<a class="headerlink" href="#comparison-of-presentation-types_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-393-1" name="__codelineno-393-1" href="#__codelineno-393-1"></a>+--------------+----------------+----------------+----------------+----------------+
<a id="__codelineno-393-2" name="__codelineno-393-2" href="#__codelineno-393-2"></a>|              |    {&lt;float&gt;}   |   {&lt;float&gt;:f}  |   {&lt;float&gt;:e}  |   {&lt;float&gt;:%}  |
<a id="__codelineno-393-3" name="__codelineno-393-3" href="#__codelineno-393-3"></a>+--------------+----------------+----------------+----------------+----------------+
<a id="__codelineno-393-4" name="__codelineno-393-4" href="#__codelineno-393-4"></a>|  0.000056789 |   &#39;5.6789e-05&#39; |    &#39;0.000057&#39;  | &#39;5.678900e-05&#39; |    &#39;0.005679%&#39; |
<a id="__codelineno-393-5" name="__codelineno-393-5" href="#__codelineno-393-5"></a>|  0.00056789  |   &#39;0.00056789&#39; |    &#39;0.000568&#39;  | &#39;5.678900e-04&#39; |    &#39;0.056789%&#39; |
<a id="__codelineno-393-6" name="__codelineno-393-6" href="#__codelineno-393-6"></a>|  0.0056789   |   &#39;0.0056789&#39;  |    &#39;0.005679&#39;  | &#39;5.678900e-03&#39; |    &#39;0.567890%&#39; |
<a id="__codelineno-393-7" name="__codelineno-393-7" href="#__codelineno-393-7"></a>|  0.056789    |   &#39;0.056789&#39;   |    &#39;0.056789&#39;  | &#39;5.678900e-02&#39; |    &#39;5.678900%&#39; |
<a id="__codelineno-393-8" name="__codelineno-393-8" href="#__codelineno-393-8"></a>|  0.56789     |   &#39;0.56789&#39;    |    &#39;0.567890&#39;  | &#39;5.678900e-01&#39; |   &#39;56.789000%&#39; |
<a id="__codelineno-393-9" name="__codelineno-393-9" href="#__codelineno-393-9"></a>|  5.6789      |   &#39;5.6789&#39;     |    &#39;5.678900&#39;  | &#39;5.678900e+00&#39; |  &#39;567.890000%&#39; |
<a id="__codelineno-393-10" name="__codelineno-393-10" href="#__codelineno-393-10"></a>| 56.789       |  &#39;56.789&#39;      |   &#39;56.789000&#39;  | &#39;5.678900e+01&#39; | &#39;5678.900000%&#39; |
<a id="__codelineno-393-11" name="__codelineno-393-11" href="#__codelineno-393-11"></a>+--------------+----------------+----------------+----------------+----------------+
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-394-1" name="__codelineno-394-1" href="#__codelineno-394-1"></a>+--------------+----------------+----------------+----------------+----------------+
<a id="__codelineno-394-2" name="__codelineno-394-2" href="#__codelineno-394-2"></a>|              |  {&lt;float&gt;:.2}  |  {&lt;float&gt;:.2f} |  {&lt;float&gt;:.2e} |  {&lt;float&gt;:.2%} |
<a id="__codelineno-394-3" name="__codelineno-394-3" href="#__codelineno-394-3"></a>+--------------+----------------+----------------+----------------+----------------+
<a id="__codelineno-394-4" name="__codelineno-394-4" href="#__codelineno-394-4"></a>|  0.000056789 |    &#39;5.7e-05&#39;   |      &#39;0.00&#39;    |   &#39;5.68e-05&#39;   |      &#39;0.01%&#39;   |
<a id="__codelineno-394-5" name="__codelineno-394-5" href="#__codelineno-394-5"></a>|  0.00056789  |    &#39;0.00057&#39;   |      &#39;0.00&#39;    |   &#39;5.68e-04&#39;   |      &#39;0.06%&#39;   |
<a id="__codelineno-394-6" name="__codelineno-394-6" href="#__codelineno-394-6"></a>|  0.0056789   |    &#39;0.0057&#39;    |      &#39;0.01&#39;    |   &#39;5.68e-03&#39;   |      &#39;0.57%&#39;   |
<a id="__codelineno-394-7" name="__codelineno-394-7" href="#__codelineno-394-7"></a>|  0.056789    |    &#39;0.057&#39;     |      &#39;0.06&#39;    |   &#39;5.68e-02&#39;   |      &#39;5.68%&#39;   |
<a id="__codelineno-394-8" name="__codelineno-394-8" href="#__codelineno-394-8"></a>|  0.56789     |    &#39;0.57&#39;      |      &#39;0.57&#39;    |   &#39;5.68e-01&#39;   |     &#39;56.79%&#39;   |
<a id="__codelineno-394-9" name="__codelineno-394-9" href="#__codelineno-394-9"></a>|  5.6789      |    &#39;5.7&#39;       |      &#39;5.68&#39;    |   &#39;5.68e+00&#39;   |    &#39;567.89%&#39;   |
<a id="__codelineno-394-10" name="__codelineno-394-10" href="#__codelineno-394-10"></a>| 56.789       |    &#39;5.7e+01&#39;   |     &#39;56.79&#39;    |   &#39;5.68e+01&#39;   |   &#39;5678.90%&#39;   |
<a id="__codelineno-394-11" name="__codelineno-394-11" href="#__codelineno-394-11"></a>+--------------+----------------+----------------+----------------+----------------+
</code></pre></div>
* <strong><code>'{&lt;float&gt;:g}'</code> is <code>'{&lt;float&gt;:.6}'</code> with stripped zeros, exponent starting at <code>'1e+06'</code>.</strong>
* <strong>When both rounding up and rounding down are possible, the one that returns result with even last digit is chosen. That makes <code>'{6.5:.0f}'</code> a <code>'6'</code> and <code>'{7.5:.0f}'</code> an <code>'8'</code>.</strong>
* <strong>This rule only effects numbers that can be represented exactly by a float (<code>.5</code>, <code>.25</code>, …).</strong></p>
<h3 id="ints_1">Ints<a class="headerlink" href="#ints_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-395-1" name="__codelineno-395-1" href="#__codelineno-395-1"></a><span class="p">{</span><span class="mi">90</span><span class="p">:</span><span class="n">c</span><span class="p">}</span>                                   <span class="c1"># &#39;Z&#39;</span>
<a id="__codelineno-395-2" name="__codelineno-395-2" href="#__codelineno-395-2"></a><span class="p">{</span><span class="mi">90</span><span class="p">:</span><span class="n">b</span><span class="p">}</span>                                   <span class="c1"># &#39;1011010&#39;</span>
<a id="__codelineno-395-3" name="__codelineno-395-3" href="#__codelineno-395-3"></a><span class="p">{</span><span class="mi">90</span><span class="p">:</span><span class="n">X</span><span class="p">}</span>                                   <span class="c1"># &#39;5A&#39;</span>
</code></pre></div>
<h2 id="numbers_3">Numbers<a class="headerlink" href="#numbers_3" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-396-1" name="__codelineno-396-1" href="#__codelineno-396-1"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>      <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">/</span><span class="nb">str</span><span class="o">/</span><span class="nb">bool</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Or: math.floor(&lt;float&gt;)</span>
<a id="__codelineno-396-2" name="__codelineno-396-2" href="#__codelineno-396-2"></a><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">str</span><span class="o">/</span><span class="nb">bool</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Or: &lt;int/float&gt;e±&lt;int&gt;</span>
<a id="__codelineno-396-3" name="__codelineno-396-3" href="#__codelineno-396-3"></a><span class="o">&lt;</span><span class="nb">complex</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">complex</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">imag</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>              <span class="c1"># Or: &lt;int/float&gt; ± &lt;int/float&gt;j</span>
<a id="__codelineno-396-4" name="__codelineno-396-4" href="#__codelineno-396-4"></a><span class="o">&lt;</span><span class="n">Fraction</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">fractions</span><span class="o">.</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>             <span class="c1"># Or: Fraction(numerator=0, denominator=1)</span>
<a id="__codelineno-396-5" name="__codelineno-396-5" href="#__codelineno-396-5"></a><span class="o">&lt;</span><span class="n">Decimal</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">decimal</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Or: Decimal((sign, digits, exponent))</span>
</code></pre></div>
* <strong><code>'int(&lt;str&gt;)'</code> and <code>'float(&lt;str&gt;)'</code> raise ValueError on malformed strings.</strong>
* <strong>Decimal numbers are stored exactly, unlike most floats where <code>'1.1 + 2.2 != 3.3'</code>.</strong>
* <strong>Floats can be compared with: <code>'math.isclose(&lt;float&gt;, &lt;float&gt;)'</code>.</strong>
* <strong>Precision of decimal operations is set with: <code>'decimal.getcontext().prec = &lt;int&gt;'</code>.</strong></p>
<h3 id="basic-functions_1">Basic Functions<a class="headerlink" href="#basic-functions_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-397-1" name="__codelineno-397-1" href="#__codelineno-397-1"></a><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">pow</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)</span>                         <span class="c1"># Or: &lt;num&gt; ** &lt;num&gt;</span>
<a id="__codelineno-397-2" name="__codelineno-397-2" href="#__codelineno-397-2"></a><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)</span>                                <span class="c1"># &lt;float&gt; = abs(&lt;complex&gt;)</span>
<a id="__codelineno-397-3" name="__codelineno-397-3" href="#__codelineno-397-3"></a><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="err">±</span><span class="n">ndigits</span><span class="p">])</span>                 <span class="c1"># `round(126, -1) == 130`</span>
</code></pre></div>
<h3 id="math_1">Math<a class="headerlink" href="#math_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-398-1" name="__codelineno-398-1" href="#__codelineno-398-1"></a><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">e</span><span class="p">,</span> <span class="n">pi</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="n">isinf</span><span class="p">,</span> <span class="n">isnan</span>    <span class="c1"># `&lt;el&gt; == nan` is always False.</span>
<a id="__codelineno-398-2" name="__codelineno-398-2" href="#__codelineno-398-2"></a><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">tan</span><span class="p">,</span> <span class="n">asin</span><span class="p">,</span> <span class="n">acos</span><span class="p">,</span> <span class="n">atan</span>  <span class="c1"># Also: degrees, radians.</span>
<a id="__codelineno-398-3" name="__codelineno-398-3" href="#__codelineno-398-3"></a><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">log</span><span class="p">,</span> <span class="n">log10</span><span class="p">,</span> <span class="n">log2</span>                 <span class="c1"># Log can accept base as second arg.</span>
</code></pre></div>
<h3 id="statistics_1">Statistics<a class="headerlink" href="#statistics_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-399-1" name="__codelineno-399-1" href="#__codelineno-399-1"></a><span class="kn">from</span> <span class="nn">statistics</span> <span class="kn">import</span> <span class="n">mean</span><span class="p">,</span> <span class="n">median</span><span class="p">,</span> <span class="n">variance</span>     <span class="c1"># Also: stdev, quantiles, groupby.</span>
</code></pre></div>
<h3 id="random_1">Random<a class="headerlink" href="#random_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-400-1" name="__codelineno-400-1" href="#__codelineno-400-1"></a><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span><span class="p">,</span> <span class="n">randint</span><span class="p">,</span> <span class="n">choice</span>        <span class="c1"># Also: shuffle, gauss, triangular, seed.</span>
<a id="__codelineno-400-2" name="__codelineno-400-2" href="#__codelineno-400-2"></a><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">random</span><span class="p">()</span>                                <span class="c1"># A float inside [0, 1).</span>
<a id="__codelineno-400-3" name="__codelineno-400-3" href="#__codelineno-400-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="n">from_inc</span><span class="p">,</span> <span class="n">to_inc</span><span class="p">)</span>               <span class="c1"># An int inside [from_inc, to_inc].</span>
<a id="__codelineno-400-4" name="__codelineno-400-4" href="#__codelineno-400-4"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">choice</span><span class="p">(</span><span class="o">&lt;</span><span class="n">sequence</span><span class="o">&gt;</span><span class="p">)</span>                      <span class="c1"># Keeps the sequence intact.</span>
</code></pre></div>
<h3 id="bin-hex_1">Bin, Hex<a class="headerlink" href="#bin-hex_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-401-1" name="__codelineno-401-1" href="#__codelineno-401-1"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="err">±</span><span class="mi">0</span><span class="n">b</span><span class="o">&lt;</span><span class="nb">bin</span><span class="o">&gt;</span>                                  <span class="c1"># Or: ±0x&lt;hex&gt;</span>
<a id="__codelineno-401-2" name="__codelineno-401-2" href="#__codelineno-401-2"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s1">&#39;±&lt;bin&gt;&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                          <span class="c1"># Or: int(&#39;±&lt;hex&gt;&#39;, 16)</span>
<a id="__codelineno-401-3" name="__codelineno-401-3" href="#__codelineno-401-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="s1">&#39;±0b&lt;bin&gt;&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>                        <span class="c1"># Or: int(&#39;±0x&lt;hex&gt;&#39;, 0)</span>
<a id="__codelineno-401-4" name="__codelineno-401-4" href="#__codelineno-401-4"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bin</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>                                <span class="c1"># Returns &#39;[-]0b&lt;bin&gt;&#39;.</span>
</code></pre></div>
<h3 id="bitwise-operators_1">Bitwise Operators<a class="headerlink" href="#bitwise-operators_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-402-1" name="__codelineno-402-1" href="#__codelineno-402-1"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">&amp;</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>                             <span class="c1"># And (0b1100 &amp; 0b1010 == 0b1000).</span>
<a id="__codelineno-402-2" name="__codelineno-402-2" href="#__codelineno-402-2"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>                             <span class="c1"># Or  (0b1100 | 0b1010 == 0b1110).</span>
<a id="__codelineno-402-3" name="__codelineno-402-3" href="#__codelineno-402-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">^</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>                             <span class="c1"># Xor (0b1100 ^ 0b1010 == 0b0110).</span>
<a id="__codelineno-402-4" name="__codelineno-402-4" href="#__codelineno-402-4"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">&lt;&lt;</span> <span class="n">n_bits</span>                           <span class="c1"># Left shift. Use &gt;&gt; for right.</span>
<a id="__codelineno-402-5" name="__codelineno-402-5" href="#__codelineno-402-5"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">~&lt;</span><span class="nb">int</span><span class="o">&gt;</span>                                    <span class="c1"># Not. Also -&lt;int&gt; - 1.</span>
</code></pre></div>
<h2 id="combinatorics_1">Combinatorics<a class="headerlink" href="#combinatorics_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-403-1" name="__codelineno-403-1" href="#__codelineno-403-1"></a><span class="kn">import</span> <span class="nn">itertools</span> <span class="k">as</span> <span class="nn">it</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-404-1" name="__codelineno-404-1" href="#__codelineno-404-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="n">repeat</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<a id="__codelineno-404-2" name="__codelineno-404-2" href="#__codelineno-404-2"></a><span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
<a id="__codelineno-404-3" name="__codelineno-404-3" href="#__codelineno-404-3"></a> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-405-1" name="__codelineno-405-1" href="#__codelineno-405-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">product</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="s1">&#39;abc&#39;</span><span class="p">))</span>                    <span class="c1">#   a  b  c</span>
<a id="__codelineno-405-2" name="__codelineno-405-2" href="#__codelineno-405-2"></a><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                  <span class="c1"># a x  x  x</span>
<a id="__codelineno-405-3" name="__codelineno-405-3" href="#__codelineno-405-3"></a> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                  <span class="c1"># b x  x  x</span>
<a id="__codelineno-405-4" name="__codelineno-405-4" href="#__codelineno-405-4"></a> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)]</span>                  <span class="c1"># c x  x  x</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-406-1" name="__codelineno-406-1" href="#__codelineno-406-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">combinations</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>                   <span class="c1">#   a  b  c</span>
<a id="__codelineno-406-2" name="__codelineno-406-2" href="#__codelineno-406-2"></a><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                              <span class="c1"># a .  x  x</span>
<a id="__codelineno-406-3" name="__codelineno-406-3" href="#__codelineno-406-3"></a> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)]</span>                                          <span class="c1"># b .  .  x</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-407-1" name="__codelineno-407-1" href="#__codelineno-407-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">combinations_with_replacement</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>  <span class="c1">#   a  b  c</span>
<a id="__codelineno-407-2" name="__codelineno-407-2" href="#__codelineno-407-2"></a><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                  <span class="c1"># a x  x  x</span>
<a id="__codelineno-407-3" name="__codelineno-407-3" href="#__codelineno-407-3"></a> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                              <span class="c1"># b .  x  x</span>
<a id="__codelineno-407-4" name="__codelineno-407-4" href="#__codelineno-407-4"></a> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">)]</span>                                          <span class="c1"># c .  .  x</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-408-1" name="__codelineno-408-1" href="#__codelineno-408-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">list</span><span class="p">(</span><span class="n">it</span><span class="o">.</span><span class="n">permutations</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>                   <span class="c1">#   a  b  c</span>
<a id="__codelineno-408-2" name="__codelineno-408-2" href="#__codelineno-408-2"></a><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                              <span class="c1"># a .  x  x</span>
<a id="__codelineno-408-3" name="__codelineno-408-3" href="#__codelineno-408-3"></a> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">),</span>                              <span class="c1"># b x  .  x</span>
<a id="__codelineno-408-4" name="__codelineno-408-4" href="#__codelineno-408-4"></a> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">)]</span>                              <span class="c1"># c x  x  .</span>
</code></pre></div>
<h2 id="datetime_1">Datetime<a class="headerlink" href="#datetime_1" title="Permanent link">&para;</a></h2>
<p><strong>Provides 'date', 'time', 'datetime' and 'timedelta' classes. All are immutable and hashable.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-409-1" name="__codelineno-409-1" href="#__codelineno-409-1"></a><span class="c1"># $ pip3 install python-dateutil</span>
<a id="__codelineno-409-2" name="__codelineno-409-2" href="#__codelineno-409-2"></a><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span><span class="p">,</span> <span class="n">timezone</span>
<a id="__codelineno-409-3" name="__codelineno-409-3" href="#__codelineno-409-3"></a><span class="kn">from</span> <span class="nn">dateutil.tz</span> <span class="kn">import</span> <span class="n">tzlocal</span><span class="p">,</span> <span class="n">gettz</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-410-1" name="__codelineno-410-1" href="#__codelineno-410-1"></a><span class="o">&lt;</span><span class="n">D</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">date</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">)</span>               <span class="c1"># Only accepts valid dates from 1 to 9999 AD.</span>
<a id="__codelineno-410-2" name="__codelineno-410-2" href="#__codelineno-410-2"></a><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">time</span><span class="p">(</span><span class="n">hour</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">minute</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">second</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>     <span class="c1"># Also: `microsecond=0, tzinfo=None, fold=0`.</span>
<a id="__codelineno-410-3" name="__codelineno-410-3" href="#__codelineno-410-3"></a><span class="o">&lt;</span><span class="n">DT</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="n">year</span><span class="p">,</span> <span class="n">month</span><span class="p">,</span> <span class="n">day</span><span class="p">,</span> <span class="n">hour</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>   <span class="c1"># Also: `minute=0, second=0, microsecond=0, …`.</span>
<a id="__codelineno-410-4" name="__codelineno-410-4" href="#__codelineno-410-4"></a><span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">weeks</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">days</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">hours</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># Also: `minutes=0, seconds=0, microseconds=0`.</span>
</code></pre></div>
* <strong>Aware <code>&lt;a&gt;</code> time and datetime objects have defined timezone, while naive <code>&lt;n&gt;</code> don't. If object is naive, it is presumed to be in the system's timezone!</strong>
* <strong><code>'fold=1'</code> means the second pass in case of time jumping back for one hour.</strong>
* <strong>Timedelta normalizes arguments to ±days, seconds (&lt; 86 400) and microseconds (&lt; 1M).</strong>
* <strong>Use <code>'&lt;D/DT&gt;.weekday()'</code> to get the day of the week as an int, with Monday being 0.</strong></p>
<h3 id="now_1">Now<a class="headerlink" href="#now_1" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-411-1" name="__codelineno-411-1" href="#__codelineno-411-1"></a><span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>                     <span class="c1"># Current local date or naive DT. Also DT.now().</span>
<a id="__codelineno-411-2" name="__codelineno-411-2" href="#__codelineno-411-2"></a><span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">DT</span><span class="o">.</span><span class="n">now</span><span class="p">(</span><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span><span class="p">)</span>                 <span class="c1"># Aware DT from current time in passed timezone.</span>
</code></pre></div>
* <strong>To extract time use <code>'&lt;DTn&gt;.time()'</code>, <code>'&lt;DTa&gt;.time()'</code> or <code>'&lt;DTa&gt;.timetz()'</code>.</strong></p>
<h3 id="timezone_1">Timezone<a class="headerlink" href="#timezone_1" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-412-1" name="__codelineno-412-1" href="#__codelineno-412-1"></a><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">utc</span>                     <span class="c1"># London without daylight saving time (DST).</span>
<a id="__codelineno-412-2" name="__codelineno-412-2" href="#__codelineno-412-2"></a><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">timezone</span><span class="p">(</span><span class="o">&lt;</span><span class="n">timedelta</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Timezone with fixed offset from UTC.</span>
<a id="__codelineno-412-3" name="__codelineno-412-3" href="#__codelineno-412-3"></a><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">tzlocal</span><span class="p">()</span>                        <span class="c1"># Local tz with dynamic offset. Also gettz().</span>
<a id="__codelineno-412-4" name="__codelineno-412-4" href="#__codelineno-412-4"></a><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">gettz</span><span class="p">(</span><span class="s1">&#39;&lt;Continent&gt;/&lt;City&gt;&#39;</span><span class="p">)</span>      <span class="c1"># &#39;Continent/City_Name&#39; timezone or None.</span>
<a id="__codelineno-412-5" name="__codelineno-412-5" href="#__codelineno-412-5"></a><span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DT</span><span class="o">&gt;.</span><span class="n">astimezone</span><span class="p">([</span><span class="o">&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span><span class="p">])</span>      <span class="c1"># Converts DT to the passed or local fixed zone.</span>
<a id="__codelineno-412-6" name="__codelineno-412-6" href="#__codelineno-412-6"></a><span class="o">&lt;</span><span class="n">Ta</span><span class="o">/</span><span class="n">DTa</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;.</span><span class="n">replace</span><span class="p">(</span><span class="n">tzinfo</span><span class="o">=&lt;</span><span class="n">tzinfo</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Changes object&#39;s timezone without conversion.</span>
</code></pre></div>
* <strong>Timezones returned by gettz(), tzlocal(), and implicit local timezone of naive objects have offsets that vary through time due to DST and historical changes of the zone's base offset.</strong>
* <strong>Standard library's zoneinfo.ZoneInfo() can be used instead of gettz() on Python 3.9 and later. It requires 'tzdata' package on Windows. It doesn't return local tz if arg. is omitted.</strong></p>
<h3 id="encode_2">Encode<a class="headerlink" href="#encode_2" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-413-1" name="__codelineno-413-1" href="#__codelineno-413-1"></a><span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Object from ISO string. Raises ValueError.</span>
<a id="__codelineno-413-2" name="__codelineno-413-2" href="#__codelineno-413-2"></a><span class="o">&lt;</span><span class="n">DT</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="n">DT</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;&lt;format&gt;&#39;</span><span class="p">)</span>   <span class="c1"># Datetime from str, according to format.</span>
<a id="__codelineno-413-3" name="__codelineno-413-3" href="#__codelineno-413-3"></a><span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="o">.</span><span class="n">fromordinal</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>          <span class="c1"># D/DTn from days since the Gregorian NYE 1.</span>
<a id="__codelineno-413-4" name="__codelineno-413-4" href="#__codelineno-413-4"></a><span class="o">&lt;</span><span class="n">DTn</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">DT</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># Local time DTn from seconds since the Epoch.</span>
<a id="__codelineno-413-5" name="__codelineno-413-5" href="#__codelineno-413-5"></a><span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">DT</span><span class="o">.</span><span class="n">fromtimestamp</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">tz</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Aware datetime from seconds since the Epoch.</span>
</code></pre></div>
* <strong>ISO strings come in following forms: <code>'YYYY-MM-DD'</code>, <code>'HH:MM:SS.mmmuuu[±HH:MM]'</code>, or both separated by an arbitrary character. All parts following the hours are optional.</strong>
* <strong>Python uses the Unix Epoch: <code>'1970-01-01 00:00 UTC'</code>, <code>'1970-01-01 01:00 CET'</code>, ...</strong></p>
<h3 id="decode_2">Decode<a class="headerlink" href="#decode_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-414-1" name="__codelineno-414-1" href="#__codelineno-414-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;.</span><span class="n">isoformat</span><span class="p">(</span><span class="n">sep</span><span class="o">=</span><span class="s1">&#39;T&#39;</span><span class="p">)</span>      <span class="c1"># Also `timespec=&#39;auto/hours/minutes/seconds/…&#39;`.</span>
<a id="__codelineno-414-2" name="__codelineno-414-2" href="#__codelineno-414-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;&lt;format&gt;&#39;</span><span class="p">)</span>    <span class="c1"># Custom string representation of the object.</span>
<a id="__codelineno-414-3" name="__codelineno-414-3" href="#__codelineno-414-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;.</span><span class="n">toordinal</span><span class="p">()</span>               <span class="c1"># Days since Gregorian NYE 1, ignoring time and tz.</span>
<a id="__codelineno-414-4" name="__codelineno-414-4" href="#__codelineno-414-4"></a><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DTn</span><span class="o">&gt;.</span><span class="n">timestamp</span><span class="p">()</span>                <span class="c1"># Seconds since the Epoch, from DTn in local tz.</span>
<a id="__codelineno-414-5" name="__codelineno-414-5" href="#__codelineno-414-5"></a><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;.</span><span class="n">timestamp</span><span class="p">()</span>                <span class="c1"># Seconds since the Epoch, from aware datetime.</span>
</code></pre></div>
<h3 id="format_4">Format<a class="headerlink" href="#format_4" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-415-1" name="__codelineno-415-1" href="#__codelineno-415-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">dt</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="s1">&#39;2025-08-14 23:39:00.00 +0200&#39;</span><span class="p">,</span> <span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S.</span><span class="si">%f</span><span class="s1"> %z&#39;</span><span class="p">)</span>
<a id="__codelineno-415-2" name="__codelineno-415-2" href="#__codelineno-415-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">th of %B &#39;%y (</span><span class="si">%a</span><span class="s2">), %I:%M %p %Z&quot;</span><span class="p">)</span>
<a id="__codelineno-415-3" name="__codelineno-415-3" href="#__codelineno-415-3"></a><span class="s2">&quot;14th of August &#39;25 (Thu), 11:39 PM UTC+02:00&quot;</span>
</code></pre></div>
* <strong><code>'%z'</code> accepts <code>'±HH[:]MM'</code> and returns <code>'±HHMM'</code> or empty string if datetime is naive.</strong>
* <strong><code>'%Z'</code> accepts <code>'UTC/GMT'</code> and local timezone's code and returns timezone's name, <code>'UTC[±HH:MM]'</code> if timezone is nameless, or an empty string if datetime is naive.</strong></p>
<h3 id="arithmetics_1">Arithmetics<a class="headerlink" href="#arithmetics_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-416-1" name="__codelineno-416-1" href="#__codelineno-416-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>            <span class="c1"># Ignores time jumps (fold attribute). Also ==.</span>
<a id="__codelineno-416-2" name="__codelineno-416-2" href="#__codelineno-416-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>     <span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>                <span class="c1"># Ignores time jumps if they share tzinfo object.</span>
<a id="__codelineno-416-3" name="__codelineno-416-3" href="#__codelineno-416-3"></a><span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>   <span class="o">-</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DTn</span><span class="o">&gt;</span>              <span class="c1"># Ignores jumps. Convert to UTC for actual delta.</span>
<a id="__codelineno-416-4" name="__codelineno-416-4" href="#__codelineno-416-4"></a><span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>     <span class="o">-</span> <span class="o">&lt;</span><span class="n">DTa</span><span class="o">&gt;</span>                <span class="c1"># Ignores time jumps if they share tzinfo object.</span>
<a id="__codelineno-416-5" name="__codelineno-416-5" href="#__codelineno-416-5"></a><span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">D</span><span class="o">/</span><span class="n">DT</span><span class="o">&gt;</span>    <span class="err">±</span> <span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>                 <span class="c1"># Returned datetime can fall into missing hour.</span>
<a id="__codelineno-416-6" name="__codelineno-416-6" href="#__codelineno-416-6"></a><span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>      <span class="o">*</span> <span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>              <span class="c1"># Also: &lt;TD&gt; = abs(&lt;TD&gt;) and &lt;TD&gt; = &lt;TD&gt; ±% &lt;TD&gt;.</span>
<a id="__codelineno-416-7" name="__codelineno-416-7" href="#__codelineno-416-7"></a><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>      <span class="o">/</span> <span class="o">&lt;</span><span class="n">TD</span><span class="o">&gt;</span>                 <span class="c1"># How many hours/weeks/years are in TD. Also //.</span>
</code></pre></div>
<h2 id="arguments_1">Arguments<a class="headerlink" href="#arguments_1" title="Permanent link">&para;</a></h2>
<h3 id="inside-function-call_2">Inside Function Call<a class="headerlink" href="#inside-function-call_2" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-417-1" name="__codelineno-417-1" href="#__codelineno-417-1"></a><span class="n">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">positional_args</span><span class="o">&gt;</span><span class="p">)</span>                           <span class="c1"># func(0, 0)</span>
<a id="__codelineno-417-2" name="__codelineno-417-2" href="#__codelineno-417-2"></a><span class="n">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">keyword_args</span><span class="o">&gt;</span><span class="p">)</span>                              <span class="c1"># func(x=0, y=0)</span>
<a id="__codelineno-417-3" name="__codelineno-417-3" href="#__codelineno-417-3"></a><span class="n">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">positional_args</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">keyword_args</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># func(0, y=0)</span>
</code></pre></div>
<h3 id="inside-function-definition_2">Inside Function Definition<a class="headerlink" href="#inside-function-definition_2" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-418-1" name="__codelineno-418-1" href="#__codelineno-418-1"></a><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">nondefault_args</span><span class="o">&gt;</span><span class="p">):</span> <span class="o">...</span>                  <span class="c1"># def func(x, y): ...</span>
<a id="__codelineno-418-2" name="__codelineno-418-2" href="#__codelineno-418-2"></a><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">default_args</span><span class="o">&gt;</span><span class="p">):</span> <span class="o">...</span>                     <span class="c1"># def func(x=0, y=0): ...</span>
<a id="__codelineno-418-3" name="__codelineno-418-3" href="#__codelineno-418-3"></a><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">nondefault_args</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">default_args</span><span class="o">&gt;</span><span class="p">):</span> <span class="o">...</span>  <span class="c1"># def func(x, y=0): ...</span>
</code></pre></div>
* <strong>Default values are evaluated when function is first encountered in the scope.</strong>
* <strong>Any mutation of a mutable default value will persist between invocations!</strong></p>
<h2 id="splat-operator_1">Splat Operator<a class="headerlink" href="#splat-operator_1" title="Permanent link">&para;</a></h2>
<h3 id="inside-function-call_3">Inside Function Call<a class="headerlink" href="#inside-function-call_3" title="Permanent link">&para;</a></h3>
<p><strong>Splat expands a collection into positional arguments, while splatty-splat expands a dictionary into keyword arguments.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-419-1" name="__codelineno-419-1" href="#__codelineno-419-1"></a><span class="n">args</span>   <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-419-2" name="__codelineno-419-2" href="#__codelineno-419-2"></a><span class="n">kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
<a id="__codelineno-419-3" name="__codelineno-419-3" href="#__codelineno-419-3"></a><span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</code></pre></div></p>
<h4 id="is-the-same-as_1">Is the same as:<a class="headerlink" href="#is-the-same-as_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-420-1" name="__codelineno-420-1" href="#__codelineno-420-1"></a><span class="n">func</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">z</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div>
<h3 id="inside-function-definition_3">Inside Function Definition<a class="headerlink" href="#inside-function-definition_3" title="Permanent link">&para;</a></h3>
<p><strong>Splat combines zero or more positional arguments into a tuple, while splatty-splat combines zero or more keyword arguments into a dictionary.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-421-1" name="__codelineno-421-1" href="#__codelineno-421-1"></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">):</span>
<a id="__codelineno-421-2" name="__codelineno-421-2" href="#__codelineno-421-2"></a>    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-422-1" name="__codelineno-422-1" href="#__codelineno-422-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">add</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-422-2" name="__codelineno-422-2" href="#__codelineno-422-2"></a><span class="mi">6</span>
</code></pre></div>
<h4 id="legal-argument-combinations_1">Legal argument combinations:<a class="headerlink" href="#legal-argument-combinations_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-423-1" name="__codelineno-423-1" href="#__codelineno-423-1"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">):</span> <span class="o">...</span>               <span class="c1"># f(1, 2, 3)</span>
<a id="__codelineno-423-2" name="__codelineno-423-2" href="#__codelineno-423-2"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">):</span> <span class="o">...</span>            <span class="c1"># f(1, 2, 3)</span>
<a id="__codelineno-423-3" name="__codelineno-423-3" href="#__codelineno-423-3"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span> <span class="o">...</span>            <span class="c1"># f(1, 2, z=3)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-424-1" name="__codelineno-424-1" href="#__codelineno-424-1"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>            <span class="c1"># f(x=1, y=2, z=3)</span>
<a id="__codelineno-424-2" name="__codelineno-424-2" href="#__codelineno-424-2"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>         <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-425-1" name="__codelineno-425-1" href="#__codelineno-425-1"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>     <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3) | f(1, 2, 3)</span>
<a id="__codelineno-425-2" name="__codelineno-425-2" href="#__codelineno-425-2"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>  <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3) | f(1, 2, 3)</span>
<a id="__codelineno-425-3" name="__codelineno-425-3" href="#__codelineno-425-3"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>  <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-426-1" name="__codelineno-426-1" href="#__codelineno-426-1"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span> <span class="o">...</span>          <span class="c1"># f(x=1, y=2, z=3)</span>
<a id="__codelineno-426-2" name="__codelineno-426-2" href="#__codelineno-426-2"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span> <span class="o">...</span>          <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3)</span>
<a id="__codelineno-426-3" name="__codelineno-426-3" href="#__codelineno-426-3"></a><span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">z</span><span class="p">):</span> <span class="o">...</span>          <span class="c1"># f(x=1, y=2, z=3) | f(1, y=2, z=3) | f(1, 2, z=3)</span>
</code></pre></div>
<h3 id="other-uses_1">Other Uses<a class="headerlink" href="#other-uses_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-427-1" name="__codelineno-427-1" href="#__codelineno-427-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="p">[</span><span class="o">*&lt;</span><span class="n">coll</span><span class="o">.&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">]]</span>    <span class="c1"># Or: list(&lt;collection&gt;) [+ ...]</span>
<a id="__codelineno-427-2" name="__codelineno-427-2" href="#__codelineno-427-2"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="o">*&lt;</span><span class="n">coll</span><span class="o">.&gt;</span><span class="p">,</span> <span class="p">[</span><span class="o">...</span><span class="p">])</span>     <span class="c1"># Or: tuple(&lt;collection&gt;) [+ ...]</span>
<a id="__codelineno-427-3" name="__codelineno-427-3" href="#__codelineno-427-3"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="p">{</span><span class="o">*&lt;</span><span class="n">coll</span><span class="o">.&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">]}</span>    <span class="c1"># Or: set(&lt;collection&gt;) [| ...]</span>
<a id="__codelineno-427-4" name="__codelineno-427-4" href="#__codelineno-427-4"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="p">{</span><span class="o">**&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">]}</span>    <span class="c1"># Or: dict(&lt;dict&gt;) [| ...] (since 3.9)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-428-1" name="__codelineno-428-1" href="#__codelineno-428-1"></a><span class="n">head</span><span class="p">,</span> <span class="o">*</span><span class="n">body</span><span class="p">,</span> <span class="n">tail</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">coll</span><span class="o">.&gt;</span>     <span class="c1"># Head or tail can be omitted.</span>
</code></pre></div>
<h2 id="inline_3">Inline<a class="headerlink" href="#inline_3" title="Permanent link">&para;</a></h2>
<h3 id="lambda_1">Lambda<a class="headerlink" href="#lambda_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-429-1" name="__codelineno-429-1" href="#__codelineno-429-1"></a><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">return_value</span><span class="o">&gt;</span>                     <span class="c1"># A single statement function.</span>
<a id="__codelineno-429-2" name="__codelineno-429-2" href="#__codelineno-429-2"></a><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span> <span class="o">=</span> <span class="k">lambda</span> <span class="o">&lt;</span><span class="n">arg_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">arg_2</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">return_value</span><span class="o">&gt;</span>    <span class="c1"># Also accepts default arguments.</span>
</code></pre></div>
<h3 id="comprehensions_1">Comprehensions<a class="headerlink" href="#comprehensions_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-430-1" name="__codelineno-430-1" href="#__codelineno-430-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>                   <span class="c1"># Or: [1, 2, ..., 10]</span>
<a id="__codelineno-430-2" name="__codelineno-430-2" href="#__codelineno-430-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">)</span>            <span class="c1"># Or: iter([6, 7, 8, 9])</span>
<a id="__codelineno-430-3" name="__codelineno-430-3" href="#__codelineno-430-3"></a><span class="o">&lt;</span><span class="nb">set</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="o">+</span><span class="mi">5</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}</span>                   <span class="c1"># Or: {5, 6, ..., 14}</span>
<a id="__codelineno-430-4" name="__codelineno-430-4" href="#__codelineno-430-4"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span><span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="o">*</span><span class="mi">2</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}</span>                <span class="c1"># Or: {0: 0, 1: 2, ..., 9: 18}</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-431-1" name="__codelineno-431-1" href="#__codelineno-431-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">l</span><span class="o">+</span><span class="n">r</span> <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="s1">&#39;abc&#39;</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="s1">&#39;abc&#39;</span><span class="p">]</span>
<a id="__codelineno-431-2" name="__codelineno-431-2" href="#__codelineno-431-2"></a><span class="p">[</span><span class="s1">&#39;aa&#39;</span><span class="p">,</span> <span class="s1">&#39;ab&#39;</span><span class="p">,</span> <span class="s1">&#39;ac&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="s1">&#39;cc&#39;</span><span class="p">]</span>
</code></pre></div>
<h3 id="map-filter-reduce_1">Map, Filter, Reduce<a class="headerlink" href="#map-filter-reduce_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-432-1" name="__codelineno-432-1" href="#__codelineno-432-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">reduce</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-433-1" name="__codelineno-433-1" href="#__codelineno-433-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>            <span class="c1"># Or: iter([1, 2, ..., 10])</span>
<a id="__codelineno-433-2" name="__codelineno-433-2" href="#__codelineno-433-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>         <span class="c1"># Or: iter([6, 7, 8, 9])</span>
<a id="__codelineno-433-3" name="__codelineno-433-3" href="#__codelineno-433-3"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">reduce</span><span class="p">(</span><span class="k">lambda</span> <span class="n">out</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="n">out</span> <span class="o">+</span> <span class="n">x</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>  <span class="c1"># Or: 45</span>
</code></pre></div>
<h3 id="any-all_1">Any, All<a class="headerlink" href="#any-all_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-434-1" name="__codelineno-434-1" href="#__codelineno-434-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">any</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Is `bool(&lt;el&gt;)` True for any element.</span>
<a id="__codelineno-434-2" name="__codelineno-434-2" href="#__codelineno-434-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">all</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Is True for all elements or empty.</span>
</code></pre></div>
<h3 id="conditional-expression_1">Conditional Expression<a class="headerlink" href="#conditional-expression_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-435-1" name="__codelineno-435-1" href="#__codelineno-435-1"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">exp</span><span class="o">&gt;</span> <span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span> <span class="k">else</span> <span class="o">&lt;</span><span class="n">exp</span><span class="o">&gt;</span>             <span class="c1"># Only one expression gets evaluated.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-436-1" name="__codelineno-436-1" href="#__codelineno-436-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">a</span> <span class="k">if</span> <span class="n">a</span> <span class="k">else</span> <span class="s1">&#39;zero&#39;</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)]</span>      <span class="c1"># `any([0, &#39;&#39;, [], None]) == False`</span>
<a id="__codelineno-436-2" name="__codelineno-436-2" href="#__codelineno-436-2"></a><span class="p">[</span><span class="s1">&#39;zero&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
</code></pre></div>
<h3 id="named-tuple-enum-dataclass_1">Named Tuple, Enum, Dataclass<a class="headerlink" href="#named-tuple-enum-dataclass_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-437-1" name="__codelineno-437-1" href="#__codelineno-437-1"></a><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">namedtuple</span>
<a id="__codelineno-437-2" name="__codelineno-437-2" href="#__codelineno-437-2"></a><span class="n">Point</span> <span class="o">=</span> <span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;Point&#39;</span><span class="p">,</span> <span class="s1">&#39;x y&#39;</span><span class="p">)</span>                  <span class="c1"># Creates a tuple&#39;s subclass.</span>
<a id="__codelineno-437-3" name="__codelineno-437-3" href="#__codelineno-437-3"></a><span class="n">point</span> <span class="o">=</span> <span class="n">Point</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>                                 <span class="c1"># Returns its instance.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-438-1" name="__codelineno-438-1" href="#__codelineno-438-1"></a><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<a id="__codelineno-438-2" name="__codelineno-438-2" href="#__codelineno-438-2"></a><span class="n">Direction</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;Direction&#39;</span><span class="p">,</span> <span class="s1">&#39;N E S W&#39;</span><span class="p">)</span>            <span class="c1"># Creates an enum.</span>
<a id="__codelineno-438-3" name="__codelineno-438-3" href="#__codelineno-438-3"></a><span class="n">direction</span> <span class="o">=</span> <span class="n">Direction</span><span class="o">.</span><span class="n">N</span>                             <span class="c1"># Returns its member.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-439-1" name="__codelineno-439-1" href="#__codelineno-439-1"></a><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">make_dataclass</span>
<a id="__codelineno-439-2" name="__codelineno-439-2" href="#__codelineno-439-2"></a><span class="n">Player</span> <span class="o">=</span> <span class="n">make_dataclass</span><span class="p">(</span><span class="s1">&#39;Player&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;loc&#39;</span><span class="p">,</span> <span class="s1">&#39;dir&#39;</span><span class="p">])</span>   <span class="c1"># Creates a class.</span>
<a id="__codelineno-439-3" name="__codelineno-439-3" href="#__codelineno-439-3"></a><span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">point</span><span class="p">,</span> <span class="n">direction</span><span class="p">)</span>                   <span class="c1"># Returns its instance.</span>
</code></pre></div>
<h2 id="imports_1">Imports<a class="headerlink" href="#imports_1" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-440-1" name="__codelineno-440-1" href="#__codelineno-440-1"></a><span class="kn">import</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>            <span class="c1"># Imports a built-in or &#39;&lt;module&gt;.py&#39;.</span>
<a id="__codelineno-440-2" name="__codelineno-440-2" href="#__codelineno-440-2"></a><span class="kn">import</span> <span class="o">&lt;</span><span class="n">package</span><span class="o">&gt;</span>           <span class="c1"># Imports a built-in or &#39;&lt;package&gt;/__init__.py&#39;.</span>
<a id="__codelineno-440-3" name="__codelineno-440-3" href="#__codelineno-440-3"></a><span class="kn">import</span> <span class="o">&lt;</span><span class="n">package</span><span class="o">&gt;.&lt;</span><span class="n">module</span><span class="o">&gt;</span>  <span class="c1"># Imports a built-in or &#39;&lt;package&gt;/&lt;module&gt;.py&#39;.</span>
</code></pre></div>
* <strong>Package is a collection of modules, but it can also define its own objects.</strong>
* <strong>On a filesystem this corresponds to a directory of Python files with an optional init script.</strong>
* <strong>Running <code>'import &lt;package&gt;'</code> does not automatically provide access to the package's modules unless they are explicitly imported in its init script.</strong></p>
<h2 id="closure_1">Closure<a class="headerlink" href="#closure_1" title="Permanent link">&para;</a></h2>
<p><strong>We have/get a closure in Python when:</strong>
* <strong>A nested function references a value of its enclosing function and then</strong>
* <strong>the enclosing function returns the nested function.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-441-1" name="__codelineno-441-1" href="#__codelineno-441-1"></a><span class="k">def</span> <span class="nf">get_multiplier</span><span class="p">(</span><span class="n">a</span><span class="p">):</span>
<a id="__codelineno-441-2" name="__codelineno-441-2" href="#__codelineno-441-2"></a>    <span class="k">def</span> <span class="nf">out</span><span class="p">(</span><span class="n">b</span><span class="p">):</span>
<a id="__codelineno-441-3" name="__codelineno-441-3" href="#__codelineno-441-3"></a>        <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<a id="__codelineno-441-4" name="__codelineno-441-4" href="#__codelineno-441-4"></a>    <span class="k">return</span> <span class="n">out</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-442-1" name="__codelineno-442-1" href="#__codelineno-442-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">multiply_by_3</span> <span class="o">=</span> <span class="n">get_multiplier</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-442-2" name="__codelineno-442-2" href="#__codelineno-442-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">multiply_by_3</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-442-3" name="__codelineno-442-3" href="#__codelineno-442-3"></a><span class="mi">30</span>
</code></pre></div>
<ul>
<li><strong>If multiple nested functions within enclosing function reference the same value, that value gets shared.</strong></li>
<li><strong>To dynamically access function's first free variable use <code>'&lt;function&gt;.__closure__[0].cell_contents'</code>.</strong></li>
</ul>
<h3 id="partial_1">Partial<a class="headerlink" href="#partial_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-443-1" name="__codelineno-443-1" href="#__codelineno-443-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<a id="__codelineno-443-2" name="__codelineno-443-2" href="#__codelineno-443-2"></a><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">&lt;</span><span class="n">arg_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">arg_2</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-444-1" name="__codelineno-444-1" href="#__codelineno-444-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<a id="__codelineno-444-2" name="__codelineno-444-2" href="#__codelineno-444-2"></a><span class="o">...</span>     <span class="k">return</span> <span class="n">a</span> <span class="o">*</span> <span class="n">b</span>
<a id="__codelineno-444-3" name="__codelineno-444-3" href="#__codelineno-444-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">multiply_by_3</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">multiply</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-444-4" name="__codelineno-444-4" href="#__codelineno-444-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">multiply_by_3</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<a id="__codelineno-444-5" name="__codelineno-444-5" href="#__codelineno-444-5"></a><span class="mi">30</span>
</code></pre></div>
* <strong>Partial is also useful in cases when function needs to be passed as an argument because it enables us to set its arguments beforehand.</strong>
* <strong>A few examples being: <code>'defaultdict(&lt;func&gt;)'</code>, <code>'iter(&lt;func&gt;, to_exc)'</code> and dataclass's <code>'field(default_factory=&lt;func&gt;)'</code>.</strong></p>
<h3 id="non-local_1">Non-Local<a class="headerlink" href="#non-local_1" title="Permanent link">&para;</a></h3>
<p><strong>If variable is being assigned to anywhere in the scope, it is regarded as a local variable, unless it is declared as a 'global' or a 'nonlocal'.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-445-1" name="__codelineno-445-1" href="#__codelineno-445-1"></a><span class="k">def</span> <span class="nf">get_counter</span><span class="p">():</span>
<a id="__codelineno-445-2" name="__codelineno-445-2" href="#__codelineno-445-2"></a>    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-445-3" name="__codelineno-445-3" href="#__codelineno-445-3"></a>    <span class="k">def</span> <span class="nf">out</span><span class="p">():</span>
<a id="__codelineno-445-4" name="__codelineno-445-4" href="#__codelineno-445-4"></a>        <span class="k">nonlocal</span> <span class="n">i</span>
<a id="__codelineno-445-5" name="__codelineno-445-5" href="#__codelineno-445-5"></a>        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-445-6" name="__codelineno-445-6" href="#__codelineno-445-6"></a>        <span class="k">return</span> <span class="n">i</span>
<a id="__codelineno-445-7" name="__codelineno-445-7" href="#__codelineno-445-7"></a>    <span class="k">return</span> <span class="n">out</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-446-1" name="__codelineno-446-1" href="#__codelineno-446-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">get_counter</span><span class="p">()</span>
<a id="__codelineno-446-2" name="__codelineno-446-2" href="#__codelineno-446-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span><span class="p">(),</span> <span class="n">counter</span><span class="p">(),</span> <span class="n">counter</span><span class="p">()</span>
<a id="__codelineno-446-3" name="__codelineno-446-3" href="#__codelineno-446-3"></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<h2 id="decorator_1">Decorator<a class="headerlink" href="#decorator_1" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>A decorator takes a function, adds some functionality and returns it.</strong></li>
<li><strong>It can be any <a href="#callable">callable</a>, but is usually implemented as a function that returns a <a href="#closure">closure</a>.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-447-1" name="__codelineno-447-1" href="#__codelineno-447-1"></a><span class="nd">@decorator_name</span>
<a id="__codelineno-447-2" name="__codelineno-447-2" href="#__codelineno-447-2"></a><span class="k">def</span> <span class="nf">function_that_gets_passed_to_decorator</span><span class="p">():</span>
<a id="__codelineno-447-3" name="__codelineno-447-3" href="#__codelineno-447-3"></a>    <span class="o">...</span>
</code></pre></div>
<h3 id="debugger-example_1">Debugger Example<a class="headerlink" href="#debugger-example_1" title="Permanent link">&para;</a></h3>
<p><strong>Decorator that prints function's name every time the function is called.</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-448-1" name="__codelineno-448-1" href="#__codelineno-448-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
<a id="__codelineno-448-2" name="__codelineno-448-2" href="#__codelineno-448-2"></a>
<a id="__codelineno-448-3" name="__codelineno-448-3" href="#__codelineno-448-3"></a><span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<a id="__codelineno-448-4" name="__codelineno-448-4" href="#__codelineno-448-4"></a>    <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<a id="__codelineno-448-5" name="__codelineno-448-5" href="#__codelineno-448-5"></a>    <span class="k">def</span> <span class="nf">out</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<a id="__codelineno-448-6" name="__codelineno-448-6" href="#__codelineno-448-6"></a>        <span class="nb">print</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">)</span>
<a id="__codelineno-448-7" name="__codelineno-448-7" href="#__codelineno-448-7"></a>        <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<a id="__codelineno-448-8" name="__codelineno-448-8" href="#__codelineno-448-8"></a>    <span class="k">return</span> <span class="n">out</span>
<a id="__codelineno-448-9" name="__codelineno-448-9" href="#__codelineno-448-9"></a>
<a id="__codelineno-448-10" name="__codelineno-448-10" href="#__codelineno-448-10"></a><span class="nd">@debug</span>
<a id="__codelineno-448-11" name="__codelineno-448-11" href="#__codelineno-448-11"></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<a id="__codelineno-448-12" name="__codelineno-448-12" href="#__codelineno-448-12"></a>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</code></pre></div>
* <strong>Wraps is a helper decorator that copies the metadata of the passed function (func) to the function it is wrapping (out).</strong>
* <strong>Without it, <code>'add.__name__'</code> would return <code>'out'</code>.</strong></p>
<h3 id="lru-cache_1">LRU Cache<a class="headerlink" href="#lru-cache_1" title="Permanent link">&para;</a></h3>
<p><strong>Decorator that caches function's return values. All function's arguments must be hashable.</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-449-1" name="__codelineno-449-1" href="#__codelineno-449-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">lru_cache</span>
<a id="__codelineno-449-2" name="__codelineno-449-2" href="#__codelineno-449-2"></a>
<a id="__codelineno-449-3" name="__codelineno-449-3" href="#__codelineno-449-3"></a><span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<a id="__codelineno-449-4" name="__codelineno-449-4" href="#__codelineno-449-4"></a><span class="k">def</span> <span class="nf">fib</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
<a id="__codelineno-449-5" name="__codelineno-449-5" href="#__codelineno-449-5"></a>    <span class="k">return</span> <span class="n">n</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span> <span class="k">else</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="n">fib</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</code></pre></div>
* <strong>Default size of the cache is 128 values. Passing <code>'maxsize=None'</code> makes it unbounded.</strong>
* <strong>CPython interpreter limits recursion depth to 1000 by default. To increase it use <code>'sys.setrecursionlimit(&lt;depth&gt;)'</code>.</strong></p>
<h3 id="parametrized-decorator_1">Parametrized Decorator<a class="headerlink" href="#parametrized-decorator_1" title="Permanent link">&para;</a></h3>
<p><strong>A decorator that accepts arguments and returns a normal decorator that accepts a function.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-450-1" name="__codelineno-450-1" href="#__codelineno-450-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">wraps</span>
<a id="__codelineno-450-2" name="__codelineno-450-2" href="#__codelineno-450-2"></a>
<a id="__codelineno-450-3" name="__codelineno-450-3" href="#__codelineno-450-3"></a><span class="k">def</span> <span class="nf">debug</span><span class="p">(</span><span class="n">print_result</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<a id="__codelineno-450-4" name="__codelineno-450-4" href="#__codelineno-450-4"></a>    <span class="k">def</span> <span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
<a id="__codelineno-450-5" name="__codelineno-450-5" href="#__codelineno-450-5"></a>        <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
<a id="__codelineno-450-6" name="__codelineno-450-6" href="#__codelineno-450-6"></a>        <span class="k">def</span> <span class="nf">out</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<a id="__codelineno-450-7" name="__codelineno-450-7" href="#__codelineno-450-7"></a>            <span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<a id="__codelineno-450-8" name="__codelineno-450-8" href="#__codelineno-450-8"></a>            <span class="nb">print</span><span class="p">(</span><span class="n">func</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span> <span class="n">result</span> <span class="k">if</span> <span class="n">print_result</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<a id="__codelineno-450-9" name="__codelineno-450-9" href="#__codelineno-450-9"></a>            <span class="k">return</span> <span class="n">result</span>
<a id="__codelineno-450-10" name="__codelineno-450-10" href="#__codelineno-450-10"></a>        <span class="k">return</span> <span class="n">out</span>
<a id="__codelineno-450-11" name="__codelineno-450-11" href="#__codelineno-450-11"></a>    <span class="k">return</span> <span class="n">decorator</span>
<a id="__codelineno-450-12" name="__codelineno-450-12" href="#__codelineno-450-12"></a>
<a id="__codelineno-450-13" name="__codelineno-450-13" href="#__codelineno-450-13"></a><span class="nd">@debug</span><span class="p">(</span><span class="n">print_result</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-450-14" name="__codelineno-450-14" href="#__codelineno-450-14"></a><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<a id="__codelineno-450-15" name="__codelineno-450-15" href="#__codelineno-450-15"></a>    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
</code></pre></div>
* <strong>Using only <code>'@debug'</code> to decorate the add() function would not work here, because debug would then receive the add() function as a 'print_result' argument. Decorators can however manually check if the argument they received is a function and act accordingly.</strong></p>
<h2 id="class_1">Class<a class="headerlink" href="#class_1" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-451-1" name="__codelineno-451-1" href="#__codelineno-451-1"></a><span class="k">class</span> <span class="err">&lt;</span><span class="nc">name</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-451-2" name="__codelineno-451-2" href="#__codelineno-451-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-451-3" name="__codelineno-451-3" href="#__codelineno-451-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-451-4" name="__codelineno-451-4" href="#__codelineno-451-4"></a>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-451-5" name="__codelineno-451-5" href="#__codelineno-451-5"></a>        <span class="n">class_name</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span>
<a id="__codelineno-451-6" name="__codelineno-451-6" href="#__codelineno-451-6"></a>        <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">class_name</span><span class="si">}</span><span class="s1">(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="si">!r}</span><span class="s1">)&#39;</span>
<a id="__codelineno-451-7" name="__codelineno-451-7" href="#__codelineno-451-7"></a>    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-451-8" name="__codelineno-451-8" href="#__codelineno-451-8"></a>        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-451-9" name="__codelineno-451-9" href="#__codelineno-451-9"></a>
<a id="__codelineno-451-10" name="__codelineno-451-10" href="#__codelineno-451-10"></a>    <span class="nd">@classmethod</span>
<a id="__codelineno-451-11" name="__codelineno-451-11" href="#__codelineno-451-11"></a>    <span class="k">def</span> <span class="nf">get_class_name</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
<a id="__codelineno-451-12" name="__codelineno-451-12" href="#__codelineno-451-12"></a>        <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="vm">__name__</span>
</code></pre></div>
* <strong>Return value of repr() should be unambiguous and of str() readable.</strong>
* <strong>If only repr() is defined, it will also be used for str().</strong>
* <strong>Methods decorated with <code>'@staticmethod'</code> do not receive 'self' nor 'cls' as their first arg.</strong></p>
<h4 id="expressions-that-call-the-str-method_1">Expressions that call the str() method:<a class="headerlink" href="#expressions-that-call-the-str-method_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-452-1" name="__codelineno-452-1" href="#__codelineno-452-1"></a><span class="nb">print</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-452-2" name="__codelineno-452-2" href="#__codelineno-452-2"></a><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="si">}</span><span class="s1">&#39;</span>
<a id="__codelineno-452-3" name="__codelineno-452-3" href="#__codelineno-452-3"></a><span class="n">logging</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-452-4" name="__codelineno-452-4" href="#__codelineno-452-4"></a><span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="p">)</span><span class="o">.</span><span class="n">writerow</span><span class="p">([</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">])</span>
<a id="__codelineno-452-5" name="__codelineno-452-5" href="#__codelineno-452-5"></a><span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div>
<h4 id="expressions-that-call-the-repr-method_1">Expressions that call the repr() method:<a class="headerlink" href="#expressions-that-call-the-repr-method_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-453-1" name="__codelineno-453-1" href="#__codelineno-453-1"></a><span class="nb">print</span><span class="o">/</span><span class="nb">str</span><span class="o">/</span><span class="nb">repr</span><span class="p">([</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">])</span>
<a id="__codelineno-453-2" name="__codelineno-453-2" href="#__codelineno-453-2"></a><span class="nb">print</span><span class="o">/</span><span class="nb">str</span><span class="o">/</span><span class="nb">repr</span><span class="p">({</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">})</span>
<a id="__codelineno-453-3" name="__codelineno-453-3" href="#__codelineno-453-3"></a><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="si">!r}</span><span class="s1">&#39;</span>
<a id="__codelineno-453-4" name="__codelineno-453-4" href="#__codelineno-453-4"></a><span class="n">Z</span> <span class="o">=</span> <span class="n">dataclasses</span><span class="o">.</span><span class="n">make_dataclass</span><span class="p">(</span><span class="s1">&#39;Z&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]);</span> <span class="nb">print</span><span class="o">/</span><span class="nb">str</span><span class="o">/</span><span class="nb">repr</span><span class="p">(</span><span class="n">Z</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">))</span>
<a id="__codelineno-453-5" name="__codelineno-453-5" href="#__codelineno-453-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>
</code></pre></div>
<h3 id="constructor-overloading_1">Constructor Overloading<a class="headerlink" href="#constructor-overloading_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-454-1" name="__codelineno-454-1" href="#__codelineno-454-1"></a><span class="k">class</span> <span class="err">&lt;</span><span class="nc">name</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-454-2" name="__codelineno-454-2" href="#__codelineno-454-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<a id="__codelineno-454-3" name="__codelineno-454-3" href="#__codelineno-454-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
</code></pre></div>
<h3 id="inheritance_1">Inheritance<a class="headerlink" href="#inheritance_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-455-1" name="__codelineno-455-1" href="#__codelineno-455-1"></a><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
<a id="__codelineno-455-2" name="__codelineno-455-2" href="#__codelineno-455-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<a id="__codelineno-455-3" name="__codelineno-455-3" href="#__codelineno-455-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
<a id="__codelineno-455-4" name="__codelineno-455-4" href="#__codelineno-455-4"></a>
<a id="__codelineno-455-5" name="__codelineno-455-5" href="#__codelineno-455-5"></a><span class="k">class</span> <span class="nc">Employee</span><span class="p">(</span><span class="n">Person</span><span class="p">):</span>
<a id="__codelineno-455-6" name="__codelineno-455-6" href="#__codelineno-455-6"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">staff_num</span><span class="p">):</span>
<a id="__codelineno-455-7" name="__codelineno-455-7" href="#__codelineno-455-7"></a>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<a id="__codelineno-455-8" name="__codelineno-455-8" href="#__codelineno-455-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">staff_num</span> <span class="o">=</span> <span class="n">staff_num</span>
</code></pre></div>
<h3 id="multiple-inheritance_1">Multiple Inheritance<a class="headerlink" href="#multiple-inheritance_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-456-1" name="__codelineno-456-1" href="#__codelineno-456-1"></a><span class="k">class</span> <span class="nc">A</span><span class="p">:</span> <span class="k">pass</span>
<a id="__codelineno-456-2" name="__codelineno-456-2" href="#__codelineno-456-2"></a><span class="k">class</span> <span class="nc">B</span><span class="p">:</span> <span class="k">pass</span>
<a id="__codelineno-456-3" name="__codelineno-456-3" href="#__codelineno-456-3"></a><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span> <span class="k">pass</span>
</code></pre></div>
<p><strong>MRO determines the order in which parent classes are traversed when searching for a method or an attribute:</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-457-1" name="__codelineno-457-1" href="#__codelineno-457-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">C</span><span class="o">.</span><span class="n">mro</span><span class="p">()</span>
<a id="__codelineno-457-2" name="__codelineno-457-2" href="#__codelineno-457-2"></a><span class="p">[</span><span class="o">&lt;</span><span class="k">class</span> <span class="err">&#39;</span><span class="nc">C</span><span class="s1">&#39;&gt;, &lt;class &#39;</span><span class="n">A</span><span class="s1">&#39;&gt;, &lt;class &#39;</span><span class="sa">B</span><span class="s1">&#39;&gt;, &lt;class &#39;</span><span class="nb">object</span><span class="s1">&#39;&gt;]</span>
</code></pre></div></p>
<h3 id="property_1">Property<a class="headerlink" href="#property_1" title="Permanent link">&para;</a></h3>
<p><strong>Pythonic way of implementing getters and setters.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-458-1" name="__codelineno-458-1" href="#__codelineno-458-1"></a><span class="k">class</span> <span class="nc">Person</span><span class="p">:</span>
<a id="__codelineno-458-2" name="__codelineno-458-2" href="#__codelineno-458-2"></a>    <span class="nd">@property</span>
<a id="__codelineno-458-3" name="__codelineno-458-3" href="#__codelineno-458-3"></a>    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-458-4" name="__codelineno-458-4" href="#__codelineno-458-4"></a>        <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_name</span><span class="p">)</span>
<a id="__codelineno-458-5" name="__codelineno-458-5" href="#__codelineno-458-5"></a>
<a id="__codelineno-458-6" name="__codelineno-458-6" href="#__codelineno-458-6"></a>    <span class="nd">@name</span><span class="o">.</span><span class="n">setter</span>
<a id="__codelineno-458-7" name="__codelineno-458-7" href="#__codelineno-458-7"></a>    <span class="k">def</span> <span class="nf">name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<a id="__codelineno-458-8" name="__codelineno-458-8" href="#__codelineno-458-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_name</span> <span class="o">=</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-459-1" name="__codelineno-459-1" href="#__codelineno-459-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">person</span> <span class="o">=</span> <span class="n">Person</span><span class="p">()</span>
<a id="__codelineno-459-2" name="__codelineno-459-2" href="#__codelineno-459-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\t</span><span class="s1"> Guido  van Rossum </span><span class="se">\n</span><span class="s1">&#39;</span>
<a id="__codelineno-459-3" name="__codelineno-459-3" href="#__codelineno-459-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">person</span><span class="o">.</span><span class="n">name</span>
<a id="__codelineno-459-4" name="__codelineno-459-4" href="#__codelineno-459-4"></a><span class="s1">&#39;Guido van Rossum&#39;</span>
</code></pre></div>
<h3 id="dataclass_1">Dataclass<a class="headerlink" href="#dataclass_1" title="Permanent link">&para;</a></h3>
<p><strong>Decorator that automatically generates init(), repr() and eq() special methods.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-460-1" name="__codelineno-460-1" href="#__codelineno-460-1"></a><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>
<a id="__codelineno-460-2" name="__codelineno-460-2" href="#__codelineno-460-2"></a>
<a id="__codelineno-460-3" name="__codelineno-460-3" href="#__codelineno-460-3"></a><span class="nd">@dataclass</span><span class="p">(</span><span class="n">order</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">frozen</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-460-4" name="__codelineno-460-4" href="#__codelineno-460-4"></a><span class="k">class</span> <span class="err">&lt;</span><span class="nc">class_name</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-460-5" name="__codelineno-460-5" href="#__codelineno-460-5"></a>    <span class="o">&lt;</span><span class="n">attr_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<a id="__codelineno-460-6" name="__codelineno-460-6" href="#__codelineno-460-6"></a>    <span class="o">&lt;</span><span class="n">attr_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">default_value</span><span class="o">&gt;</span>
<a id="__codelineno-460-7" name="__codelineno-460-7" href="#__codelineno-460-7"></a>    <span class="o">&lt;</span><span class="n">attr_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="nb">list</span><span class="o">/</span><span class="nb">dict</span><span class="o">/</span><span class="nb">set</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="o">/</span><span class="nb">dict</span><span class="o">/</span><span class="nb">set</span><span class="p">)</span>
</code></pre></div>
* <strong>Objects can be made <a href="#sortable">sortable</a> with <code>'order=True'</code> and immutable with <code>'frozen=True'</code>.</strong>
* <strong>For object to be <a href="#hashable">hashable</a>, all attributes must be hashable and 'frozen' must be True.</strong>
* <strong>Function field() is needed because <code>'&lt;attr_name&gt;: list = []'</code> would make a list that is shared among all instances. Its 'default_factory' argument can be any <a href="#callable">callable</a>.</strong>
* <strong>For attributes of arbitrary type use <code>'typing.Any'</code>.</strong></p>
<h4 id="inline_4">Inline:<a class="headerlink" href="#inline_4" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-461-1" name="__codelineno-461-1" href="#__codelineno-461-1"></a><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">make_dataclass</span>
<a id="__codelineno-461-2" name="__codelineno-461-2" href="#__codelineno-461-2"></a><span class="o">&lt;</span><span class="n">class</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">make_dataclass</span><span class="p">(</span><span class="s1">&#39;&lt;class_name&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">coll_of_attribute_names</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-461-3" name="__codelineno-461-3" href="#__codelineno-461-3"></a><span class="o">&lt;</span><span class="n">class</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">make_dataclass</span><span class="p">(</span><span class="s1">&#39;&lt;class_name&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">coll_of_tuples</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-461-4" name="__codelineno-461-4" href="#__codelineno-461-4"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;attr_name&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">&lt;</span><span class="n">default_value</span><span class="o">&gt;</span><span class="p">])</span>
</code></pre></div>
<h4 id="rest-of-type-annotations-cpython-interpreter-ignores-them-all_1">Rest of type annotations (CPython interpreter ignores them all):<a class="headerlink" href="#rest-of-type-annotations-cpython-interpreter-ignores-them-all_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-462-1" name="__codelineno-462-1" href="#__codelineno-462-1"></a><span class="kn">import</span> <span class="nn">collections.abc</span> <span class="k">as</span> <span class="nn">abc</span><span class="o">,</span> <span class="nn">typing</span> <span class="k">as</span> <span class="nn">tp</span>
<a id="__codelineno-462-2" name="__codelineno-462-2" href="#__codelineno-462-2"></a><span class="o">&lt;</span><span class="n">var_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="nb">list</span><span class="o">/</span><span class="nb">set</span><span class="o">/</span><span class="n">abc</span><span class="o">.</span><span class="n">Iterable</span><span class="o">/</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="o">/</span><span class="n">tp</span><span class="o">.</span><span class="n">Optional</span><span class="p">[</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">]</span>
<a id="__codelineno-462-3" name="__codelineno-462-3" href="#__codelineno-462-3"></a><span class="o">&lt;</span><span class="n">var_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="nb">dict</span><span class="o">/</span><span class="nb">tuple</span><span class="o">/</span><span class="n">tp</span><span class="o">.</span><span class="n">Union</span><span class="p">[</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span> <span class="p">[</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">]</span>
<a id="__codelineno-462-4" name="__codelineno-462-4" href="#__codelineno-462-4"></a><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="o">&lt;</span><span class="n">arg_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">=</span> <span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">...</span>
</code></pre></div>
<h3 id="slots_1">Slots<a class="headerlink" href="#slots_1" title="Permanent link">&para;</a></h3>
<p><strong>Mechanism that restricts objects to attributes listed in 'slots' and significantly reduces their memory footprint.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-463-1" name="__codelineno-463-1" href="#__codelineno-463-1"></a><span class="k">class</span> <span class="nc">MyClassWithSlots</span><span class="p">:</span>
<a id="__codelineno-463-2" name="__codelineno-463-2" href="#__codelineno-463-2"></a>    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">]</span>
<a id="__codelineno-463-3" name="__codelineno-463-3" href="#__codelineno-463-3"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-463-4" name="__codelineno-463-4" href="#__codelineno-463-4"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span>
</code></pre></div>
<h3 id="copy_1">Copy<a class="headerlink" href="#copy_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-464-1" name="__codelineno-464-1" href="#__codelineno-464-1"></a><span class="kn">from</span> <span class="nn">copy</span> <span class="kn">import</span> <span class="n">copy</span><span class="p">,</span> <span class="n">deepcopy</span>
<a id="__codelineno-464-2" name="__codelineno-464-2" href="#__codelineno-464-2"></a><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">copy</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-464-3" name="__codelineno-464-3" href="#__codelineno-464-3"></a><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div>
<h2 id="duck-types_1">Duck Types<a class="headerlink" href="#duck-types_1" title="Permanent link">&para;</a></h2>
<p><strong>A duck type is an implicit type that prescribes a set of special methods. Any object that has those methods defined is considered a member of that duck type.</strong></p>
<h3 id="comparable_1">Comparable<a class="headerlink" href="#comparable_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>If eq() method is not overridden, it returns <code>'id(self) == id(other)'</code>, which is the same as <code>'self is other'</code>.</strong></li>
<li><strong>That means all objects compare not equal by default.</strong></li>
<li><strong>Only the left side object has eq() method called, unless it returns NotImplemented, in which case the right object is consulted. False is returned if both return NotImplemented.</strong></li>
<li><strong>Ne() automatically works on any object that has eq() defined.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-465-1" name="__codelineno-465-1" href="#__codelineno-465-1"></a><span class="k">class</span> <span class="nc">MyComparable</span><span class="p">:</span>
<a id="__codelineno-465-2" name="__codelineno-465-2" href="#__codelineno-465-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-465-3" name="__codelineno-465-3" href="#__codelineno-465-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-465-4" name="__codelineno-465-4" href="#__codelineno-465-4"></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<a id="__codelineno-465-5" name="__codelineno-465-5" href="#__codelineno-465-5"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
<a id="__codelineno-465-6" name="__codelineno-465-6" href="#__codelineno-465-6"></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">a</span>
<a id="__codelineno-465-7" name="__codelineno-465-7" href="#__codelineno-465-7"></a>        <span class="k">return</span> <span class="bp">NotImplemented</span>
</code></pre></div>
<h3 id="hashable_1">Hashable<a class="headerlink" href="#hashable_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Hashable object needs both hash() and eq() methods and its hash value should never change.</strong></li>
<li><strong>Hashable objects that compare equal must have the same hash value, meaning default hash() that returns <code>'id(self)'</code> will not do.</strong></li>
<li><strong>That is why Python automatically makes classes unhashable if you only implement eq().</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-466-1" name="__codelineno-466-1" href="#__codelineno-466-1"></a><span class="k">class</span> <span class="nc">MyHashable</span><span class="p">:</span>
<a id="__codelineno-466-2" name="__codelineno-466-2" href="#__codelineno-466-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-466-3" name="__codelineno-466-3" href="#__codelineno-466-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">_a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-466-4" name="__codelineno-466-4" href="#__codelineno-466-4"></a>    <span class="nd">@property</span>
<a id="__codelineno-466-5" name="__codelineno-466-5" href="#__codelineno-466-5"></a>    <span class="k">def</span> <span class="nf">a</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-466-6" name="__codelineno-466-6" href="#__codelineno-466-6"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_a</span>
<a id="__codelineno-466-7" name="__codelineno-466-7" href="#__codelineno-466-7"></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<a id="__codelineno-466-8" name="__codelineno-466-8" href="#__codelineno-466-8"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
<a id="__codelineno-466-9" name="__codelineno-466-9" href="#__codelineno-466-9"></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">a</span>
<a id="__codelineno-466-10" name="__codelineno-466-10" href="#__codelineno-466-10"></a>        <span class="k">return</span> <span class="bp">NotImplemented</span>
<a id="__codelineno-466-11" name="__codelineno-466-11" href="#__codelineno-466-11"></a>    <span class="k">def</span> <span class="fm">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-466-12" name="__codelineno-466-12" href="#__codelineno-466-12"></a>        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
</code></pre></div>
<h3 id="sortable_1">Sortable<a class="headerlink" href="#sortable_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>With 'total_ordering' decorator, you only need to provide eq() and one of lt(), gt(), le() or ge() special methods and the rest will be automatically generated.</strong></li>
<li><strong>Functions sorted() and min() only require lt() method, while max() only requires gt(). However, it is best to define them all so that confusion doesn't arise in other contexts.</strong></li>
<li><strong>When two lists, strings or dataclasses are compared, their values get compared in order until a pair of unequal values is found. The comparison of this two values is then returned. The shorter sequence is considered smaller in case of all values being equal.</strong></li>
<li><strong>For proper alphabetical order pass <code>'key=locale.strxfrm'</code> to sorted() after running <code>'locale.setlocale(locale.LC_COLLATE, "en_US.UTF-8")'</code>.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-467-1" name="__codelineno-467-1" href="#__codelineno-467-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">total_ordering</span>
<a id="__codelineno-467-2" name="__codelineno-467-2" href="#__codelineno-467-2"></a>
<a id="__codelineno-467-3" name="__codelineno-467-3" href="#__codelineno-467-3"></a><span class="nd">@total_ordering</span>
<a id="__codelineno-467-4" name="__codelineno-467-4" href="#__codelineno-467-4"></a><span class="k">class</span> <span class="nc">MySortable</span><span class="p">:</span>
<a id="__codelineno-467-5" name="__codelineno-467-5" href="#__codelineno-467-5"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-467-6" name="__codelineno-467-6" href="#__codelineno-467-6"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-467-7" name="__codelineno-467-7" href="#__codelineno-467-7"></a>    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<a id="__codelineno-467-8" name="__codelineno-467-8" href="#__codelineno-467-8"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
<a id="__codelineno-467-9" name="__codelineno-467-9" href="#__codelineno-467-9"></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">a</span>
<a id="__codelineno-467-10" name="__codelineno-467-10" href="#__codelineno-467-10"></a>        <span class="k">return</span> <span class="bp">NotImplemented</span>
<a id="__codelineno-467-11" name="__codelineno-467-11" href="#__codelineno-467-11"></a>    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
<a id="__codelineno-467-12" name="__codelineno-467-12" href="#__codelineno-467-12"></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)):</span>
<a id="__codelineno-467-13" name="__codelineno-467-13" href="#__codelineno-467-13"></a>            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">a</span>
<a id="__codelineno-467-14" name="__codelineno-467-14" href="#__codelineno-467-14"></a>        <span class="k">return</span> <span class="bp">NotImplemented</span>
</code></pre></div>
<h3 id="iterator_3">Iterator<a class="headerlink" href="#iterator_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Any object that has methods next() and iter() is an iterator.</strong></li>
<li><strong>Next() should return next item or raise StopIteration exception.</strong></li>
<li><strong>Iter() should return 'self'.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-468-1" name="__codelineno-468-1" href="#__codelineno-468-1"></a><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
<a id="__codelineno-468-2" name="__codelineno-468-2" href="#__codelineno-468-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-468-3" name="__codelineno-468-3" href="#__codelineno-468-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-468-4" name="__codelineno-468-4" href="#__codelineno-468-4"></a>    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-468-5" name="__codelineno-468-5" href="#__codelineno-468-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-468-6" name="__codelineno-468-6" href="#__codelineno-468-6"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span>
<a id="__codelineno-468-7" name="__codelineno-468-7" href="#__codelineno-468-7"></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-468-8" name="__codelineno-468-8" href="#__codelineno-468-8"></a>        <span class="k">return</span> <span class="bp">self</span>
</code></pre></div></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-469-1" name="__codelineno-469-1" href="#__codelineno-469-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<a id="__codelineno-469-2" name="__codelineno-469-2" href="#__codelineno-469-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">),</span> <span class="nb">next</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
<a id="__codelineno-469-3" name="__codelineno-469-3" href="#__codelineno-469-3"></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<h4 id="python-has-many-different-iterator-objects_1">Python has many different iterator objects:<a class="headerlink" href="#python-has-many-different-iterator-objects_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Sequence iterators returned by the <a href="#iterator">iter()</a> function, such as list_iterator and set_iterator.</strong></li>
<li><strong>Objects returned by the <a href="#itertools">itertools</a> module, such as count, repeat and cycle.</strong></li>
<li><strong>Generators returned by the <a href="#generator">generator functions</a> and <a href="#comprehensions">generator expressions</a>.</strong></li>
<li><strong>File objects returned by the <a href="#open">open()</a> function, etc.</strong></li>
</ul>
<h3 id="callable_1">Callable<a class="headerlink" href="#callable_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>All functions and classes have a call() method, hence are callable.</strong></li>
<li><strong>When this cheatsheet uses <code>'&lt;function&gt;'</code> as an argument, it actually means <code>'&lt;callable&gt;'</code>.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-470-1" name="__codelineno-470-1" href="#__codelineno-470-1"></a><span class="k">class</span> <span class="nc">Counter</span><span class="p">:</span>
<a id="__codelineno-470-2" name="__codelineno-470-2" href="#__codelineno-470-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-470-3" name="__codelineno-470-3" href="#__codelineno-470-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-470-4" name="__codelineno-470-4" href="#__codelineno-470-4"></a>    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-470-5" name="__codelineno-470-5" href="#__codelineno-470-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<a id="__codelineno-470-6" name="__codelineno-470-6" href="#__codelineno-470-6"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">i</span>
</code></pre></div></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-471-1" name="__codelineno-471-1" href="#__codelineno-471-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">()</span>
<a id="__codelineno-471-2" name="__codelineno-471-2" href="#__codelineno-471-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">counter</span><span class="p">(),</span> <span class="n">counter</span><span class="p">(),</span> <span class="n">counter</span><span class="p">()</span>
<a id="__codelineno-471-3" name="__codelineno-471-3" href="#__codelineno-471-3"></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<h3 id="context-manager_1">Context Manager<a class="headerlink" href="#context-manager_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>With statements only work with objects that have enter() and exit() special methods.</strong></li>
<li><strong>Enter() should lock the resources and optionally return an object.</strong></li>
<li><strong>Exit() should release the resources.</strong></li>
<li><strong>Any exception that happens inside the with block is passed to the exit() method.</strong></li>
<li><strong>The exit() method can suppress the exception by returning a true value.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-472-1" name="__codelineno-472-1" href="#__codelineno-472-1"></a><span class="k">class</span> <span class="nc">MyOpen</span><span class="p">:</span>
<a id="__codelineno-472-2" name="__codelineno-472-2" href="#__codelineno-472-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-472-3" name="__codelineno-472-3" href="#__codelineno-472-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">filename</span> <span class="o">=</span> <span class="n">filename</span>
<a id="__codelineno-472-4" name="__codelineno-472-4" href="#__codelineno-472-4"></a>    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-472-5" name="__codelineno-472-5" href="#__codelineno-472-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">file</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">filename</span><span class="p">)</span>
<a id="__codelineno-472-6" name="__codelineno-472-6" href="#__codelineno-472-6"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">file</span>
<a id="__codelineno-472-7" name="__codelineno-472-7" href="#__codelineno-472-7"></a>    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exception</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
<a id="__codelineno-472-8" name="__codelineno-472-8" href="#__codelineno-472-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">file</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-473-1" name="__codelineno-473-1" href="#__codelineno-473-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-473-2" name="__codelineno-473-2" href="#__codelineno-473-2"></a><span class="o">...</span>     <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Hello World!&#39;</span><span class="p">)</span>
<a id="__codelineno-473-3" name="__codelineno-473-3" href="#__codelineno-473-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="n">MyOpen</span><span class="p">(</span><span class="s1">&#39;test.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-473-4" name="__codelineno-473-4" href="#__codelineno-473-4"></a><span class="o">...</span>     <span class="nb">print</span><span class="p">(</span><span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<a id="__codelineno-473-5" name="__codelineno-473-5" href="#__codelineno-473-5"></a><span class="n">Hello</span> <span class="n">World</span><span class="err">!</span>
</code></pre></div>
<h2 id="iterable-duck-types_1">Iterable Duck Types<a class="headerlink" href="#iterable-duck-types_1" title="Permanent link">&para;</a></h2>
<h3 id="iterable_1">Iterable<a class="headerlink" href="#iterable_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Only required method is iter(). It should return an iterator of object's items.</strong></li>
<li><strong>Contains() automatically works on any object that has iter() defined.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-474-1" name="__codelineno-474-1" href="#__codelineno-474-1"></a><span class="k">class</span> <span class="nc">MyIterable</span><span class="p">:</span>
<a id="__codelineno-474-2" name="__codelineno-474-2" href="#__codelineno-474-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-474-3" name="__codelineno-474-3" href="#__codelineno-474-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-474-4" name="__codelineno-474-4" href="#__codelineno-474-4"></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-474-5" name="__codelineno-474-5" href="#__codelineno-474-5"></a>        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-474-6" name="__codelineno-474-6" href="#__codelineno-474-6"></a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">el</span><span class="p">):</span>
<a id="__codelineno-474-7" name="__codelineno-474-7" href="#__codelineno-474-7"></a>        <span class="k">return</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span>
</code></pre></div></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-475-1" name="__codelineno-475-1" href="#__codelineno-475-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">obj</span> <span class="o">=</span> <span class="n">MyIterable</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<a id="__codelineno-475-2" name="__codelineno-475-2" href="#__codelineno-475-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="n">el</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">obj</span><span class="p">]</span>
<a id="__codelineno-475-3" name="__codelineno-475-3" href="#__codelineno-475-3"></a><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<a id="__codelineno-475-4" name="__codelineno-475-4" href="#__codelineno-475-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span> <span class="ow">in</span> <span class="n">obj</span>
<a id="__codelineno-475-5" name="__codelineno-475-5" href="#__codelineno-475-5"></a><span class="kc">True</span>
</code></pre></div>
<h3 id="collection_1">Collection<a class="headerlink" href="#collection_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Only required methods are iter() and len(). Len() should return the number of items.</strong></li>
<li><strong>This cheatsheet actually means <code>'&lt;iterable&gt;'</code> when it uses <code>'&lt;collection&gt;'</code>.</strong></li>
<li><strong>I chose not to use the name 'iterable' because it sounds scarier and more vague than 'collection'. The only drawback of this decision is that the reader could think a certain function doesn't accept iterators when it does, since iterators are the only built-in objects that are iterable but are not collections.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-476-1" name="__codelineno-476-1" href="#__codelineno-476-1"></a><span class="k">class</span> <span class="nc">MyCollection</span><span class="p">:</span>
<a id="__codelineno-476-2" name="__codelineno-476-2" href="#__codelineno-476-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-476-3" name="__codelineno-476-3" href="#__codelineno-476-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-476-4" name="__codelineno-476-4" href="#__codelineno-476-4"></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-476-5" name="__codelineno-476-5" href="#__codelineno-476-5"></a>        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-476-6" name="__codelineno-476-6" href="#__codelineno-476-6"></a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">el</span><span class="p">):</span>
<a id="__codelineno-476-7" name="__codelineno-476-7" href="#__codelineno-476-7"></a>        <span class="k">return</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span>
<a id="__codelineno-476-8" name="__codelineno-476-8" href="#__codelineno-476-8"></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-476-9" name="__codelineno-476-9" href="#__codelineno-476-9"></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
</code></pre></div></li>
</ul>
<h3 id="sequence_1">Sequence<a class="headerlink" href="#sequence_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Only required methods are getitem() and len().</strong></li>
<li><strong>Getitem() should return an item at the passed index or raise IndexError.</strong></li>
<li><strong>Iter() and contains() automatically work on any object that has getitem() defined.</strong></li>
<li><strong>Reversed() automatically works on any object that has getitem() and len() defined.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-477-1" name="__codelineno-477-1" href="#__codelineno-477-1"></a><span class="k">class</span> <span class="nc">MySequence</span><span class="p">:</span>
<a id="__codelineno-477-2" name="__codelineno-477-2" href="#__codelineno-477-2"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-477-3" name="__codelineno-477-3" href="#__codelineno-477-3"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-477-4" name="__codelineno-477-4" href="#__codelineno-477-4"></a>    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-477-5" name="__codelineno-477-5" href="#__codelineno-477-5"></a>        <span class="k">return</span> <span class="nb">iter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-477-6" name="__codelineno-477-6" href="#__codelineno-477-6"></a>    <span class="k">def</span> <span class="fm">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">el</span><span class="p">):</span>
<a id="__codelineno-477-7" name="__codelineno-477-7" href="#__codelineno-477-7"></a>        <span class="k">return</span> <span class="n">el</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span>
<a id="__codelineno-477-8" name="__codelineno-477-8" href="#__codelineno-477-8"></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-477-9" name="__codelineno-477-9" href="#__codelineno-477-9"></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-477-10" name="__codelineno-477-10" href="#__codelineno-477-10"></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
<a id="__codelineno-477-11" name="__codelineno-477-11" href="#__codelineno-477-11"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<a id="__codelineno-477-12" name="__codelineno-477-12" href="#__codelineno-477-12"></a>    <span class="k">def</span> <span class="fm">__reversed__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-477-13" name="__codelineno-477-13" href="#__codelineno-477-13"></a>        <span class="k">return</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
</code></pre></div></li>
</ul>
<h4 id="discrepancies-between-glossary-definitions-and-abstract-base-classes_1">Discrepancies between glossary definitions and abstract base classes:<a class="headerlink" href="#discrepancies-between-glossary-definitions-and-abstract-base-classes_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>Glossary defines iterable as any object with iter() or getitem() and sequence as any object with getitem() and len(). It does not define collection.</strong></li>
<li><strong>Passing ABC Iterable to isinstance() or issubclass() checks whether object/class has method iter(), while ABC Collection checks for iter(), contains() and len().</strong></li>
</ul>
<h3 id="abc-sequence_1">ABC Sequence<a class="headerlink" href="#abc-sequence_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>It's a richer interface than the basic sequence.</strong></li>
<li><strong>Extending it generates iter(), contains(), reversed(), index() and count().</strong></li>
<li><strong>Unlike <code>'abc.Iterable'</code> and <code>'abc.Collection'</code>, it is not a duck type. That is why <code>'issubclass(MySequence, abc.Sequence)'</code> would return False even if MySequence had all the methods defined. It however recognizes list, tuple, range, str, bytes, bytearray, array, memoryview and deque, because they are registered as its virtual subclasses.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-478-1" name="__codelineno-478-1" href="#__codelineno-478-1"></a><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">abc</span>
<a id="__codelineno-478-2" name="__codelineno-478-2" href="#__codelineno-478-2"></a>
<a id="__codelineno-478-3" name="__codelineno-478-3" href="#__codelineno-478-3"></a><span class="k">class</span> <span class="nc">MyAbcSequence</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">Sequence</span><span class="p">):</span>
<a id="__codelineno-478-4" name="__codelineno-478-4" href="#__codelineno-478-4"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
<a id="__codelineno-478-5" name="__codelineno-478-5" href="#__codelineno-478-5"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>
<a id="__codelineno-478-6" name="__codelineno-478-6" href="#__codelineno-478-6"></a>    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<a id="__codelineno-478-7" name="__codelineno-478-7" href="#__codelineno-478-7"></a>        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">)</span>
<a id="__codelineno-478-8" name="__codelineno-478-8" href="#__codelineno-478-8"></a>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">i</span><span class="p">):</span>
<a id="__codelineno-478-9" name="__codelineno-478-9" href="#__codelineno-478-9"></a>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</code></pre></div></li>
</ul>
<h4 id="table-of-required-and-automatically-available-special-methods_1">Table of required and automatically available special methods:<a class="headerlink" href="#table-of-required-and-automatically-available-special-methods_1" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-479-1" name="__codelineno-479-1" href="#__codelineno-479-1"></a>+------------+------------+------------+------------+--------------+
<a id="__codelineno-479-2" name="__codelineno-479-2" href="#__codelineno-479-2"></a>|            |  Iterable  | Collection |  Sequence  | abc.Sequence |
<a id="__codelineno-479-3" name="__codelineno-479-3" href="#__codelineno-479-3"></a>+------------+------------+------------+------------+--------------+
<a id="__codelineno-479-4" name="__codelineno-479-4" href="#__codelineno-479-4"></a>| iter()     |    REQ     |    REQ     |    Yes     |     Yes      |
<a id="__codelineno-479-5" name="__codelineno-479-5" href="#__codelineno-479-5"></a>| contains() |    Yes     |    Yes     |    Yes     |     Yes      |
<a id="__codelineno-479-6" name="__codelineno-479-6" href="#__codelineno-479-6"></a>| len()      |            |    REQ     |    REQ     |     REQ      |
<a id="__codelineno-479-7" name="__codelineno-479-7" href="#__codelineno-479-7"></a>| getitem()  |            |            |    REQ     |     REQ      |
<a id="__codelineno-479-8" name="__codelineno-479-8" href="#__codelineno-479-8"></a>| reversed() |            |            |    Yes     |     Yes      |
<a id="__codelineno-479-9" name="__codelineno-479-9" href="#__codelineno-479-9"></a>| index()    |            |            |            |     Yes      |
<a id="__codelineno-479-10" name="__codelineno-479-10" href="#__codelineno-479-10"></a>| count()    |            |            |            |     Yes      |
<a id="__codelineno-479-11" name="__codelineno-479-11" href="#__codelineno-479-11"></a>+------------+------------+------------+------------+--------------+
</code></pre></div>
* <strong>Other ABCs that generate missing methods are: MutableSequence, Set, MutableSet, Mapping and MutableMapping.</strong>
* <strong>Names of their required methods are stored in <code>'&lt;abc&gt;.__abstractmethods__'</code>.</strong></p>
<h2 id="enum_1">Enum<a class="headerlink" href="#enum_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-480-1" name="__codelineno-480-1" href="#__codelineno-480-1"></a><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span><span class="p">,</span> <span class="n">auto</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-481-1" name="__codelineno-481-1" href="#__codelineno-481-1"></a><span class="k">class</span> <span class="err">&lt;</span><span class="nc">enum_name</span><span class="o">&gt;</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<a id="__codelineno-481-2" name="__codelineno-481-2" href="#__codelineno-481-2"></a>    <span class="o">&lt;</span><span class="n">member_name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
<a id="__codelineno-481-3" name="__codelineno-481-3" href="#__codelineno-481-3"></a>    <span class="o">&lt;</span><span class="n">member_name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>
<a id="__codelineno-481-4" name="__codelineno-481-4" href="#__codelineno-481-4"></a>    <span class="o">&lt;</span><span class="n">member_name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</code></pre></div>
* <strong>Function auto() returns an increment of the last numeric value or 1.</strong>
* <strong>Accessing a member named after a reserved keyword causes SyntaxError.</strong>
* <strong>Methods receive the member they were called on as the 'self' argument.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-482-1" name="__codelineno-482-1" href="#__codelineno-482-1"></a><span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;.&lt;</span><span class="n">member_name</span><span class="o">&gt;</span>           <span class="c1"># Returns a member.</span>
<a id="__codelineno-482-2" name="__codelineno-482-2" href="#__codelineno-482-2"></a><span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">[</span><span class="s1">&#39;&lt;member_name&gt;&#39;</span><span class="p">]</span>        <span class="c1"># Returns a member. Raises KeyError.</span>
<a id="__codelineno-482-3" name="__codelineno-482-3" href="#__codelineno-482-3"></a><span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Returns a member. Raises ValueError.</span>
<a id="__codelineno-482-4" name="__codelineno-482-4" href="#__codelineno-482-4"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;.</span><span class="n">name</span>                  <span class="c1"># Returns member&#39;s name.</span>
<a id="__codelineno-482-5" name="__codelineno-482-5" href="#__codelineno-482-5"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;.</span><span class="n">value</span>                 <span class="c1"># Returns member&#39;s value.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-483-1" name="__codelineno-483-1" href="#__codelineno-483-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">)</span>                   <span class="c1"># Returns enum&#39;s members.</span>
<a id="__codelineno-483-2" name="__codelineno-483-2" href="#__codelineno-483-2"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">]</span>       <span class="c1"># Returns enum&#39;s member names.</span>
<a id="__codelineno-483-3" name="__codelineno-483-3" href="#__codelineno-483-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">]</span>      <span class="c1"># Returns enum&#39;s member values.</span>
<a id="__codelineno-483-4" name="__codelineno-483-4" href="#__codelineno-483-4"></a><span class="o">&lt;</span><span class="n">member</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="n">enum</span><span class="o">&gt;</span><span class="p">))</span>    <span class="c1"># Returns a random member.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-484-1" name="__codelineno-484-1" href="#__codelineno-484-1"></a><span class="k">def</span> <span class="nf">get_next_member</span><span class="p">(</span><span class="n">member</span><span class="p">):</span>
<a id="__codelineno-484-2" name="__codelineno-484-2" href="#__codelineno-484-2"></a>    <span class="n">members</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">member</span><span class="p">))</span>
<a id="__codelineno-484-3" name="__codelineno-484-3" href="#__codelineno-484-3"></a>    <span class="n">index</span> <span class="o">=</span> <span class="n">members</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">member</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-484-4" name="__codelineno-484-4" href="#__codelineno-484-4"></a>    <span class="k">return</span> <span class="n">members</span><span class="p">[</span><span class="n">index</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">members</span><span class="p">)]</span>
</code></pre></div>
<h3 id="inline_5">Inline<a class="headerlink" href="#inline_5" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-485-1" name="__codelineno-485-1" href="#__codelineno-485-1"></a><span class="n">Cutlery</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;Cutlery&#39;</span><span class="p">,</span> <span class="s1">&#39;FORK KNIFE SPOON&#39;</span><span class="p">)</span>
<a id="__codelineno-485-2" name="__codelineno-485-2" href="#__codelineno-485-2"></a><span class="n">Cutlery</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;Cutlery&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;FORK&#39;</span><span class="p">,</span> <span class="s1">&#39;KNIFE&#39;</span><span class="p">,</span> <span class="s1">&#39;SPOON&#39;</span><span class="p">])</span>
<a id="__codelineno-485-3" name="__codelineno-485-3" href="#__codelineno-485-3"></a><span class="n">Cutlery</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;Cutlery&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;FORK&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;KNIFE&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;SPOON&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">})</span>
</code></pre></div>
<h4 id="user-defined-functions-cannot-be-values-so-they-must-be-wrapped_1">User-defined functions cannot be values, so they must be wrapped:<a class="headerlink" href="#user-defined-functions-cannot-be-values-so-they-must-be-wrapped_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-486-1" name="__codelineno-486-1" href="#__codelineno-486-1"></a><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>
<a id="__codelineno-486-2" name="__codelineno-486-2" href="#__codelineno-486-2"></a><span class="n">LogicOp</span> <span class="o">=</span> <span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;LogicOp&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;AND&#39;</span><span class="p">:</span> <span class="n">partial</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="n">l</span> <span class="ow">and</span> <span class="n">r</span><span class="p">),</span>
<a id="__codelineno-486-3" name="__codelineno-486-3" href="#__codelineno-486-3"></a>                           <span class="s1">&#39;OR&#39;</span><span class="p">:</span>  <span class="n">partial</span><span class="p">(</span><span class="k">lambda</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">:</span> <span class="n">l</span> <span class="ow">or</span> <span class="n">r</span><span class="p">)})</span>
</code></pre></div>
<h2 id="exceptions_2">Exceptions<a class="headerlink" href="#exceptions_2" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-487-1" name="__codelineno-487-1" href="#__codelineno-487-1"></a><span class="k">try</span><span class="p">:</span>
<a id="__codelineno-487-2" name="__codelineno-487-2" href="#__codelineno-487-2"></a>    <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span>
<a id="__codelineno-487-3" name="__codelineno-487-3" href="#__codelineno-487-3"></a><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-487-4" name="__codelineno-487-4" href="#__codelineno-487-4"></a>    <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span>
</code></pre></div>
<h3 id="complex-example_1">Complex Example<a class="headerlink" href="#complex-example_1" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-488-1" name="__codelineno-488-1" href="#__codelineno-488-1"></a><span class="k">try</span><span class="p">:</span>
<a id="__codelineno-488-2" name="__codelineno-488-2" href="#__codelineno-488-2"></a>    <span class="o">&lt;</span><span class="n">code_1</span><span class="o">&gt;</span>
<a id="__codelineno-488-3" name="__codelineno-488-3" href="#__codelineno-488-3"></a><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception_a</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-488-4" name="__codelineno-488-4" href="#__codelineno-488-4"></a>    <span class="o">&lt;</span><span class="n">code_2_a</span><span class="o">&gt;</span>
<a id="__codelineno-488-5" name="__codelineno-488-5" href="#__codelineno-488-5"></a><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception_b</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-488-6" name="__codelineno-488-6" href="#__codelineno-488-6"></a>    <span class="o">&lt;</span><span class="n">code_2_b</span><span class="o">&gt;</span>
<a id="__codelineno-488-7" name="__codelineno-488-7" href="#__codelineno-488-7"></a><span class="k">else</span><span class="p">:</span>
<a id="__codelineno-488-8" name="__codelineno-488-8" href="#__codelineno-488-8"></a>    <span class="o">&lt;</span><span class="n">code_2_c</span><span class="o">&gt;</span>
<a id="__codelineno-488-9" name="__codelineno-488-9" href="#__codelineno-488-9"></a><span class="k">finally</span><span class="p">:</span>
<a id="__codelineno-488-10" name="__codelineno-488-10" href="#__codelineno-488-10"></a>    <span class="o">&lt;</span><span class="n">code_3</span><span class="o">&gt;</span>
</code></pre></div>
* <strong>Code inside the <code>'else'</code> block will only be executed if <code>'try'</code> block had no exceptions.</strong>
* <strong>Code inside the <code>'finally'</code> block will always be executed (unless a signal is received).</strong>
* <strong>All variables that are initialized in executed blocks are also visible in all subsequent blocks, as well as outside the try/except clause (only function block delimits scope).</strong>
* <strong>To catch signals use <code>'signal.signal(signal_number, &lt;func&gt;)'</code>.</strong></p>
<h3 id="catching-exceptions_1">Catching Exceptions<a class="headerlink" href="#catching-exceptions_1" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-489-1" name="__codelineno-489-1" href="#__codelineno-489-1"></a><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">...</span>
<a id="__codelineno-489-2" name="__codelineno-489-2" href="#__codelineno-489-2"></a><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span> <span class="k">as</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">...</span>
<a id="__codelineno-489-3" name="__codelineno-489-3" href="#__codelineno-489-3"></a><span class="k">except</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">[</span><span class="o">...</span><span class="p">]):</span> <span class="o">...</span>
<a id="__codelineno-489-4" name="__codelineno-489-4" href="#__codelineno-489-4"></a><span class="k">except</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">[</span><span class="o">...</span><span class="p">])</span> <span class="k">as</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">...</span>
</code></pre></div>
* <strong>Also catches subclasses of the exception.</strong>
* <strong>Use <code>'traceback.print_exc()'</code> to print the error message to stderr.</strong>
* <strong>Use <code>'print(&lt;name&gt;)'</code> to print just the cause of the exception (its arguments).</strong>
* <strong>Use <code>'logging.exception(&lt;message&gt;)'</code> to log the passed message, followed by the full error message of the caught exception.</strong></p>
<h3 id="raising-exceptions_1">Raising Exceptions<a class="headerlink" href="#raising-exceptions_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-490-1" name="__codelineno-490-1" href="#__codelineno-490-1"></a><span class="k">raise</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span>
<a id="__codelineno-490-2" name="__codelineno-490-2" href="#__codelineno-490-2"></a><span class="k">raise</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">()</span>
<a id="__codelineno-490-3" name="__codelineno-490-3" href="#__codelineno-490-3"></a><span class="k">raise</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>
</code></pre></div>
<h4 id="re-raising-caught-exception_1">Re-raising caught exception:<a class="headerlink" href="#re-raising-caught-exception_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-491-1" name="__codelineno-491-1" href="#__codelineno-491-1"></a><span class="k">except</span> <span class="o">&lt;</span><span class="n">exception</span><span class="o">&gt;</span> <span class="p">[</span><span class="k">as</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">]:</span>
<a id="__codelineno-491-2" name="__codelineno-491-2" href="#__codelineno-491-2"></a>    <span class="o">...</span>
<a id="__codelineno-491-3" name="__codelineno-491-3" href="#__codelineno-491-3"></a>    <span class="k">raise</span>
</code></pre></div>
<h3 id="exception-object_1">Exception Object<a class="headerlink" href="#exception-object_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-492-1" name="__codelineno-492-1" href="#__codelineno-492-1"></a><span class="n">arguments</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">args</span>
<a id="__codelineno-492-2" name="__codelineno-492-2" href="#__codelineno-492-2"></a><span class="n">exc_type</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="vm">__class__</span>
<a id="__codelineno-492-3" name="__codelineno-492-3" href="#__codelineno-492-3"></a><span class="n">filename</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">__traceback__</span><span class="o">.</span><span class="n">tb_frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_filename</span>
<a id="__codelineno-492-4" name="__codelineno-492-4" href="#__codelineno-492-4"></a><span class="n">func_name</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">__traceback__</span><span class="o">.</span><span class="n">tb_frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_name</span>
<a id="__codelineno-492-5" name="__codelineno-492-5" href="#__codelineno-492-5"></a><span class="n">line</span>      <span class="o">=</span> <span class="n">linecache</span><span class="o">.</span><span class="n">getline</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">__traceback__</span><span class="o">.</span><span class="n">tb_lineno</span><span class="p">)</span>
<a id="__codelineno-492-6" name="__codelineno-492-6" href="#__codelineno-492-6"></a><span class="n">trace_str</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_tb</span><span class="p">(</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">__traceback__</span><span class="p">))</span>
<a id="__codelineno-492-7" name="__codelineno-492-7" href="#__codelineno-492-7"></a><span class="n">error_msg</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">traceback</span><span class="o">.</span><span class="n">format_exception</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">),</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;.</span><span class="n">__traceback__</span><span class="p">))</span>
</code></pre></div>
<h3 id="built-in-exceptions_1">Built-in Exceptions<a class="headerlink" href="#built-in-exceptions_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-493-1" name="__codelineno-493-1" href="#__codelineno-493-1"></a>BaseException
<a id="__codelineno-493-2" name="__codelineno-493-2" href="#__codelineno-493-2"></a> +-- SystemExit                   # Raised by the sys.exit() function.
<a id="__codelineno-493-3" name="__codelineno-493-3" href="#__codelineno-493-3"></a> +-- KeyboardInterrupt            # Raised when the user hits the interrupt key (ctrl-c).
<a id="__codelineno-493-4" name="__codelineno-493-4" href="#__codelineno-493-4"></a> +-- Exception                    # User-defined exceptions should be derived from this class.
<a id="__codelineno-493-5" name="__codelineno-493-5" href="#__codelineno-493-5"></a>      +-- ArithmeticError         # Base class for arithmetic errors such as ZeroDivisionError.
<a id="__codelineno-493-6" name="__codelineno-493-6" href="#__codelineno-493-6"></a>      +-- AssertionError          # Raised by `assert &lt;exp&gt;` if expression returns false value.
<a id="__codelineno-493-7" name="__codelineno-493-7" href="#__codelineno-493-7"></a>      +-- AttributeError          # Raised when object doesn&#39;t have requested attribute/method.
<a id="__codelineno-493-8" name="__codelineno-493-8" href="#__codelineno-493-8"></a>      +-- EOFError                # Raised by input() when it hits an end-of-file condition.
<a id="__codelineno-493-9" name="__codelineno-493-9" href="#__codelineno-493-9"></a>      +-- LookupError             # Base class for errors when a collection can&#39;t find an item.
<a id="__codelineno-493-10" name="__codelineno-493-10" href="#__codelineno-493-10"></a>      |    +-- IndexError         # Raised when a sequence index is out of range.
<a id="__codelineno-493-11" name="__codelineno-493-11" href="#__codelineno-493-11"></a>      |    +-- KeyError           # Raised when a dictionary key or set element is missing.
<a id="__codelineno-493-12" name="__codelineno-493-12" href="#__codelineno-493-12"></a>      +-- MemoryError             # Out of memory. Could be too late to start deleting vars.
<a id="__codelineno-493-13" name="__codelineno-493-13" href="#__codelineno-493-13"></a>      +-- NameError               # Raised when nonexistent name (variable/func/class) is used.
<a id="__codelineno-493-14" name="__codelineno-493-14" href="#__codelineno-493-14"></a>      |    +-- UnboundLocalError  # Raised when local name is used before it&#39;s being defined.
<a id="__codelineno-493-15" name="__codelineno-493-15" href="#__codelineno-493-15"></a>      +-- OSError                 # Errors such as FileExistsError/PermissionError (see #Open).
<a id="__codelineno-493-16" name="__codelineno-493-16" href="#__codelineno-493-16"></a>      |    +-- ConnectionError    # Errors such as BrokenPipeError/ConnectionAbortedError.
<a id="__codelineno-493-17" name="__codelineno-493-17" href="#__codelineno-493-17"></a>      +-- RuntimeError            # Raised by errors that don&#39;t fall into other categories.
<a id="__codelineno-493-18" name="__codelineno-493-18" href="#__codelineno-493-18"></a>      |    +-- NotImplementedEr…  # Can be raised by abstract methods or by unfinished code.
<a id="__codelineno-493-19" name="__codelineno-493-19" href="#__codelineno-493-19"></a>      |    +-- RecursionError     # Raised when the maximum recursion depth is exceeded.
<a id="__codelineno-493-20" name="__codelineno-493-20" href="#__codelineno-493-20"></a>      +-- StopIteration           # Raised by next() when run on an empty iterator.
<a id="__codelineno-493-21" name="__codelineno-493-21" href="#__codelineno-493-21"></a>      +-- TypeError               # Raised when an argument is of the wrong type.
<a id="__codelineno-493-22" name="__codelineno-493-22" href="#__codelineno-493-22"></a>      +-- ValueError              # When argument has the right type but inappropriate value.
</code></pre></div>
<h4 id="collections-and-their-exceptions_1">Collections and their exceptions:<a class="headerlink" href="#collections-and-their-exceptions_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-494-1" name="__codelineno-494-1" href="#__codelineno-494-1"></a>+-----------+------------+------------+------------+
<a id="__codelineno-494-2" name="__codelineno-494-2" href="#__codelineno-494-2"></a>|           |    List    |    Set     |    Dict    |
<a id="__codelineno-494-3" name="__codelineno-494-3" href="#__codelineno-494-3"></a>+-----------+------------+------------+------------+
<a id="__codelineno-494-4" name="__codelineno-494-4" href="#__codelineno-494-4"></a>| getitem() | IndexError |            |  KeyError  |
<a id="__codelineno-494-5" name="__codelineno-494-5" href="#__codelineno-494-5"></a>| pop()     | IndexError |  KeyError  |  KeyError  |
<a id="__codelineno-494-6" name="__codelineno-494-6" href="#__codelineno-494-6"></a>| remove()  | ValueError |  KeyError  |            |
<a id="__codelineno-494-7" name="__codelineno-494-7" href="#__codelineno-494-7"></a>| index()   | ValueError |            |            |
<a id="__codelineno-494-8" name="__codelineno-494-8" href="#__codelineno-494-8"></a>+-----------+------------+------------+------------+
</code></pre></div>
<h4 id="useful-built-in-exceptions_1">Useful built-in exceptions:<a class="headerlink" href="#useful-built-in-exceptions_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-495-1" name="__codelineno-495-1" href="#__codelineno-495-1"></a><span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span><span class="s1">&#39;Argument is of the wrong type!&#39;</span><span class="p">)</span>
<a id="__codelineno-495-2" name="__codelineno-495-2" href="#__codelineno-495-2"></a><span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;Argument has the right type but an inappropriate value!&#39;</span><span class="p">)</span>
<a id="__codelineno-495-3" name="__codelineno-495-3" href="#__codelineno-495-3"></a><span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s1">&#39;I am too lazy to define my own exception!&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="user-defined-exceptions_1">User-defined Exceptions<a class="headerlink" href="#user-defined-exceptions_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-496-1" name="__codelineno-496-1" href="#__codelineno-496-1"></a><span class="k">class</span> <span class="nc">MyError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span> <span class="k">pass</span>
<a id="__codelineno-496-2" name="__codelineno-496-2" href="#__codelineno-496-2"></a><span class="k">class</span> <span class="nc">MyInputError</span><span class="p">(</span><span class="n">MyError</span><span class="p">):</span> <span class="k">pass</span>
</code></pre></div>
<h2 id="exit_1">Exit<a class="headerlink" href="#exit_1" title="Permanent link">&para;</a></h2>
<p><strong>Exits the interpreter by raising SystemExit exception.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-497-1" name="__codelineno-497-1" href="#__codelineno-497-1"></a><span class="kn">import</span> <span class="nn">sys</span>
<a id="__codelineno-497-2" name="__codelineno-497-2" href="#__codelineno-497-2"></a><span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">()</span>                        <span class="c1"># Exits with exit code 0 (success).</span>
<a id="__codelineno-497-3" name="__codelineno-497-3" href="#__codelineno-497-3"></a><span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Prints to stderr and exits with 1.</span>
<a id="__codelineno-497-4" name="__codelineno-497-4" href="#__codelineno-497-4"></a><span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>                   <span class="c1"># Exits with the passed exit code.</span>
</code></pre></div></p>
<h2 id="print_1">Print<a class="headerlink" href="#print_1" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-498-1" name="__codelineno-498-1" href="#__codelineno-498-1"></a><span class="nb">print</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">flush</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
* <strong>Use <code>'file=sys.stderr'</code> for messages about errors.</strong>
* <strong>Use <code>'flush=True'</code> to forcibly flush the stream.</strong></p>
<h3 id="pretty-print_1">Pretty Print<a class="headerlink" href="#pretty-print_1" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-499-1" name="__codelineno-499-1" href="#__codelineno-499-1"></a><span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>
<a id="__codelineno-499-2" name="__codelineno-499-2" href="#__codelineno-499-2"></a><span class="n">pprint</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">depth</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">compact</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sort_dicts</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
* <strong>Levels deeper than 'depth' get replaced by '...'.</strong></p>
<h2 id="input_1">Input<a class="headerlink" href="#input_1" title="Permanent link">&para;</a></h2>
<p><strong>Reads a line from the user input or pipe if present.</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-500-1" name="__codelineno-500-1" href="#__codelineno-500-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="n">prompt</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
* <strong>Trailing newline gets stripped.</strong>
* <strong>Prompt string is printed to the standard output before reading input.</strong>
* <strong>Raises EOFError when user hits EOF (ctrl-d/ctrl-z⏎) or input stream gets exhausted.</strong></p>
<h2 id="command-line-arguments_1">Command Line Arguments<a class="headerlink" href="#command-line-arguments_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-501-1" name="__codelineno-501-1" href="#__codelineno-501-1"></a><span class="kn">import</span> <span class="nn">sys</span>
<a id="__codelineno-501-2" name="__codelineno-501-2" href="#__codelineno-501-2"></a><span class="n">scripts_path</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-501-3" name="__codelineno-501-3" href="#__codelineno-501-3"></a><span class="n">arguments</span>    <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
</code></pre></div>
<h3 id="argument-parser_1">Argument Parser<a class="headerlink" href="#argument-parser_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-502-1" name="__codelineno-502-1" href="#__codelineno-502-1"></a><span class="kn">from</span> <span class="nn">argparse</span> <span class="kn">import</span> <span class="n">ArgumentParser</span><span class="p">,</span> <span class="n">FileType</span>
<a id="__codelineno-502-2" name="__codelineno-502-2" href="#__codelineno-502-2"></a><span class="n">p</span> <span class="o">=</span> <span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-502-3" name="__codelineno-502-3" href="#__codelineno-502-3"></a><span class="n">p</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-&lt;short_name&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;--&lt;name&gt;&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store_true&#39;</span><span class="p">)</span>  <span class="c1"># Flag.</span>
<a id="__codelineno-502-4" name="__codelineno-502-4" href="#__codelineno-502-4"></a><span class="n">p</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-&lt;short_name&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;--&lt;name&gt;&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">)</span>          <span class="c1"># Option.</span>
<a id="__codelineno-502-5" name="__codelineno-502-5" href="#__codelineno-502-5"></a><span class="n">p</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;&lt;name&gt;&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>                    <span class="c1"># First argument.</span>
<a id="__codelineno-502-6" name="__codelineno-502-6" href="#__codelineno-502-6"></a><span class="n">p</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;&lt;name&gt;&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s1">&#39;+&#39;</span><span class="p">)</span>                  <span class="c1"># Remaining arguments.</span>
<a id="__codelineno-502-7" name="__codelineno-502-7" href="#__codelineno-502-7"></a><span class="n">p</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;&lt;name&gt;&#39;</span><span class="p">,</span> <span class="nb">type</span><span class="o">=&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">nargs</span><span class="o">=</span><span class="s1">&#39;*&#39;</span><span class="p">)</span>                  <span class="c1"># Optional arguments.</span>
<a id="__codelineno-502-8" name="__codelineno-502-8" href="#__codelineno-502-8"></a><span class="n">args</span>  <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>                                            <span class="c1"># Exits on error.</span>
<a id="__codelineno-502-9" name="__codelineno-502-9" href="#__codelineno-502-9"></a><span class="n">value</span> <span class="o">=</span> <span class="n">args</span><span class="o">.&lt;</span><span class="n">name</span><span class="o">&gt;</span>
</code></pre></div>
<ul>
<li><strong>Use <code>'help=&lt;str&gt;'</code> to set argument description that will be displayed in help message.</strong></li>
<li><strong>Use <code>'default=&lt;el&gt;'</code> to set argument's default value.</strong></li>
<li><strong>Use <code>'type=FileType(&lt;mode&gt;)'</code> for files. Accepts 'encoding', but 'newline' is None.</strong></li>
</ul>
<h2 id="open_1">Open<a class="headerlink" href="#open_1" title="Permanent link">&para;</a></h2>
<p><strong>Opens the file and returns a corresponding file object.</strong></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-503-1" name="__codelineno-503-1" href="#__codelineno-503-1"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
* <strong><code>'encoding=None'</code> means that the default encoding is used, which is platform dependent. Best practice is to use <code>'encoding="utf-8"'</code> whenever possible.</strong>
* <strong><code>'newline=None'</code> means all different end of line combinations are converted to '\n' on read, while on write all '\n' characters are converted to system's default line separator.</strong>
* <strong><code>'newline=""'</code> means no conversions take place, but input is still broken into chunks by readline() and readlines() on every '\n', '\r' and '\r\n'.</strong></p>
<h3 id="modes_2">Modes<a class="headerlink" href="#modes_2" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>'r'</code>  - Read (default).</strong></li>
<li><strong><code>'w'</code>  - Write (truncate).</strong></li>
<li><strong><code>'x'</code>  - Write or fail if the file already exists.</strong></li>
<li><strong><code>'a'</code>  - Append.</strong></li>
<li><strong><code>'w+'</code> - Read and write (truncate).</strong></li>
<li><strong><code>'r+'</code> - Read and write from the start.</strong></li>
<li><strong><code>'a+'</code> - Read and write from the end.</strong></li>
<li><strong><code>'b'</code>  - Binary mode (<code>'br'</code>, <code>'bw'</code>, <code>'bx'</code>, …).</strong></li>
</ul>
<h3 id="exceptions_3">Exceptions<a class="headerlink" href="#exceptions_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>'FileNotFoundError'</code> can be raised when reading with <code>'r'</code> or <code>'r+'</code>.</strong></li>
<li><strong><code>'FileExistsError'</code> can be raised when writing with <code>'x'</code>.</strong></li>
<li><strong><code>'IsADirectoryError'</code> and <code>'PermissionError'</code> can be raised by any.</strong></li>
<li><strong><code>'OSError'</code> is the parent class of all listed exceptions.</strong></li>
</ul>
<h3 id="file-object_1">File Object<a class="headerlink" href="#file-object_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-504-1" name="__codelineno-504-1" href="#__codelineno-504-1"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                      <span class="c1"># Moves to the start of the file.</span>
<a id="__codelineno-504-2" name="__codelineno-504-2" href="#__codelineno-504-2"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">seek</span><span class="p">(</span><span class="n">offset</span><span class="p">)</span>                 <span class="c1"># Moves &#39;offset&#39; chars/bytes from the start.</span>
<a id="__codelineno-504-3" name="__codelineno-504-3" href="#__codelineno-504-3"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">seek</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>                   <span class="c1"># Moves to the end of the file.</span>
<a id="__codelineno-504-4" name="__codelineno-504-4" href="#__codelineno-504-4"></a><span class="o">&lt;</span><span class="n">bin_file</span><span class="o">&gt;.</span><span class="n">seek</span><span class="p">(</span><span class="err">±</span><span class="n">offset</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">anchor</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Anchor: 0 start, 1 current position, 2 end.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-505-1" name="__codelineno-505-1" href="#__codelineno-505-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">read</span><span class="p">(</span><span class="n">size</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Reads &#39;size&#39; chars/bytes or until EOF.</span>
<a id="__codelineno-505-2" name="__codelineno-505-2" href="#__codelineno-505-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">readline</span><span class="p">()</span>     <span class="c1"># Returns a line or empty string/bytes on EOF.</span>
<a id="__codelineno-505-3" name="__codelineno-505-3" href="#__codelineno-505-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>      <span class="o">=</span> <span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">readlines</span><span class="p">()</span>    <span class="c1"># Returns a list of remaining lines.</span>
<a id="__codelineno-505-4" name="__codelineno-505-4" href="#__codelineno-505-4"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="p">)</span>          <span class="c1"># Returns a line using buffer. Do not mix.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-506-1" name="__codelineno-506-1" href="#__codelineno-506-1"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">write</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Writes a string or bytes object.</span>
<a id="__codelineno-506-2" name="__codelineno-506-2" href="#__codelineno-506-2"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">writelines</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Writes a coll. of strings or bytes objects.</span>
<a id="__codelineno-506-3" name="__codelineno-506-3" href="#__codelineno-506-3"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">flush</span><span class="p">()</span>                      <span class="c1"># Flushes write buffer. Runs every 4096/8192 B.</span>
<a id="__codelineno-506-4" name="__codelineno-506-4" href="#__codelineno-506-4"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">close</span><span class="p">()</span>                      <span class="c1"># Closes the file after flushing.</span>
</code></pre></div>
* <strong>Methods do not add or strip trailing newlines, not even writelines().</strong></p>
<h3 id="read-text-from-file_1">Read Text from File<a class="headerlink" href="#read-text-from-file_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-507-1" name="__codelineno-507-1" href="#__codelineno-507-1"></a><span class="k">def</span> <span class="nf">read_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-507-2" name="__codelineno-507-2" href="#__codelineno-507-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-507-3" name="__codelineno-507-3" href="#__codelineno-507-3"></a>        <span class="k">return</span> <span class="n">file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
</code></pre></div>
<h3 id="write-text-to-file_1">Write Text to File<a class="headerlink" href="#write-text-to-file_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-508-1" name="__codelineno-508-1" href="#__codelineno-508-1"></a><span class="k">def</span> <span class="nf">write_to_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">text</span><span class="p">):</span>
<a id="__codelineno-508-2" name="__codelineno-508-2" href="#__codelineno-508-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-508-3" name="__codelineno-508-3" href="#__codelineno-508-3"></a>        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</code></pre></div>
<h2 id="paths_1">Paths<a class="headerlink" href="#paths_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-509-1" name="__codelineno-509-1" href="#__codelineno-509-1"></a><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">glob</span>
<a id="__codelineno-509-2" name="__codelineno-509-2" href="#__codelineno-509-2"></a><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-510-1" name="__codelineno-510-1" href="#__codelineno-510-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>                <span class="c1"># Returns the current working directory.</span>
<a id="__codelineno-510-2" name="__codelineno-510-2" href="#__codelineno-510-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>  <span class="c1"># Joins two or more pathname components.</span>
<a id="__codelineno-510-3" name="__codelineno-510-3" href="#__codelineno-510-3"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">realpath</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>   <span class="c1"># Resolves symlinks and calls path.abspath().</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-511-1" name="__codelineno-511-1" href="#__codelineno-511-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>   <span class="c1"># Returns final component of the path.</span>
<a id="__codelineno-511-2" name="__codelineno-511-2" href="#__codelineno-511-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Returns path without the final component.</span>
<a id="__codelineno-511-3" name="__codelineno-511-3" href="#__codelineno-511-3"></a><span class="o">&lt;</span><span class="n">tup</span><span class="o">.&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>   <span class="c1"># Splits on last period of the final component.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-512-1" name="__codelineno-512-1" href="#__codelineno-512-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>       <span class="c1"># Returns filenames located at the path.</span>
<a id="__codelineno-512-2" name="__codelineno-512-2" href="#__codelineno-512-2"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;&lt;pattern&gt;&#39;</span><span class="p">)</span>     <span class="c1"># Returns paths matching the wildcard pattern.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-513-1" name="__codelineno-513-1" href="#__codelineno-513-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Or: &lt;Path&gt;.exists()</span>
<a id="__codelineno-513-2" name="__codelineno-513-2" href="#__codelineno-513-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Or: &lt;DirEntry/Path&gt;.is_file()</span>
<a id="__codelineno-513-3" name="__codelineno-513-3" href="#__codelineno-513-3"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Or: &lt;DirEntry/Path&gt;.is_dir()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-514-1" name="__codelineno-514-1" href="#__codelineno-514-1"></a><span class="o">&lt;</span><span class="n">stat</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Or: &lt;DirEntry/Path&gt;.stat()</span>
<a id="__codelineno-514-2" name="__codelineno-514-2" href="#__codelineno-514-2"></a><span class="o">&lt;</span><span class="n">real</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">stat</span><span class="o">&gt;.</span><span class="n">st_mtime</span><span class="o">/</span><span class="n">st_size</span><span class="o">/</span><span class="err">…</span>  <span class="c1"># Modification time, size in bytes, ...</span>
</code></pre></div>
<h3 id="direntry_1">DirEntry<a class="headerlink" href="#direntry_1" title="Permanent link">&para;</a></h3>
<p><strong>Unlike listdir(), scandir() returns DirEntry objects that cache isfile, isdir and on Windows also stat information, thus significantly increasing the performance of code that requires it.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-515-1" name="__codelineno-515-1" href="#__codelineno-515-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">scandir</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>       <span class="c1"># Returns DirEntry objects located at the path.</span>
<a id="__codelineno-515-2" name="__codelineno-515-2" href="#__codelineno-515-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DirEntry</span><span class="o">&gt;.</span><span class="n">path</span>            <span class="c1"># Returns the whole path as a string.</span>
<a id="__codelineno-515-3" name="__codelineno-515-3" href="#__codelineno-515-3"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DirEntry</span><span class="o">&gt;.</span><span class="n">name</span>            <span class="c1"># Returns final component as a string.</span>
<a id="__codelineno-515-4" name="__codelineno-515-4" href="#__codelineno-515-4"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="o">&lt;</span><span class="n">DirEntry</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Opens the file and returns a file object.</span>
</code></pre></div>
<h3 id="path-object_1">Path Object<a class="headerlink" href="#path-object_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-516-1" name="__codelineno-516-1" href="#__codelineno-516-1"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>       <span class="c1"># Accepts strings, Paths and DirEntry objects.</span>
<a id="__codelineno-516-2" name="__codelineno-516-2" href="#__codelineno-516-2"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="o">/</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">/</span> <span class="o">...</span><span class="p">]</span>    <span class="c1"># First or second path must be a Path object.</span>
<a id="__codelineno-516-3" name="__codelineno-516-3" href="#__codelineno-516-3"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">resolve</span><span class="p">()</span>           <span class="c1"># Returns absolute path with resolved symlinks.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-517-1" name="__codelineno-517-1" href="#__codelineno-517-1"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="p">()</span>                     <span class="c1"># Returns relative cwd. Also Path(&#39;.&#39;).</span>
<a id="__codelineno-517-2" name="__codelineno-517-2" href="#__codelineno-517-2"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">cwd</span><span class="p">()</span>                 <span class="c1"># Returns absolute cwd. Also Path().resolve().</span>
<a id="__codelineno-517-3" name="__codelineno-517-3" href="#__codelineno-517-3"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="o">.</span><span class="n">home</span><span class="p">()</span>                <span class="c1"># Returns user&#39;s home directory (absolute).</span>
<a id="__codelineno-517-4" name="__codelineno-517-4" href="#__codelineno-517-4"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">resolve</span><span class="p">()</span>   <span class="c1"># Returns script&#39;s path if cwd wasn&#39;t changed.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-518-1" name="__codelineno-518-1" href="#__codelineno-518-1"></a><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">parent</span>              <span class="c1"># Returns Path without the final component.</span>
<a id="__codelineno-518-2" name="__codelineno-518-2" href="#__codelineno-518-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">name</span>                <span class="c1"># Returns final component as a string.</span>
<a id="__codelineno-518-3" name="__codelineno-518-3" href="#__codelineno-518-3"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">stem</span>                <span class="c1"># Returns final component without extension.</span>
<a id="__codelineno-518-4" name="__codelineno-518-4" href="#__codelineno-518-4"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">suffix</span>              <span class="c1"># Returns final component&#39;s extension.</span>
<a id="__codelineno-518-5" name="__codelineno-518-5" href="#__codelineno-518-5"></a><span class="o">&lt;</span><span class="n">tup</span><span class="o">.&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">parts</span>               <span class="c1"># Returns all components as strings.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-519-1" name="__codelineno-519-1" href="#__codelineno-519-1"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">iterdir</span><span class="p">()</span>           <span class="c1"># Returns directory contents as Path objects.</span>
<a id="__codelineno-519-2" name="__codelineno-519-2" href="#__codelineno-519-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;.</span><span class="n">glob</span><span class="p">(</span><span class="s1">&#39;&lt;pattern&gt;&#39;</span><span class="p">)</span>   <span class="c1"># Returns Paths matching the wildcard pattern.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-520-1" name="__codelineno-520-1" href="#__codelineno-520-1"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Returns path as a string.</span>
<a id="__codelineno-520-2" name="__codelineno-520-2" href="#__codelineno-520-2"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span><span class="p">)</span>               <span class="c1"># Also &lt;Path&gt;.read/write_text/bytes().</span>
</code></pre></div>
<h2 id="os-commands_1">OS Commands<a class="headerlink" href="#os-commands_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-521-1" name="__codelineno-521-1" href="#__codelineno-521-1"></a><span class="kn">import</span> <span class="nn">os</span><span class="o">,</span> <span class="nn">shutil</span><span class="o">,</span> <span class="nn">subprocess</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-522-1" name="__codelineno-522-1" href="#__codelineno-522-1"></a><span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Changes the current working directory.</span>
<a id="__codelineno-522-2" name="__codelineno-522-2" href="#__codelineno-522-2"></a><span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mo">0o777</span><span class="p">)</span>        <span class="c1"># Creates a directory. Permissions are in octal.</span>
<a id="__codelineno-522-3" name="__codelineno-522-3" href="#__codelineno-522-3"></a><span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="mo">0o777</span><span class="p">)</span>     <span class="c1"># Creates all path&#39;s dirs. Also `exist_ok=False`.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-523-1" name="__codelineno-523-1" href="#__codelineno-523-1"></a><span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>               <span class="c1"># Copies the file. &#39;to&#39; can exist or be a dir.</span>
<a id="__codelineno-523-2" name="__codelineno-523-2" href="#__codelineno-523-2"></a><span class="n">shutil</span><span class="o">.</span><span class="n">copy2</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>              <span class="c1"># Also copies creation and modification time.</span>
<a id="__codelineno-523-3" name="__codelineno-523-3" href="#__codelineno-523-3"></a><span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>           <span class="c1"># Copies the directory. &#39;to&#39; must not exist.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-524-1" name="__codelineno-524-1" href="#__codelineno-524-1"></a><span class="n">os</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>                 <span class="c1"># Renames/moves the file or directory.</span>
<a id="__codelineno-524-2" name="__codelineno-524-2" href="#__codelineno-524-2"></a><span class="n">os</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>                <span class="c1"># Same, but overwrites file &#39;to&#39; even on Windows.</span>
<a id="__codelineno-524-3" name="__codelineno-524-3" href="#__codelineno-524-3"></a><span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">from</span><span class="p">,</span> <span class="n">to</span><span class="p">)</span>               <span class="c1"># Rename() that moves into &#39;to&#39; if it&#39;s a dir.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-525-1" name="__codelineno-525-1" href="#__codelineno-525-1"></a><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                   <span class="c1"># Deletes the file.</span>
<a id="__codelineno-525-2" name="__codelineno-525-2" href="#__codelineno-525-2"></a><span class="n">os</span><span class="o">.</span><span class="n">rmdir</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Deletes the empty directory.</span>
<a id="__codelineno-525-3" name="__codelineno-525-3" href="#__codelineno-525-3"></a><span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>               <span class="c1"># Deletes the directory.</span>
</code></pre></div>
* <strong>Paths can be either strings, Paths or DirEntry objects.</strong>
* <strong>Functions report OS related errors by raising either OSError or one of its <a href="#exceptions-1">subclasses</a>.</strong></p>
<h3 id="shell-commands_1">Shell Commands<a class="headerlink" href="#shell-commands_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-526-1" name="__codelineno-526-1" href="#__codelineno-526-1"></a><span class="o">&lt;</span><span class="n">pipe</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s1">&#39;&lt;command&gt;&#39;</span><span class="p">)</span>      <span class="c1"># Executes command in sh/cmd. Returns its stdout pipe.</span>
<a id="__codelineno-526-2" name="__codelineno-526-2" href="#__codelineno-526-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">pipe</span><span class="o">&gt;.</span><span class="n">read</span><span class="p">(</span><span class="n">size</span><span class="o">=-</span><span class="mi">1</span><span class="p">)</span>       <span class="c1"># Reads &#39;size&#39; chars or until EOF. Also readline/s().</span>
<a id="__codelineno-526-3" name="__codelineno-526-3" href="#__codelineno-526-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">pipe</span><span class="o">&gt;.</span><span class="n">close</span><span class="p">()</span>             <span class="c1"># Closes the pipe. Returns None on success (returncode 0).</span>
</code></pre></div>
<h4 id="sends-1-1-to-the-basic-calculator-and-captures-its-output_1">Sends '1 + 1' to the basic calculator and captures its output:<a class="headerlink" href="#sends-1-1-to-the-basic-calculator-and-captures-its-output_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-527-1" name="__codelineno-527-1" href="#__codelineno-527-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s1">&#39;bc&#39;</span><span class="p">,</span> <span class="nb">input</span><span class="o">=</span><span class="s1">&#39;1 + 1</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-527-2" name="__codelineno-527-2" href="#__codelineno-527-2"></a><span class="n">CompletedProcess</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="s1">&#39;bc&#39;</span><span class="p">,</span> <span class="n">returncode</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="s1">&#39;2</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</code></pre></div>
<h4 id="sends-testin-to-the-basic-calculator-running-in-standard-mode-and-saves-its-output-to-testout_1">Sends test.in to the basic calculator running in standard mode and saves its output to test.out:<a class="headerlink" href="#sends-testin-to-the-basic-calculator-running-in-standard-mode-and-saves-its-output-to-testout_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-528-1" name="__codelineno-528-1" href="#__codelineno-528-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">shlex</span> <span class="kn">import</span> <span class="n">split</span>
<a id="__codelineno-528-2" name="__codelineno-528-2" href="#__codelineno-528-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">os</span><span class="o">.</span><span class="n">popen</span><span class="p">(</span><span class="s1">&#39;echo 1 + 1 &gt; test.in&#39;</span><span class="p">)</span>
<a id="__codelineno-528-3" name="__codelineno-528-3" href="#__codelineno-528-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;bc -s&#39;</span><span class="p">),</span> <span class="n">stdin</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.in&#39;</span><span class="p">),</span> <span class="n">stdout</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.out&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">))</span>
<a id="__codelineno-528-4" name="__codelineno-528-4" href="#__codelineno-528-4"></a><span class="n">CompletedProcess</span><span class="p">(</span><span class="n">args</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;bc&#39;</span><span class="p">,</span> <span class="s1">&#39;-s&#39;</span><span class="p">],</span> <span class="n">returncode</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-528-5" name="__codelineno-528-5" href="#__codelineno-528-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.out&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<a id="__codelineno-528-6" name="__codelineno-528-6" href="#__codelineno-528-6"></a><span class="s1">&#39;2</span><span class="se">\n</span><span class="s1">&#39;</span>
</code></pre></div>
<h2 id="json_1">JSON<a class="headerlink" href="#json_1" title="Permanent link">&para;</a></h2>
<p><strong>Text file format for storing collections of strings and numbers.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-529-1" name="__codelineno-529-1" href="#__codelineno-529-1"></a><span class="kn">import</span> <span class="nn">json</span>
<a id="__codelineno-529-2" name="__codelineno-529-2" href="#__codelineno-529-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Converts object to JSON string.</span>
<a id="__codelineno-529-3" name="__codelineno-529-3" href="#__codelineno-529-3"></a><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># Converts JSON string to object.</span>
</code></pre></div>
<h3 id="read-object-from-json-file_1">Read Object from JSON File<a class="headerlink" href="#read-object-from-json-file_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-530-1" name="__codelineno-530-1" href="#__codelineno-530-1"></a><span class="k">def</span> <span class="nf">read_json_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-530-2" name="__codelineno-530-2" href="#__codelineno-530-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-530-3" name="__codelineno-530-3" href="#__codelineno-530-3"></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</code></pre></div>
<h3 id="write-object-to-json-file_1">Write Object to JSON File<a class="headerlink" href="#write-object-to-json-file_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-531-1" name="__codelineno-531-1" href="#__codelineno-531-1"></a><span class="k">def</span> <span class="nf">write_to_json_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">an_object</span><span class="p">):</span>
<a id="__codelineno-531-2" name="__codelineno-531-2" href="#__codelineno-531-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-531-3" name="__codelineno-531-3" href="#__codelineno-531-3"></a>        <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">an_object</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> <span class="n">ensure_ascii</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div>
<h2 id="pickle_1">Pickle<a class="headerlink" href="#pickle_1" title="Permanent link">&para;</a></h2>
<p><strong>Binary file format for storing Python objects.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-532-1" name="__codelineno-532-1" href="#__codelineno-532-1"></a><span class="kn">import</span> <span class="nn">pickle</span>
<a id="__codelineno-532-2" name="__codelineno-532-2" href="#__codelineno-532-2"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>   <span class="c1"># Converts object to bytes object.</span>
<a id="__codelineno-532-3" name="__codelineno-532-3" href="#__codelineno-532-3"></a><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Converts bytes object to object.</span>
</code></pre></div>
<h3 id="read-object-from-file_1">Read Object from File<a class="headerlink" href="#read-object-from-file_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-533-1" name="__codelineno-533-1" href="#__codelineno-533-1"></a><span class="k">def</span> <span class="nf">read_pickle_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-533-2" name="__codelineno-533-2" href="#__codelineno-533-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-533-3" name="__codelineno-533-3" href="#__codelineno-533-3"></a>        <span class="k">return</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</code></pre></div>
<h3 id="write-object-to-file_1">Write Object to File<a class="headerlink" href="#write-object-to-file_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-534-1" name="__codelineno-534-1" href="#__codelineno-534-1"></a><span class="k">def</span> <span class="nf">write_to_pickle_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">an_object</span><span class="p">):</span>
<a id="__codelineno-534-2" name="__codelineno-534-2" href="#__codelineno-534-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-534-3" name="__codelineno-534-3" href="#__codelineno-534-3"></a>        <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">an_object</span><span class="p">,</span> <span class="n">file</span><span class="p">)</span>
</code></pre></div>
<h2 id="csv_1">CSV<a class="headerlink" href="#csv_1" title="Permanent link">&para;</a></h2>
<p><strong>Text file format for storing spreadsheets.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-535-1" name="__codelineno-535-1" href="#__codelineno-535-1"></a><span class="kn">import</span> <span class="nn">csv</span>
</code></pre></div>
<h3 id="read_2">Read<a class="headerlink" href="#read_2" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-536-1" name="__codelineno-536-1" href="#__codelineno-536-1"></a><span class="o">&lt;</span><span class="n">reader</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Also: `dialect=&#39;excel&#39;, delimiter=&#39;,&#39;`.</span>
<a id="__codelineno-536-2" name="__codelineno-536-2" href="#__codelineno-536-2"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">next</span><span class="p">(</span><span class="o">&lt;</span><span class="n">reader</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Returns next row as a list of strings.</span>
<a id="__codelineno-536-3" name="__codelineno-536-3" href="#__codelineno-536-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="n">reader</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Returns a list of remaining rows.</span>
</code></pre></div>
* <strong>File must be opened with a <code>'newline=""'</code> argument, or newlines embedded inside quoted fields will not be interpreted correctly!</strong>
* <strong>To print the spreadsheet to the console use <a href="#table">Tabulate</a> library.</strong>
* <strong>For XML and binary Excel files (xlsx, xlsm and xlsb) use <a href="#dataframe-plot-encode-decode">Pandas</a> library.</strong>
* <strong>Reader accepts any iterator of strings, not just files.</strong></p>
<h3 id="write_2">Write<a class="headerlink" href="#write_2" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-537-1" name="__codelineno-537-1" href="#__codelineno-537-1"></a><span class="o">&lt;</span><span class="n">writer</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Also: `dialect=&#39;excel&#39;, delimiter=&#39;,&#39;`.</span>
<a id="__codelineno-537-2" name="__codelineno-537-2" href="#__codelineno-537-2"></a><span class="o">&lt;</span><span class="n">writer</span><span class="o">&gt;.</span><span class="n">writerow</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Encodes objects using `str(&lt;el&gt;)`.</span>
<a id="__codelineno-537-3" name="__codelineno-537-3" href="#__codelineno-537-3"></a><span class="o">&lt;</span><span class="n">writer</span><span class="o">&gt;.</span><span class="n">writerows</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_coll</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Appends multiple rows.</span>
</code></pre></div>
* <strong>File must be opened with a <code>'newline=""'</code> argument, or '\r' will be added in front of every '\n' on platforms that use '\r\n' line endings!</strong>
* <strong>Open existing file with <code>'mode="w"'</code> to overwrite it or <code>'mode="a"'</code> to append to it.</strong></p>
<h3 id="parameters_1">Parameters<a class="headerlink" href="#parameters_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>'dialect'</code> - Master parameter that sets the default values. String or a 'csv.Dialect' object.</strong></li>
<li><strong><code>'delimiter'</code> - A one-character string used to separate fields.</strong></li>
<li><strong><code>'quotechar'</code> - Character for quoting fields that contain special characters.</strong></li>
<li><strong><code>'doublequote'</code> - Whether quotechars inside fields are/get doubled or escaped.</strong></li>
<li><strong><code>'skipinitialspace'</code> - Is space character at the start of the field stripped by the reader.</strong></li>
<li><strong><code>'lineterminator'</code> - How writer terminates rows. Reader is hardcoded to '\n', '\r', '\r\n'.</strong></li>
<li><strong><code>'quoting'</code> - 0: As necessary, 1: All, 2: All but numbers which are read as floats, 3: None.</strong></li>
<li><strong><code>'escapechar'</code> - Character for escaping quotechars if 'doublequote' is False.</strong></li>
</ul>
<h3 id="dialects_1">Dialects<a class="headerlink" href="#dialects_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-538-1" name="__codelineno-538-1" href="#__codelineno-538-1"></a>+------------------+--------------+--------------+--------------+
<a id="__codelineno-538-2" name="__codelineno-538-2" href="#__codelineno-538-2"></a>|                  |     excel    |   excel-tab  |     unix     |
<a id="__codelineno-538-3" name="__codelineno-538-3" href="#__codelineno-538-3"></a>+------------------+--------------+--------------+--------------+
<a id="__codelineno-538-4" name="__codelineno-538-4" href="#__codelineno-538-4"></a>| delimiter        |       &#39;,&#39;    |      &#39;\t&#39;    |       &#39;,&#39;    |
<a id="__codelineno-538-5" name="__codelineno-538-5" href="#__codelineno-538-5"></a>| quotechar        |       &#39;&quot;&#39;    |       &#39;&quot;&#39;    |       &#39;&quot;&#39;    |
<a id="__codelineno-538-6" name="__codelineno-538-6" href="#__codelineno-538-6"></a>| doublequote      |      True    |      True    |      True    |
<a id="__codelineno-538-7" name="__codelineno-538-7" href="#__codelineno-538-7"></a>| skipinitialspace |     False    |     False    |     False    |
<a id="__codelineno-538-8" name="__codelineno-538-8" href="#__codelineno-538-8"></a>| lineterminator   |    &#39;\r\n&#39;    |    &#39;\r\n&#39;    |      &#39;\n&#39;    |
<a id="__codelineno-538-9" name="__codelineno-538-9" href="#__codelineno-538-9"></a>| quoting          |         0    |         0    |         1    |
<a id="__codelineno-538-10" name="__codelineno-538-10" href="#__codelineno-538-10"></a>| escapechar       |      None    |      None    |      None    |
<a id="__codelineno-538-11" name="__codelineno-538-11" href="#__codelineno-538-11"></a>+------------------+--------------+--------------+--------------+
</code></pre></div>
<h3 id="read-rows-from-csv-file_1">Read Rows from CSV File<a class="headerlink" href="#read-rows-from-csv-file_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-539-1" name="__codelineno-539-1" href="#__codelineno-539-1"></a><span class="k">def</span> <span class="nf">read_csv_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s1">&#39;excel&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
<a id="__codelineno-539-2" name="__codelineno-539-2" href="#__codelineno-539-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-539-3" name="__codelineno-539-3" href="#__codelineno-539-3"></a>        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">dialect</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">))</span>
</code></pre></div>
<h3 id="write-rows-to-csv-file_1">Write Rows to CSV File<a class="headerlink" href="#write-rows-to-csv-file_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-540-1" name="__codelineno-540-1" href="#__codelineno-540-1"></a><span class="k">def</span> <span class="nf">write_to_csv_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">rows</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span> <span class="n">dialect</span><span class="o">=</span><span class="s1">&#39;excel&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">):</span>
<a id="__codelineno-540-2" name="__codelineno-540-2" href="#__codelineno-540-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">mode</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-540-3" name="__codelineno-540-3" href="#__codelineno-540-3"></a>        <span class="n">writer</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">writer</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">dialect</span><span class="p">,</span> <span class="o">**</span><span class="n">params</span><span class="p">)</span>
<a id="__codelineno-540-4" name="__codelineno-540-4" href="#__codelineno-540-4"></a>        <span class="n">writer</span><span class="o">.</span><span class="n">writerows</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
</code></pre></div>
<h2 id="sqlite_1">SQLite<a class="headerlink" href="#sqlite_1" title="Permanent link">&para;</a></h2>
<p><strong>A server-less database engine that stores each database into a separate file.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-541-1" name="__codelineno-541-1" href="#__codelineno-541-1"></a><span class="kn">import</span> <span class="nn">sqlite3</span>
<a id="__codelineno-541-2" name="__codelineno-541-2" href="#__codelineno-541-2"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Opens existing or new file. Also &#39;:memory:&#39;.</span>
<a id="__codelineno-541-3" name="__codelineno-541-3" href="#__codelineno-541-3"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">close</span><span class="p">()</span>                                  <span class="c1"># Closes the connection.</span>
</code></pre></div>
<h3 id="read_3">Read<a class="headerlink" href="#read_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-542-1" name="__codelineno-542-1" href="#__codelineno-542-1"></a><span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">)</span>            <span class="c1"># Can raise a subclass of sqlite3.Error.</span>
<a id="__codelineno-542-2" name="__codelineno-542-2" href="#__codelineno-542-2"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;.</span><span class="n">fetchone</span><span class="p">()</span>                  <span class="c1"># Returns next row. Also next(&lt;cursor&gt;).</span>
<a id="__codelineno-542-3" name="__codelineno-542-3" href="#__codelineno-542-3"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;.</span><span class="n">fetchall</span><span class="p">()</span>                  <span class="c1"># Returns remaining rows. Also list(&lt;cursor&gt;).</span>
</code></pre></div>
<h3 id="write_3">Write<a class="headerlink" href="#write_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-543-1" name="__codelineno-543-1" href="#__codelineno-543-1"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">)</span>                       <span class="c1"># Can raise a subclass of sqlite3.Error.</span>
<a id="__codelineno-543-2" name="__codelineno-543-2" href="#__codelineno-543-2"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">commit</span><span class="p">()</span>                                 <span class="c1"># Saves all changes since the last commit.</span>
<a id="__codelineno-543-3" name="__codelineno-543-3" href="#__codelineno-543-3"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">rollback</span><span class="p">()</span>                               <span class="c1"># Discards all changes since the last commit.</span>
</code></pre></div>
<h4 id="or_2">Or:<a class="headerlink" href="#or_2" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-544-1" name="__codelineno-544-1" href="#__codelineno-544-1"></a><span class="k">with</span> <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span><span class="p">:</span>                                    <span class="c1"># Exits the block with commit() or rollback(),</span>
<a id="__codelineno-544-2" name="__codelineno-544-2" href="#__codelineno-544-2"></a>    <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">)</span>                   <span class="c1"># depending on whether any exception occurred.</span>
</code></pre></div>
<h3 id="placeholders_1">Placeholders<a class="headerlink" href="#placeholders_1" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-545-1" name="__codelineno-545-1" href="#__codelineno-545-1"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">list</span><span class="o">/</span><span class="nb">tuple</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Replaces &#39;?&#39;s in query with values.</span>
<a id="__codelineno-545-2" name="__codelineno-545-2" href="#__codelineno-545-2"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">dict</span><span class="o">/</span><span class="n">namedtuple</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Replaces &#39;:&lt;key&gt;&#39;s with values.</span>
<a id="__codelineno-545-3" name="__codelineno-545-3" href="#__codelineno-545-3"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">executemany</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">coll_of_above</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Runs execute() multiple times.</span>
</code></pre></div>
* <strong>Passed values can be of type str, int, float, bytes, None, bool, datetime.date or datetime.datetime.</strong>
* <strong>Bools will be stored and returned as ints and dates as <a href="#encode">ISO formatted strings</a>.</strong></p>
<h3 id="example_5">Example<a class="headerlink" href="#example_5" title="Permanent link">&para;</a></h3>
<p><strong>Values are not actually saved in this example because <code>'conn.commit()'</code> is omitted!</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-546-1" name="__codelineno-546-1" href="#__codelineno-546-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">sqlite3</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;test.db&#39;</span><span class="p">)</span>
<a id="__codelineno-546-2" name="__codelineno-546-2" href="#__codelineno-546-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;CREATE TABLE person (person_id INTEGER PRIMARY KEY, name, height)&#39;</span><span class="p">)</span>
<a id="__codelineno-546-3" name="__codelineno-546-3" href="#__codelineno-546-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;INSERT INTO person VALUES (NULL, ?, ?)&#39;</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;Jean-Luc&#39;</span><span class="p">,</span> <span class="mi">187</span><span class="p">))</span><span class="o">.</span><span class="n">lastrowid</span>
<a id="__codelineno-546-4" name="__codelineno-546-4" href="#__codelineno-546-4"></a><span class="mi">1</span>
<a id="__codelineno-546-5" name="__codelineno-546-5" href="#__codelineno-546-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s1">&#39;SELECT * FROM person&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
<a id="__codelineno-546-6" name="__codelineno-546-6" href="#__codelineno-546-6"></a><span class="p">[(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;Jean-Luc&#39;</span><span class="p">,</span> <span class="mi">187</span><span class="p">)]</span>
</code></pre></div></p>
<h3 id="sqlalchemy_1">SqlAlchemy<a class="headerlink" href="#sqlalchemy_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-547-1" name="__codelineno-547-1" href="#__codelineno-547-1"></a><span class="c1"># $ pip3 install sqlalchemy</span>
<a id="__codelineno-547-2" name="__codelineno-547-2" href="#__codelineno-547-2"></a><span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">create_engine</span><span class="p">,</span> <span class="n">text</span>
<a id="__codelineno-547-3" name="__codelineno-547-3" href="#__codelineno-547-3"></a><span class="o">&lt;</span><span class="n">engine</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="s1">&#39;&lt;url&gt;&#39;</span><span class="p">)</span>               <span class="c1"># Url: &#39;dialect://user:password@host/dbname&#39;.</span>
<a id="__codelineno-547-4" name="__codelineno-547-4" href="#__codelineno-547-4"></a><span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">engine</span><span class="o">&gt;.</span><span class="n">connect</span><span class="p">()</span>                   <span class="c1"># Creates a connection. Also &lt;conn&gt;.close().</span>
<a id="__codelineno-547-5" name="__codelineno-547-5" href="#__codelineno-547-5"></a><span class="o">&lt;</span><span class="n">cursor</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">execute</span><span class="p">(</span><span class="n">text</span><span class="p">(</span><span class="s1">&#39;&lt;query&gt;&#39;</span><span class="p">),</span> <span class="err">…</span><span class="p">)</span>   <span class="c1"># Replaces &#39;:&lt;key&gt;&#39;s with keyword arguments.</span>
<a id="__codelineno-547-6" name="__codelineno-547-6" href="#__codelineno-547-6"></a><span class="k">with</span> <span class="o">&lt;</span><span class="n">conn</span><span class="o">&gt;.</span><span class="n">begin</span><span class="p">():</span> <span class="o">...</span>                        <span class="c1"># Exits the block with commit or rollback.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-548-1" name="__codelineno-548-1" href="#__codelineno-548-1"></a>+------------+--------------+----------+----------------------------------+
<a id="__codelineno-548-2" name="__codelineno-548-2" href="#__codelineno-548-2"></a>| Dialect    | pip3 install | import   |           Dependencies           |
<a id="__codelineno-548-3" name="__codelineno-548-3" href="#__codelineno-548-3"></a>+------------+--------------+----------+----------------------------------+
<a id="__codelineno-548-4" name="__codelineno-548-4" href="#__codelineno-548-4"></a>| mysql      | mysqlclient  | MySQLdb  | www.pypi.org/project/mysqlclient |
<a id="__codelineno-548-5" name="__codelineno-548-5" href="#__codelineno-548-5"></a>| postgresql | psycopg2     | psycopg2 | www.pypi.org/project/psycopg2    |
<a id="__codelineno-548-6" name="__codelineno-548-6" href="#__codelineno-548-6"></a>| mssql      | pyodbc       | pyodbc   | www.pypi.org/project/pyodbc      |
<a id="__codelineno-548-7" name="__codelineno-548-7" href="#__codelineno-548-7"></a>| oracle     | oracledb     | oracledb | www.pypi.org/project/oracledb    |
<a id="__codelineno-548-8" name="__codelineno-548-8" href="#__codelineno-548-8"></a>+------------+--------------+----------+----------------------------------+
</code></pre></div>
<h2 id="bytes_1">Bytes<a class="headerlink" href="#bytes_1" title="Permanent link">&para;</a></h2>
<p><strong>Bytes object is an immutable sequence of single bytes. Mutable version is called bytearray.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-549-1" name="__codelineno-549-1" href="#__codelineno-549-1"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="sa">b</span><span class="s1">&#39;&lt;str&gt;&#39;</span>                          <span class="c1"># Only accepts ASCII characters and \x00-\xff.</span>
<a id="__codelineno-549-2" name="__codelineno-549-2" href="#__codelineno-549-2"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">]</span>                  <span class="c1"># Returns an int in range from 0 to 255.</span>
<a id="__codelineno-549-3" name="__codelineno-549-3" href="#__codelineno-549-3"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="nb">slice</span><span class="o">&gt;</span><span class="p">]</span>                  <span class="c1"># Returns bytes even if it has only one element.</span>
<a id="__codelineno-549-4" name="__codelineno-549-4" href="#__codelineno-549-4"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;.</span><span class="n">join</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_bytes</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Joins elements using bytes as a separator.</span>
</code></pre></div>
<h3 id="encode_3">Encode<a class="headerlink" href="#encode_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-550-1" name="__codelineno-550-1" href="#__codelineno-550-1"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_ints</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Ints must be in range from 0 to 255.</span>
<a id="__codelineno-550-2" name="__codelineno-550-2" href="#__codelineno-550-2"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>             <span class="c1"># Or: &lt;str&gt;.encode(&#39;utf-8&#39;)</span>
<a id="__codelineno-550-3" name="__codelineno-550-3" href="#__codelineno-550-3"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;.</span><span class="n">to_bytes</span><span class="p">(</span><span class="n">n_bytes</span><span class="p">,</span> <span class="err">…</span><span class="p">)</span>        <span class="c1"># `byteorder=&#39;big/little&#39;, signed=False`.</span>
<a id="__codelineno-550-4" name="__codelineno-550-4" href="#__codelineno-550-4"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="o">.</span><span class="n">fromhex</span><span class="p">(</span><span class="s1">&#39;&lt;hex&gt;&#39;</span><span class="p">)</span>            <span class="c1"># Hex pairs can be separated by whitespaces.</span>
</code></pre></div>
<h3 id="decode_3">Decode<a class="headerlink" href="#decode_3" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-551-1" name="__codelineno-551-1" href="#__codelineno-551-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>                     <span class="c1"># Returns ints in range from 0 to 255.</span>
<a id="__codelineno-551-2" name="__codelineno-551-2" href="#__codelineno-551-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>             <span class="c1"># Or: &lt;bytes&gt;.decode(&#39;utf-8&#39;)</span>
<a id="__codelineno-551-3" name="__codelineno-551-3" href="#__codelineno-551-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">,</span> <span class="err">…</span><span class="p">)</span>        <span class="c1"># `byteorder=&#39;big/little&#39;, signed=False`.</span>
<a id="__codelineno-551-4" name="__codelineno-551-4" href="#__codelineno-551-4"></a><span class="s1">&#39;&lt;hex&gt;&#39;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;.</span><span class="n">hex</span><span class="p">()</span>                     <span class="c1"># Returns hex pairs. Accepts `sep=&lt;str&gt;`.</span>
</code></pre></div>
<h3 id="read-bytes-from-file_1">Read Bytes from File<a class="headerlink" href="#read-bytes-from-file_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-552-1" name="__codelineno-552-1" href="#__codelineno-552-1"></a><span class="k">def</span> <span class="nf">read_bytes</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-552-2" name="__codelineno-552-2" href="#__codelineno-552-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-552-3" name="__codelineno-552-3" href="#__codelineno-552-3"></a>        <span class="k">return</span> <span class="n">file</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div>
<h3 id="write-bytes-to-file_1">Write Bytes to File<a class="headerlink" href="#write-bytes-to-file_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-553-1" name="__codelineno-553-1" href="#__codelineno-553-1"></a><span class="k">def</span> <span class="nf">write_bytes</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">bytes_obj</span><span class="p">):</span>
<a id="__codelineno-553-2" name="__codelineno-553-2" href="#__codelineno-553-2"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-553-3" name="__codelineno-553-3" href="#__codelineno-553-3"></a>        <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">bytes_obj</span><span class="p">)</span>
</code></pre></div>
<h2 id="struct_1">Struct<a class="headerlink" href="#struct_1" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Module that performs conversions between a sequence of numbers and a bytes object.</strong></li>
<li><strong>System’s type sizes, byte order, and alignment rules are used by default.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-554-1" name="__codelineno-554-1" href="#__codelineno-554-1"></a><span class="kn">from</span> <span class="nn">struct</span> <span class="kn">import</span> <span class="n">pack</span><span class="p">,</span> <span class="n">unpack</span>
<a id="__codelineno-554-2" name="__codelineno-554-2" href="#__codelineno-554-2"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pack</span><span class="p">(</span><span class="s1">&#39;&lt;format&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">el_1</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>  <span class="c1"># Packages arguments or raises struct.error.</span>
<a id="__codelineno-554-3" name="__codelineno-554-3" href="#__codelineno-554-3"></a><span class="o">&lt;</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">unpack</span><span class="p">(</span><span class="s1">&#39;&lt;format&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Use iter_unpack() for iterator of tuples.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-555-1" name="__codelineno-555-1" href="#__codelineno-555-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">pack</span><span class="p">(</span><span class="s1">&#39;&gt;hhl&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<a id="__codelineno-555-2" name="__codelineno-555-2" href="#__codelineno-555-2"></a><span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x00\x01\x00\x02\x00\x00\x00\x03</span><span class="s1">&#39;</span>
<a id="__codelineno-555-3" name="__codelineno-555-3" href="#__codelineno-555-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">unpack</span><span class="p">(</span><span class="s1">&#39;&gt;hhl&#39;</span><span class="p">,</span> <span class="sa">b</span><span class="s1">&#39;</span><span class="se">\x00\x01\x00\x02\x00\x00\x00\x03</span><span class="s1">&#39;</span><span class="p">)</span>
<a id="__codelineno-555-4" name="__codelineno-555-4" href="#__codelineno-555-4"></a><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</code></pre></div>
<h3 id="format_5">Format<a class="headerlink" href="#format_5" title="Permanent link">&para;</a></h3>
<h4 id="for-standard-type-sizes-and-manual-alignment-padding-start-format-string-with_1">For standard type sizes and manual alignment (padding) start format string with:<a class="headerlink" href="#for-standard-type-sizes-and-manual-alignment-padding-start-format-string-with_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong><code>'='</code> - System's byte order (usually little-endian).</strong></li>
<li><strong><code>'&lt;'</code> - Little-endian.</strong></li>
<li><strong><code>'&gt;'</code> - Big-endian (also <code>'!'</code>).</strong></li>
</ul>
<h4 id="besides-numbers-pack-and-unpack-also-support-bytes-objects-as-part-of-the-sequence_1">Besides numbers, pack() and unpack() also support bytes objects as part of the sequence:<a class="headerlink" href="#besides-numbers-pack-and-unpack-also-support-bytes-objects-as-part-of-the-sequence_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong><code>'c'</code> - A bytes object with a single element. For pad byte use <code>'x'</code>.</strong></li>
<li><strong><code>'&lt;n&gt;s'</code> - A bytes object with n elements.</strong></li>
</ul>
<h4 id="integer-types-use-a-capital-letter-for-unsigned-type-minimum-and-standard-sizes-are-in-brackets_1">Integer types. Use a capital letter for unsigned type. Minimum and standard sizes are in brackets:<a class="headerlink" href="#integer-types-use-a-capital-letter-for-unsigned-type-minimum-and-standard-sizes-are-in-brackets_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong><code>'b'</code> - char (1/1)</strong></li>
<li><strong><code>'h'</code> - short (2/2)</strong></li>
<li><strong><code>'i'</code> - int (2/4)</strong></li>
<li><strong><code>'l'</code> - long (4/4)</strong></li>
<li><strong><code>'q'</code> - long long (8/8)</strong></li>
</ul>
<h4 id="floating-point-types-struct-always-uses-standard-sizes_1">Floating point types (struct always uses standard sizes):<a class="headerlink" href="#floating-point-types-struct-always-uses-standard-sizes_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong><code>'f'</code> - float (4/4)</strong></li>
<li><strong><code>'d'</code> - double (8/8)</strong></li>
</ul>
<h2 id="array_1">Array<a class="headerlink" href="#array_1" title="Permanent link">&para;</a></h2>
<p><strong>List that can only hold numbers of a predefined type. Available types and their minimum sizes in bytes are listed above. Type sizes and byte order are always determined by the system, however bytes of each element can be swapped with byteswap() method.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-556-1" name="__codelineno-556-1" href="#__codelineno-556-1"></a><span class="kn">from</span> <span class="nn">array</span> <span class="kn">import</span> <span class="n">array</span>
<a id="__codelineno-556-2" name="__codelineno-556-2" href="#__codelineno-556-2"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s1">&#39;&lt;typecode&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Array from collection of numbers.</span>
<a id="__codelineno-556-3" name="__codelineno-556-3" href="#__codelineno-556-3"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s1">&#39;&lt;typecode&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Array from bytes object.</span>
<a id="__codelineno-556-4" name="__codelineno-556-4" href="#__codelineno-556-4"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s1">&#39;&lt;typecode&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Treats array as a sequence of numbers.</span>
<a id="__codelineno-556-5" name="__codelineno-556-5" href="#__codelineno-556-5"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;.</span><span class="n">fromfile</span><span class="p">(</span><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">n_items</span><span class="p">)</span>              <span class="c1"># Appends items. Raises EOFError on end.</span>
<a id="__codelineno-556-6" name="__codelineno-556-6" href="#__codelineno-556-6"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Or: &lt;array&gt;.tobytes()</span>
<a id="__codelineno-556-7" name="__codelineno-556-7" href="#__codelineno-556-7"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">write</span><span class="p">(</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Writes array to the binary file.</span>
</code></pre></div>
<h2 id="memory-view_1">Memory View<a class="headerlink" href="#memory-view_1" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>A sequence object that points to the memory of another bytes-like object.</strong></li>
<li><strong>Each element can reference a single or multiple consecutive bytes, depending on format.</strong></li>
<li><strong>Order and number of elements can be changed with slicing.</strong></li>
<li><strong>Casting only works between char and other types and uses system's sizes.</strong></li>
<li><strong>Byte order is always determined by the system.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-557-1" name="__codelineno-557-1" href="#__codelineno-557-1"></a><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">memoryview</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">/</span><span class="nb">bytearray</span><span class="o">/</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Immutable if bytes, else mutable.</span>
<a id="__codelineno-557-2" name="__codelineno-557-2" href="#__codelineno-557-2"></a><span class="o">&lt;</span><span class="n">real</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">]</span>                     <span class="c1"># Returns an int or a float.</span>
<a id="__codelineno-557-3" name="__codelineno-557-3" href="#__codelineno-557-3"></a><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="nb">slice</span><span class="o">&gt;</span><span class="p">]</span>                     <span class="c1"># Mview with rearranged elements.</span>
<a id="__codelineno-557-4" name="__codelineno-557-4" href="#__codelineno-557-4"></a><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;.</span><span class="n">cast</span><span class="p">(</span><span class="s1">&#39;&lt;typecode&gt;&#39;</span><span class="p">)</span>           <span class="c1"># Casts memoryview to the new format.</span>
<a id="__codelineno-557-5" name="__codelineno-557-5" href="#__codelineno-557-5"></a><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;.</span><span class="n">release</span><span class="p">()</span>                              <span class="c1"># Releases the object&#39;s memory buffer.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-558-1" name="__codelineno-558-1" href="#__codelineno-558-1"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Returns a new bytes object.</span>
<a id="__codelineno-558-2" name="__codelineno-558-2" href="#__codelineno-558-2"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;.</span><span class="n">join</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_mviews</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Joins mviews using bytes object as sep.</span>
<a id="__codelineno-558-3" name="__codelineno-558-3" href="#__codelineno-558-3"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">array</span><span class="p">(</span><span class="s1">&#39;&lt;typecode&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Treats mview as a sequence of numbers.</span>
<a id="__codelineno-558-4" name="__codelineno-558-4" href="#__codelineno-558-4"></a><span class="o">&lt;</span><span class="n">file</span><span class="o">&gt;.</span><span class="n">write</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">)</span>                          <span class="c1"># Writes mview to the binary file.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-559-1" name="__codelineno-559-1" href="#__codelineno-559-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">)</span>                        <span class="c1"># Returns a list of ints or floats.</span>
<a id="__codelineno-559-2" name="__codelineno-559-2" href="#__codelineno-559-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>                <span class="c1"># Treats mview as a bytes object.</span>
<a id="__codelineno-559-3" name="__codelineno-559-3" href="#__codelineno-559-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;</span><span class="p">,</span> <span class="err">…</span><span class="p">)</span>           <span class="c1"># `byteorder=&#39;big/little&#39;, signed=False`.</span>
<a id="__codelineno-559-4" name="__codelineno-559-4" href="#__codelineno-559-4"></a><span class="s1">&#39;&lt;hex&gt;&#39;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">mview</span><span class="o">&gt;.</span><span class="n">hex</span><span class="p">()</span>                        <span class="c1"># Treats mview as a bytes object.</span>
</code></pre></div>
<h2 id="deque_1">Deque<a class="headerlink" href="#deque_1" title="Permanent link">&para;</a></h2>
<p><strong>A thread-safe list with efficient appends and pops from either side. Pronounced "deck".</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-560-1" name="__codelineno-560-1" href="#__codelineno-560-1"></a><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">deque</span>
<a id="__codelineno-560-2" name="__codelineno-560-2" href="#__codelineno-560-2"></a><span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">deque</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>                  <span class="c1"># Also `maxlen=None`.</span>
<a id="__codelineno-560-3" name="__codelineno-560-3" href="#__codelineno-560-3"></a><span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;.</span><span class="n">appendleft</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Opposite element is dropped if full.</span>
<a id="__codelineno-560-4" name="__codelineno-560-4" href="#__codelineno-560-4"></a><span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;.</span><span class="n">extendleft</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>               <span class="c1"># Collection gets reversed.</span>
<a id="__codelineno-560-5" name="__codelineno-560-5" href="#__codelineno-560-5"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;.</span><span class="n">popleft</span><span class="p">()</span>                       <span class="c1"># Raises IndexError if empty.</span>
<a id="__codelineno-560-6" name="__codelineno-560-6" href="#__codelineno-560-6"></a><span class="o">&lt;</span><span class="n">deque</span><span class="o">&gt;.</span><span class="n">rotate</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>                            <span class="c1"># Rotates elements to the right.</span>
</code></pre></div>
<h2 id="threading_1">Threading<a class="headerlink" href="#threading_1" title="Permanent link">&para;</a></h2>
<p><strong>CPython interpreter can only run a single thread at a time. Using multiple threads won't result in a faster execution, unless at least one of the threads contains an I/O operation.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-561-1" name="__codelineno-561-1" href="#__codelineno-561-1"></a><span class="kn">from</span> <span class="nn">threading</span> <span class="kn">import</span> <span class="n">Thread</span><span class="p">,</span> <span class="n">Timer</span><span class="p">,</span> <span class="n">RLock</span><span class="p">,</span> <span class="n">Semaphore</span><span class="p">,</span> <span class="n">Event</span><span class="p">,</span> <span class="n">Barrier</span>
<a id="__codelineno-561-2" name="__codelineno-561-2" href="#__codelineno-561-2"></a><span class="kn">from</span> <span class="nn">concurrent.futures</span> <span class="kn">import</span> <span class="n">ThreadPoolExecutor</span><span class="p">,</span> <span class="n">as_completed</span>
</code></pre></div></p>
<h3 id="thread_1">Thread<a class="headerlink" href="#thread_1" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-562-1" name="__codelineno-562-1" href="#__codelineno-562-1"></a><span class="o">&lt;</span><span class="n">Thread</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=&lt;</span><span class="n">function</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Use `args=&lt;collection&gt;` to set the arguments.</span>
<a id="__codelineno-562-2" name="__codelineno-562-2" href="#__codelineno-562-2"></a><span class="o">&lt;</span><span class="n">Thread</span><span class="o">&gt;.</span><span class="n">start</span><span class="p">()</span>                               <span class="c1"># Starts the thread.</span>
<a id="__codelineno-562-3" name="__codelineno-562-3" href="#__codelineno-562-3"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Thread</span><span class="o">&gt;.</span><span class="n">is_alive</span><span class="p">()</span>                   <span class="c1"># Checks if the thread has finished executing.</span>
<a id="__codelineno-562-4" name="__codelineno-562-4" href="#__codelineno-562-4"></a><span class="o">&lt;</span><span class="n">Thread</span><span class="o">&gt;.</span><span class="n">join</span><span class="p">()</span>                                <span class="c1"># Waits for the thread to finish.</span>
</code></pre></div>
* <strong>Use <code>'kwargs=&lt;dict&gt;'</code> to pass keyword arguments to the function.</strong>
* <strong>Use <code>'daemon=True'</code>, or the program will not be able to exit while the thread is alive.</strong>
* <strong>To delay thread execution use <code>'Timer(seconds, &lt;func&gt;)'</code> instead of Thread().</strong></p>
<h3 id="lock_1">Lock<a class="headerlink" href="#lock_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-563-1" name="__codelineno-563-1" href="#__codelineno-563-1"></a><span class="o">&lt;</span><span class="n">lock</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">RLock</span><span class="p">()</span>                               <span class="c1"># Lock that can only be released by acquirer.</span>
<a id="__codelineno-563-2" name="__codelineno-563-2" href="#__codelineno-563-2"></a><span class="o">&lt;</span><span class="n">lock</span><span class="o">&gt;.</span><span class="n">acquire</span><span class="p">()</span>                               <span class="c1"># Waits for the lock to be available.</span>
<a id="__codelineno-563-3" name="__codelineno-563-3" href="#__codelineno-563-3"></a><span class="o">&lt;</span><span class="n">lock</span><span class="o">&gt;.</span><span class="n">release</span><span class="p">()</span>                               <span class="c1"># Makes the lock available again.</span>
</code></pre></div>
<h4 id="or_3">Or:<a class="headerlink" href="#or_3" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-564-1" name="__codelineno-564-1" href="#__codelineno-564-1"></a><span class="k">with</span> <span class="o">&lt;</span><span class="n">lock</span><span class="o">&gt;</span><span class="p">:</span>                                   <span class="c1"># Enters the block by calling acquire() and</span>
<a id="__codelineno-564-2" name="__codelineno-564-2" href="#__codelineno-564-2"></a>    <span class="o">...</span>                                        <span class="c1"># exits it with release(), even on error.</span>
</code></pre></div>
<h3 id="semaphore-event-barrier_1">Semaphore, Event, Barrier<a class="headerlink" href="#semaphore-event-barrier_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-565-1" name="__codelineno-565-1" href="#__codelineno-565-1"></a><span class="o">&lt;</span><span class="n">Semaphore</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Semaphore</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>               <span class="c1"># Lock that can be acquired by &#39;value&#39; threads.</span>
<a id="__codelineno-565-2" name="__codelineno-565-2" href="#__codelineno-565-2"></a><span class="o">&lt;</span><span class="n">Event</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="n">Event</span><span class="p">()</span>                          <span class="c1"># Method wait() blocks until set() is called.</span>
<a id="__codelineno-565-3" name="__codelineno-565-3" href="#__codelineno-565-3"></a><span class="o">&lt;</span><span class="n">Barrier</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="n">Barrier</span><span class="p">(</span><span class="n">n_times</span><span class="p">)</span>                 <span class="c1"># Wait() blocks until it&#39;s called n_times.</span>
</code></pre></div>
<h3 id="queue_1">Queue<a class="headerlink" href="#queue_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-566-1" name="__codelineno-566-1" href="#__codelineno-566-1"></a><span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="n">Queue</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>               <span class="c1"># A thread-safe first-in-first-out queue.</span>
<a id="__codelineno-566-2" name="__codelineno-566-2" href="#__codelineno-566-2"></a><span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;.</span><span class="n">put</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                              <span class="c1"># Blocks until queue stops being full.</span>
<a id="__codelineno-566-3" name="__codelineno-566-3" href="#__codelineno-566-3"></a><span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;.</span><span class="n">put_nowait</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Raises queue.Full exception if full.</span>
<a id="__codelineno-566-4" name="__codelineno-566-4" href="#__codelineno-566-4"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;.</span><span class="n">get</span><span class="p">()</span>                           <span class="c1"># Blocks until queue stops being empty.</span>
<a id="__codelineno-566-5" name="__codelineno-566-5" href="#__codelineno-566-5"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Queue</span><span class="o">&gt;.</span><span class="n">get_nowait</span><span class="p">()</span>                    <span class="c1"># Raises queue.Empty exception if empty.</span>
</code></pre></div>
<h3 id="thread-pool-executor_1">Thread Pool Executor<a class="headerlink" href="#thread-pool-executor_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-567-1" name="__codelineno-567-1" href="#__codelineno-567-1"></a><span class="o">&lt;</span><span class="n">Exec</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ThreadPoolExecutor</span><span class="p">(</span><span class="n">max_workers</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># Or: `with ThreadPoolExecutor() as &lt;name&gt;: ...`</span>
<a id="__codelineno-567-2" name="__codelineno-567-2" href="#__codelineno-567-2"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Exec</span><span class="o">&gt;.</span><span class="n">map</span><span class="p">(</span><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">args_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>     <span class="c1"># Multithreaded and non-lazy map(). Keeps order.</span>
<a id="__codelineno-567-3" name="__codelineno-567-3" href="#__codelineno-567-3"></a><span class="o">&lt;</span><span class="n">Futr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Exec</span><span class="o">&gt;.</span><span class="n">submit</span><span class="p">(</span><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">arg_1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>   <span class="c1"># Creates a thread and returns its Future obj.</span>
<a id="__codelineno-567-4" name="__codelineno-567-4" href="#__codelineno-567-4"></a><span class="o">&lt;</span><span class="n">Exec</span><span class="o">&gt;.</span><span class="n">shutdown</span><span class="p">()</span>                              <span class="c1"># Blocks until all threads finish executing.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-568-1" name="__codelineno-568-1" href="#__codelineno-568-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Future</span><span class="o">&gt;.</span><span class="n">done</span><span class="p">()</span>                       <span class="c1"># Checks if the thread has finished executing.</span>
<a id="__codelineno-568-2" name="__codelineno-568-2" href="#__codelineno-568-2"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Future</span><span class="o">&gt;.</span><span class="n">result</span><span class="p">(</span><span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>         <span class="c1"># Waits for thread to finish and returns result.</span>
<a id="__codelineno-568-3" name="__codelineno-568-3" href="#__codelineno-568-3"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Future</span><span class="o">&gt;.</span><span class="n">cancel</span><span class="p">()</span>                     <span class="c1"># Cancels or returns False if running/finished.</span>
<a id="__codelineno-568-4" name="__codelineno-568-4" href="#__codelineno-568-4"></a><span class="o">&lt;</span><span class="nb">iter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">as_completed</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_Futures</span><span class="o">&gt;</span><span class="p">)</span>       <span class="c1"># Next() waits for next completed Future.</span>
</code></pre></div>
* <strong>Map() and as_completed() also accept 'timeout' argument that causes TimeoutError if result isn't available in 'timeout' seconds after next() is called.</strong>
* <strong>Exceptions that happen inside threads are raised when next() is called on map's iterator or when result() is called on a Future. Its exception() method returns exception or None.</strong>
* <strong>ProcessPoolExecutor provides true parallelism, but everything sent to/from workers must be <a href="#pickle">pickable</a>. Queues must be sent using executor's 'initargs' and 'initializer' parameters.</strong></p>
<h2 id="operator_1">Operator<a class="headerlink" href="#operator_1" title="Permanent link">&para;</a></h2>
<p><strong>Module of functions that provide the functionality of operators. Functions are ordered by operator precedence, starting with least binding.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-569-1" name="__codelineno-569-1" href="#__codelineno-569-1"></a><span class="kn">import</span> <span class="nn">operator</span> <span class="k">as</span> <span class="nn">op</span>
<a id="__codelineno-569-2" name="__codelineno-569-2" href="#__codelineno-569-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">not_</span><span class="p">(</span><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">)</span>                                         <span class="c1"># or, and, not (or/and missing)</span>
<a id="__codelineno-569-3" name="__codelineno-569-3" href="#__codelineno-569-3"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">eq</span><span class="o">/</span><span class="n">ne</span><span class="o">/</span><span class="n">lt</span><span class="o">/</span><span class="n">le</span><span class="o">/</span><span class="n">gt</span><span class="o">/</span><span class="n">ge</span><span class="o">/</span><span class="n">contains</span><span class="o">/</span><span class="n">is_</span><span class="p">(</span><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># ==, !=, &lt;, &lt;=, &gt;, &gt;=, in, is</span>
<a id="__codelineno-569-4" name="__codelineno-569-4" href="#__codelineno-569-4"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">or_</span><span class="o">/</span><span class="n">xor</span><span class="o">/</span><span class="n">and_</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">set</span><span class="o">&gt;</span><span class="p">)</span>                  <span class="c1"># |, ^, &amp;</span>
<a id="__codelineno-569-5" name="__codelineno-569-5" href="#__codelineno-569-5"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">lshift</span><span class="o">/</span><span class="n">rshift</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>                         <span class="c1"># &lt;&lt;, &gt;&gt;</span>
<a id="__codelineno-569-6" name="__codelineno-569-6" href="#__codelineno-569-6"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">add</span><span class="o">/</span><span class="n">sub</span><span class="o">/</span><span class="n">mul</span><span class="o">/</span><span class="n">truediv</span><span class="o">/</span><span class="n">floordiv</span><span class="o">/</span><span class="n">mod</span><span class="p">(</span><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># +, -, *, /, //, %</span>
<a id="__codelineno-569-7" name="__codelineno-569-7" href="#__codelineno-569-7"></a><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">neg</span><span class="o">/</span><span class="n">invert</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)</span>                                   <span class="c1"># -, ~</span>
<a id="__codelineno-569-8" name="__codelineno-569-8" href="#__codelineno-569-8"></a><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)</span>                                   <span class="c1"># **</span>
<a id="__codelineno-569-9" name="__codelineno-569-9" href="#__codelineno-569-9"></a><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">itemgetter</span><span class="o">/</span><span class="n">attrgetter</span><span class="o">/</span><span class="n">methodcaller</span><span class="p">(</span><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">...</span><span class="p">])</span>   <span class="c1"># [index/key], .name, .name()</span>
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-570-1" name="__codelineno-570-1" href="#__codelineno-570-1"></a><span class="n">elementwise_sum</span>  <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="n">op</span><span class="o">.</span><span class="n">add</span><span class="p">,</span> <span class="n">list_a</span><span class="p">,</span> <span class="n">list_b</span><span class="p">)</span>
<a id="__codelineno-570-2" name="__codelineno-570-2" href="#__codelineno-570-2"></a><span class="n">sorted_by_second</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">op</span><span class="o">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-570-3" name="__codelineno-570-3" href="#__codelineno-570-3"></a><span class="n">sorted_by_both</span>   <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">op</span><span class="o">.</span><span class="n">itemgetter</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<a id="__codelineno-570-4" name="__codelineno-570-4" href="#__codelineno-570-4"></a><span class="n">product_of_elems</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">reduce</span><span class="p">(</span><span class="n">op</span><span class="o">.</span><span class="n">mul</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">collection</span><span class="o">&gt;</span><span class="p">)</span>
<a id="__codelineno-570-5" name="__codelineno-570-5" href="#__codelineno-570-5"></a><span class="n">first_element</span>    <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">methodcaller</span><span class="p">(</span><span class="s1">&#39;pop&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">)</span>
</code></pre></div>
* <strong>Bitwise operators require objects to have or(), xor(), and(), lshift(), rshift() and invert() special methods, unlike logical operators that work on all types of objects.</strong>
* <strong>Also: <code>'&lt;bool&gt; = &lt;bool&gt; &amp;|^ &lt;bool&gt;'</code> and <code>'&lt;int&gt; = &lt;bool&gt; &amp;|^ &lt;int&gt;'</code>.</strong></p>
<h2 id="match-statement_1">Match Statement<a class="headerlink" href="#match-statement_1" title="Permanent link">&para;</a></h2>
<p><strong>Executes the first block with matching pattern. Added in Python 3.10.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-571-1" name="__codelineno-571-1" href="#__codelineno-571-1"></a><span class="k">match</span> <span class="o">&lt;</span><span class="nb">object</span><span class="o">/</span><span class="n">expression</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-571-2" name="__codelineno-571-2" href="#__codelineno-571-2"></a>    <span class="k">case</span> <span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span> <span class="p">[</span><span class="k">if</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">]:</span>
<a id="__codelineno-571-3" name="__codelineno-571-3" href="#__codelineno-571-3"></a>        <span class="o">&lt;</span><span class="n">code</span><span class="o">&gt;</span>
<a id="__codelineno-571-4" name="__codelineno-571-4" href="#__codelineno-571-4"></a>    <span class="o">...</span>
</code></pre></div>
<h3 id="patterns_1">Patterns<a class="headerlink" href="#patterns_1" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-572-1" name="__codelineno-572-1" href="#__codelineno-572-1"></a><span class="o">&lt;</span><span class="n">value_pattern</span><span class="o">&gt;</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="s1">&#39;abc&#39;</span><span class="o">/</span><span class="kc">True</span><span class="o">/</span><span class="kc">None</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span>          <span class="c1"># Matches the literal or a dotted name.</span>
<a id="__codelineno-572-2" name="__codelineno-572-2" href="#__codelineno-572-2"></a><span class="o">&lt;</span><span class="n">class_pattern</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">()</span>                           <span class="c1"># Matches any object of that type.</span>
<a id="__codelineno-572-3" name="__codelineno-572-3" href="#__codelineno-572-3"></a><span class="o">&lt;</span><span class="n">wildcard_patt</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">_</span>                                  <span class="c1"># Matches any object.</span>
<a id="__codelineno-572-4" name="__codelineno-572-4" href="#__codelineno-572-4"></a><span class="o">&lt;</span><span class="n">capture_patt</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>                             <span class="c1"># Matches any object and binds it to name.</span>
<a id="__codelineno-572-5" name="__codelineno-572-5" href="#__codelineno-572-5"></a><span class="o">&lt;</span><span class="n">or_pattern</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">|</span> <span class="o">...</span><span class="p">]</span>      <span class="c1"># Matches any of the patterns.</span>
<a id="__codelineno-572-6" name="__codelineno-572-6" href="#__codelineno-572-6"></a><span class="o">&lt;</span><span class="n">as_pattern</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span> <span class="k">as</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>                <span class="c1"># Binds the match to the name.</span>
<a id="__codelineno-572-7" name="__codelineno-572-7" href="#__codelineno-572-7"></a><span class="o">&lt;</span><span class="n">sequence_patt</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>                   <span class="c1"># Matches sequence with matching items.</span>
<a id="__codelineno-572-8" name="__codelineno-572-8" href="#__codelineno-572-8"></a><span class="o">&lt;</span><span class="n">mapping_patt</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">value_pattern</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">pattern</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">}</span>  <span class="c1"># Matches dictionary with matching items.</span>
<a id="__codelineno-572-9" name="__codelineno-572-9" href="#__codelineno-572-9"></a><span class="o">&lt;</span><span class="n">class_pattern</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">attr_name</span><span class="o">&gt;=&lt;</span><span class="n">patt</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>    <span class="c1"># Matches object with matching attributes.</span>
</code></pre></div>
* <strong>Sequence pattern can also be written as a tuple.</strong>
* <strong>Use <code>'*&lt;name&gt;'</code> and <code>'**&lt;name&gt;'</code> in sequence/mapping patterns to bind remaining items.</strong>
* <strong>Sequence pattern must match all items, while mapping pattern does not.</strong>
* <strong>Patterns can be surrounded with brackets to override precedence (<code>'|'</code> &gt; <code>'as'</code> &gt; <code>','</code>).</strong>
* <strong>Built-in types allow a single positional pattern that is matched against the entire object.</strong>
* <strong>All names that are bound in the matching case, as well as variables initialized in its block, are visible after the match statement.</strong></p>
<h3 id="example_6">Example<a class="headerlink" href="#example_6" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-573-1" name="__codelineno-573-1" href="#__codelineno-573-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<a id="__codelineno-573-2" name="__codelineno-573-2" href="#__codelineno-573-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">match</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;/home/gto/python-cheatsheet/README.md&#39;</span><span class="p">):</span>
<a id="__codelineno-573-3" name="__codelineno-573-3" href="#__codelineno-573-3"></a><span class="o">...</span>     <span class="n">case</span> <span class="n">Path</span><span class="p">(</span>
<a id="__codelineno-573-4" name="__codelineno-573-4" href="#__codelineno-573-4"></a><span class="o">...</span>         <span class="n">parts</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;home&#39;</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span><span class="p">],</span>
<a id="__codelineno-573-5" name="__codelineno-573-5" href="#__codelineno-573-5"></a><span class="o">...</span>         <span class="n">stem</span><span class="o">=</span><span class="n">stem</span><span class="p">,</span>
<a id="__codelineno-573-6" name="__codelineno-573-6" href="#__codelineno-573-6"></a><span class="o">...</span>         <span class="n">suffix</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;.md&#39;</span> <span class="o">|</span> <span class="s1">&#39;.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">suffix</span>
<a id="__codelineno-573-7" name="__codelineno-573-7" href="#__codelineno-573-7"></a><span class="o">...</span>     <span class="p">)</span> <span class="k">if</span> <span class="n">stem</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;readme&#39;</span><span class="p">:</span>
<a id="__codelineno-573-8" name="__codelineno-573-8" href="#__codelineno-573-8"></a><span class="o">...</span>         <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">stem</span><span class="si">}{</span><span class="n">suffix</span><span class="si">}</span><span class="s1"> is a readme file that belongs to user </span><span class="si">{</span><span class="n">user</span><span class="si">}</span><span class="s1">.&#39;</span><span class="p">)</span>
<a id="__codelineno-573-9" name="__codelineno-573-9" href="#__codelineno-573-9"></a><span class="s1">&#39;README.md is a readme file that belongs to user gto.&#39;</span>
</code></pre></div>
<h2 id="logging_1">Logging<a class="headerlink" href="#logging_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-574-1" name="__codelineno-574-1" href="#__codelineno-574-1"></a><span class="kn">import</span> <span class="nn">logging</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-575-1" name="__codelineno-575-1" href="#__codelineno-575-1"></a><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">filename</span><span class="o">=&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">)</span>  <span class="c1"># Configures the root logger (see Setup).</span>
<a id="__codelineno-575-2" name="__codelineno-575-2" href="#__codelineno-575-2"></a><span class="n">logging</span><span class="o">.</span><span class="n">debug</span><span class="o">/</span><span class="n">info</span><span class="o">/</span><span class="n">warning</span><span class="o">/</span><span class="n">error</span><span class="o">/</span><span class="n">critical</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Logs to the root logger.</span>
<a id="__codelineno-575-3" name="__codelineno-575-3" href="#__codelineno-575-3"></a><span class="o">&lt;</span><span class="n">Logger</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>               <span class="c1"># Logger named after the module.</span>
<a id="__codelineno-575-4" name="__codelineno-575-4" href="#__codelineno-575-4"></a><span class="o">&lt;</span><span class="n">Logger</span><span class="o">&gt;.&lt;</span><span class="n">level</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>                              <span class="c1"># Logs to the logger.</span>
<a id="__codelineno-575-5" name="__codelineno-575-5" href="#__codelineno-575-5"></a><span class="o">&lt;</span><span class="n">Logger</span><span class="o">&gt;.</span><span class="n">exception</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>                            <span class="c1"># Calls error() with caught exception.</span>
</code></pre></div>
<h3 id="setup_1">Setup<a class="headerlink" href="#setup_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-576-1" name="__codelineno-576-1" href="#__codelineno-576-1"></a><span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span>
<a id="__codelineno-576-2" name="__codelineno-576-2" href="#__codelineno-576-2"></a>    <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>                                   <span class="c1"># Logs to console (stderr) by default.</span>
<a id="__codelineno-576-3" name="__codelineno-576-3" href="#__codelineno-576-3"></a>    <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(levelname)s</span><span class="s1">:</span><span class="si">%(name)s</span><span class="s1">:</span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">,</span>     <span class="c1"># Add &#39;%(asctime)s&#39; for local datetime.</span>
<a id="__codelineno-576-4" name="__codelineno-576-4" href="#__codelineno-576-4"></a>    <span class="n">level</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">WARNING</span><span class="p">,</span>                           <span class="c1"># Drops messages with lower priority.</span>
<a id="__codelineno-576-5" name="__codelineno-576-5" href="#__codelineno-576-5"></a>    <span class="n">handlers</span><span class="o">=</span><span class="p">[</span><span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)]</span>     <span class="c1"># Uses FileHandler if filename is set.</span>
<a id="__codelineno-576-6" name="__codelineno-576-6" href="#__codelineno-576-6"></a><span class="p">)</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-577-1" name="__codelineno-577-1" href="#__codelineno-577-1"></a><span class="o">&lt;</span><span class="n">Formatter</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s1">&#39;&lt;format&gt;&#39;</span><span class="p">)</span>          <span class="c1"># Creates a Formatter.</span>
<a id="__codelineno-577-2" name="__codelineno-577-2" href="#__codelineno-577-2"></a><span class="o">&lt;</span><span class="n">Handler</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>    <span class="c1"># Creates a Handler. Also `encoding=None`.</span>
<a id="__codelineno-577-3" name="__codelineno-577-3" href="#__codelineno-577-3"></a><span class="o">&lt;</span><span class="n">Handler</span><span class="o">&gt;.</span><span class="n">setFormatter</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Formatter</span><span class="o">&gt;</span><span class="p">)</span>                  <span class="c1"># Adds Formatter to the Handler.</span>
<a id="__codelineno-577-4" name="__codelineno-577-4" href="#__codelineno-577-4"></a><span class="o">&lt;</span><span class="n">Handler</span><span class="o">&gt;.</span><span class="n">setLevel</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>                        <span class="c1"># Processes all messages by default.</span>
<a id="__codelineno-577-5" name="__codelineno-577-5" href="#__codelineno-577-5"></a><span class="o">&lt;</span><span class="n">Logger</span><span class="o">&gt;.</span><span class="n">addHandler</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Handler</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Adds Handler to the Logger.</span>
<a id="__codelineno-577-6" name="__codelineno-577-6" href="#__codelineno-577-6"></a><span class="o">&lt;</span><span class="n">Logger</span><span class="o">&gt;.</span><span class="n">setLevel</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>                         <span class="c1"># What is sent to its/ancestor&#39;s handlers.</span>
</code></pre></div>
* <strong>Parent logger can be specified by naming the child logger <code>'&lt;parent&gt;.&lt;name&gt;'</code>.</strong>
* <strong>If logger doesn't have a set level it inherits it from the first ancestor that does.</strong>
* <strong>Formatter also accepts: pathname, filename, funcName, lineno, thread and process.</strong>
* <strong>A <code>'handlers.RotatingFileHandler'</code> creates and deletes log files based on 'maxBytes' and 'backupCount' arguments.</strong></p>
<h4 id="creates-a-logger-that-writes-all-messages-to-file-and-sends-them-to-the-roots-handler-that-prints-warnings-or-higher_1">Creates a logger that writes all messages to file and sends them to the root's handler that prints warnings or higher:<a class="headerlink" href="#creates-a-logger-that-writes-all-messages-to-file-and-sends-them-to-the-roots-handler-that-prints-warnings-or-higher_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-578-1" name="__codelineno-578-1" href="#__codelineno-578-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;my_module&#39;</span><span class="p">)</span>
<a id="__codelineno-578-2" name="__codelineno-578-2" href="#__codelineno-578-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="s1">&#39;test.log&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<a id="__codelineno-578-3" name="__codelineno-578-3" href="#__codelineno-578-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">formatter</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%(asctime)s</span><span class="s1"> </span><span class="si">%(levelname)s</span><span class="s1">:</span><span class="si">%(name)s</span><span class="s1">:</span><span class="si">%(message)s</span><span class="s1">&#39;</span><span class="p">)</span>
<a id="__codelineno-578-4" name="__codelineno-578-4" href="#__codelineno-578-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">formatter</span><span class="p">)</span>
<a id="__codelineno-578-5" name="__codelineno-578-5" href="#__codelineno-578-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
<a id="__codelineno-578-6" name="__codelineno-578-6" href="#__codelineno-578-6"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">logging</span><span class="o">.</span><span class="n">basicConfig</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">)</span>
<a id="__codelineno-578-7" name="__codelineno-578-7" href="#__codelineno-578-7"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">logging</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">handlers</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="s1">&#39;WARNING&#39;</span><span class="p">)</span>
<a id="__codelineno-578-8" name="__codelineno-578-8" href="#__codelineno-578-8"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="s1">&#39;Running out of disk space.&#39;</span><span class="p">)</span>
<a id="__codelineno-578-9" name="__codelineno-578-9" href="#__codelineno-578-9"></a><span class="n">CRITICAL</span><span class="p">:</span><span class="n">my_module</span><span class="p">:</span><span class="n">Running</span> <span class="n">out</span> <span class="n">of</span> <span class="n">disk</span> <span class="n">space</span><span class="o">.</span>
<a id="__codelineno-578-10" name="__codelineno-578-10" href="#__codelineno-578-10"></a><span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.log&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<a id="__codelineno-578-11" name="__codelineno-578-11" href="#__codelineno-578-11"></a><span class="mi">2023</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">07</span> <span class="mi">23</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">01</span><span class="p">,</span><span class="mi">430</span> <span class="n">CRITICAL</span><span class="p">:</span><span class="n">my_module</span><span class="p">:</span><span class="n">Running</span> <span class="n">out</span> <span class="n">of</span> <span class="n">disk</span> <span class="n">space</span><span class="o">.</span>
</code></pre></div>
<h2 id="introspection_1">Introspection<a class="headerlink" href="#introspection_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-579-1" name="__codelineno-579-1" href="#__codelineno-579-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dir</span><span class="p">()</span>                             <span class="c1"># Names of local variables, functions, classes, etc.</span>
<a id="__codelineno-579-2" name="__codelineno-579-2" href="#__codelineno-579-2"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">()</span>                            <span class="c1"># Dict of local variables, etc. Also locals().</span>
<a id="__codelineno-579-3" name="__codelineno-579-3" href="#__codelineno-579-3"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">globals</span><span class="p">()</span>                         <span class="c1"># Dict of global vars, etc. (incl. &#39;__builtins__&#39;).</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-580-1" name="__codelineno-580-1" href="#__codelineno-580-1"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">dir</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>                     <span class="c1"># Names of object&#39;s attributes (including methods).</span>
<a id="__codelineno-580-2" name="__codelineno-580-2" href="#__codelineno-580-2"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">vars</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Dict of writable attributes. Also &lt;obj&gt;.__dict__.</span>
<a id="__codelineno-580-3" name="__codelineno-580-3" href="#__codelineno-580-3"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="nb">hasattr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;&lt;attr_name&gt;&#39;</span><span class="p">)</span>  <span class="c1"># Checks if getattr() raises an AttributeError.</span>
<a id="__codelineno-580-4" name="__codelineno-580-4" href="#__codelineno-580-4"></a><span class="n">value</span>  <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;&lt;attr_name&gt;&#39;</span><span class="p">)</span>  <span class="c1"># Raises AttributeError if attribute is missing.</span>
<a id="__codelineno-580-5" name="__codelineno-580-5" href="#__codelineno-580-5"></a><span class="nb">setattr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;&lt;attr_name&gt;&#39;</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>    <span class="c1"># Only works on objects with &#39;__dict__&#39; attribute.</span>
<a id="__codelineno-580-6" name="__codelineno-580-6" href="#__codelineno-580-6"></a><span class="nb">delattr</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="s1">&#39;&lt;attr_name&gt;&#39;</span><span class="p">)</span>           <span class="c1"># Same. Also `del &lt;object&gt;.&lt;attr_name&gt;`.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-581-1" name="__codelineno-581-1" href="#__codelineno-581-1"></a><span class="o">&lt;</span><span class="n">Sig</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">inspect</span><span class="o">.</span><span class="n">signature</span><span class="p">(</span><span class="o">&lt;</span><span class="n">function</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Function&#39;s Signature object.</span>
<a id="__codelineno-581-2" name="__codelineno-581-2" href="#__codelineno-581-2"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sig</span><span class="o">&gt;.</span><span class="n">parameters</span>                  <span class="c1"># Dict of Parameter objects.</span>
<a id="__codelineno-581-3" name="__codelineno-581-3" href="#__codelineno-581-3"></a><span class="o">&lt;</span><span class="n">memb</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Param</span><span class="o">&gt;.</span><span class="n">kind</span>                      <span class="c1"># Member of ParameterKind enum.</span>
<a id="__codelineno-581-4" name="__codelineno-581-4" href="#__codelineno-581-4"></a><span class="o">&lt;</span><span class="n">obj</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Param</span><span class="o">&gt;.</span><span class="n">default</span>                   <span class="c1"># Default value or Parameter.empty.</span>
<a id="__codelineno-581-5" name="__codelineno-581-5" href="#__codelineno-581-5"></a><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Param</span><span class="o">&gt;.</span><span class="n">annotation</span>                <span class="c1"># Type or Parameter.empty.</span>
</code></pre></div>
<h2 id="coroutines_1">Coroutines<a class="headerlink" href="#coroutines_1" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>Coroutines have a lot in common with threads, but unlike threads, they only give up control when they call another coroutine and they don’t use as much memory.</strong></li>
<li><strong>Coroutine definition starts with <code>'async'</code> and its call with <code>'await'</code>.</strong></li>
<li><strong><code>'asyncio.run(&lt;coroutine&gt;)'</code> is the main entry point for asynchronous programs.</strong></li>
<li><strong>Functions wait(), gather() and as_completed() start multiple coroutines at the same time.</strong></li>
<li><strong>Asyncio module also provides its own <a href="#queue">Queue</a>, <a href="#semaphore-event-barrier">Event</a>, <a href="#lock">Lock</a> and <a href="#semaphore-event-barrier">Semaphore</a> classes.</strong></li>
</ul>
<h4 id="runs-a-terminal-game-where-you-control-an-asterisk-that-must-avoid-numbers_1">Runs a terminal game where you control an asterisk that must avoid numbers:<a class="headerlink" href="#runs-a-terminal-game-where-you-control-an-asterisk-that-must-avoid-numbers_1" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-582-1" name="__codelineno-582-1" href="#__codelineno-582-1"></a><span class="kn">import</span> <span class="nn">asyncio</span><span class="o">,</span> <span class="nn">collections</span><span class="o">,</span> <span class="nn">curses</span><span class="o">,</span> <span class="nn">curses.textpad</span><span class="o">,</span> <span class="nn">enum</span><span class="o">,</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">time</span>
<a id="__codelineno-582-2" name="__codelineno-582-2" href="#__codelineno-582-2"></a>
<a id="__codelineno-582-3" name="__codelineno-582-3" href="#__codelineno-582-3"></a><span class="n">P</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;x y&#39;</span><span class="p">)</span>         <span class="c1"># Position</span>
<a id="__codelineno-582-4" name="__codelineno-582-4" href="#__codelineno-582-4"></a><span class="n">D</span> <span class="o">=</span> <span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;n e s w&#39;</span><span class="p">)</span>                  <span class="c1"># Direction</span>
<a id="__codelineno-582-5" name="__codelineno-582-5" href="#__codelineno-582-5"></a><span class="n">W</span><span class="p">,</span> <span class="n">H</span> <span class="o">=</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">7</span>                                   <span class="c1"># Width, Height</span>
<a id="__codelineno-582-6" name="__codelineno-582-6" href="#__codelineno-582-6"></a>
<a id="__codelineno-582-7" name="__codelineno-582-7" href="#__codelineno-582-7"></a><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">screen</span><span class="p">):</span>
<a id="__codelineno-582-8" name="__codelineno-582-8" href="#__codelineno-582-8"></a>    <span class="n">curses</span><span class="o">.</span><span class="n">curs_set</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                         <span class="c1"># Makes cursor invisible.</span>
<a id="__codelineno-582-9" name="__codelineno-582-9" href="#__codelineno-582-9"></a>    <span class="n">screen</span><span class="o">.</span><span class="n">nodelay</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>                       <span class="c1"># Makes getch() non-blocking.</span>
<a id="__codelineno-582-10" name="__codelineno-582-10" href="#__codelineno-582-10"></a>    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main_coroutine</span><span class="p">(</span><span class="n">screen</span><span class="p">))</span>        <span class="c1"># Starts running asyncio code.</span>
<a id="__codelineno-582-11" name="__codelineno-582-11" href="#__codelineno-582-11"></a>
<a id="__codelineno-582-12" name="__codelineno-582-12" href="#__codelineno-582-12"></a><span class="k">async</span> <span class="k">def</span> <span class="nf">main_coroutine</span><span class="p">(</span><span class="n">screen</span><span class="p">):</span>
<a id="__codelineno-582-13" name="__codelineno-582-13" href="#__codelineno-582-13"></a>    <span class="n">moves</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Queue</span><span class="p">()</span>
<a id="__codelineno-582-14" name="__codelineno-582-14" href="#__codelineno-582-14"></a>    <span class="n">state</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;*&#39;</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="o">**</span><span class="p">{</span><span class="n">id_</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="n">W</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">H</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)}}</span>
<a id="__codelineno-582-15" name="__codelineno-582-15" href="#__codelineno-582-15"></a>    <span class="n">ai</span>    <span class="o">=</span> <span class="p">[</span><span class="n">random_controller</span><span class="p">(</span><span class="n">id_</span><span class="p">,</span> <span class="n">moves</span><span class="p">)</span> <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
<a id="__codelineno-582-16" name="__codelineno-582-16" href="#__codelineno-582-16"></a>    <span class="n">mvc</span>   <span class="o">=</span> <span class="p">[</span><span class="n">human_controller</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">moves</span><span class="p">),</span> <span class="n">model</span><span class="p">(</span><span class="n">moves</span><span class="p">,</span> <span class="n">state</span><span class="p">),</span> <span class="n">view</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">screen</span><span class="p">)]</span>
<a id="__codelineno-582-17" name="__codelineno-582-17" href="#__codelineno-582-17"></a>    <span class="n">tasks</span> <span class="o">=</span> <span class="p">[</span><span class="n">asyncio</span><span class="o">.</span><span class="n">create_task</span><span class="p">(</span><span class="n">cor</span><span class="p">)</span> <span class="k">for</span> <span class="n">cor</span> <span class="ow">in</span> <span class="n">ai</span> <span class="o">+</span> <span class="n">mvc</span><span class="p">]</span>
<a id="__codelineno-582-18" name="__codelineno-582-18" href="#__codelineno-582-18"></a>    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">wait</span><span class="p">(</span><span class="n">tasks</span><span class="p">,</span> <span class="n">return_when</span><span class="o">=</span><span class="n">asyncio</span><span class="o">.</span><span class="n">FIRST_COMPLETED</span><span class="p">)</span>
<a id="__codelineno-582-19" name="__codelineno-582-19" href="#__codelineno-582-19"></a>
<a id="__codelineno-582-20" name="__codelineno-582-20" href="#__codelineno-582-20"></a><span class="k">async</span> <span class="k">def</span> <span class="nf">random_controller</span><span class="p">(</span><span class="n">id_</span><span class="p">,</span> <span class="n">moves</span><span class="p">):</span>
<a id="__codelineno-582-21" name="__codelineno-582-21" href="#__codelineno-582-21"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-582-22" name="__codelineno-582-22" href="#__codelineno-582-22"></a>        <span class="n">d</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">D</span><span class="p">))</span>
<a id="__codelineno-582-23" name="__codelineno-582-23" href="#__codelineno-582-23"></a>        <span class="n">moves</span><span class="o">.</span><span class="n">put_nowait</span><span class="p">((</span><span class="n">id_</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span>
<a id="__codelineno-582-24" name="__codelineno-582-24" href="#__codelineno-582-24"></a>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">triangular</span><span class="p">(</span><span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.65</span><span class="p">))</span>
<a id="__codelineno-582-25" name="__codelineno-582-25" href="#__codelineno-582-25"></a>
<a id="__codelineno-582-26" name="__codelineno-582-26" href="#__codelineno-582-26"></a><span class="k">async</span> <span class="k">def</span> <span class="nf">human_controller</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">moves</span><span class="p">):</span>
<a id="__codelineno-582-27" name="__codelineno-582-27" href="#__codelineno-582-27"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-582-28" name="__codelineno-582-28" href="#__codelineno-582-28"></a>        <span class="n">key_mappings</span> <span class="o">=</span> <span class="p">{</span><span class="mi">258</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="mi">259</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="mi">260</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="mi">261</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">e</span><span class="p">}</span>
<a id="__codelineno-582-29" name="__codelineno-582-29" href="#__codelineno-582-29"></a>        <span class="n">ch</span> <span class="o">=</span> <span class="n">screen</span><span class="o">.</span><span class="n">getch</span><span class="p">()</span>
<a id="__codelineno-582-30" name="__codelineno-582-30" href="#__codelineno-582-30"></a>        <span class="k">if</span> <span class="n">d</span> <span class="o">:=</span> <span class="n">key_mappings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">ch</span><span class="p">):</span>
<a id="__codelineno-582-31" name="__codelineno-582-31" href="#__codelineno-582-31"></a>            <span class="n">moves</span><span class="o">.</span><span class="n">put_nowait</span><span class="p">((</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="n">d</span><span class="p">))</span>
<a id="__codelineno-582-32" name="__codelineno-582-32" href="#__codelineno-582-32"></a>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.005</span><span class="p">)</span>
<a id="__codelineno-582-33" name="__codelineno-582-33" href="#__codelineno-582-33"></a>
<a id="__codelineno-582-34" name="__codelineno-582-34" href="#__codelineno-582-34"></a><span class="k">async</span> <span class="k">def</span> <span class="nf">model</span><span class="p">(</span><span class="n">moves</span><span class="p">,</span> <span class="n">state</span><span class="p">):</span>
<a id="__codelineno-582-35" name="__codelineno-582-35" href="#__codelineno-582-35"></a>    <span class="k">while</span> <span class="n">state</span><span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">]</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="n">state</span><span class="p">[</span><span class="n">id_</span><span class="p">]</span> <span class="k">for</span> <span class="n">id_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)):</span>
<a id="__codelineno-582-36" name="__codelineno-582-36" href="#__codelineno-582-36"></a>        <span class="n">id_</span><span class="p">,</span> <span class="n">d</span> <span class="o">=</span> <span class="k">await</span> <span class="n">moves</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
<a id="__codelineno-582-37" name="__codelineno-582-37" href="#__codelineno-582-37"></a>        <span class="n">x</span><span class="p">,</span> <span class="n">y</span>   <span class="o">=</span> <span class="n">state</span><span class="p">[</span><span class="n">id_</span><span class="p">]</span>
<a id="__codelineno-582-38" name="__codelineno-582-38" href="#__codelineno-582-38"></a>        <span class="n">deltas</span> <span class="o">=</span> <span class="p">{</span><span class="n">D</span><span class="o">.</span><span class="n">n</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">D</span><span class="o">.</span><span class="n">e</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">D</span><span class="o">.</span><span class="n">s</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">D</span><span class="o">.</span><span class="n">w</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
<a id="__codelineno-582-39" name="__codelineno-582-39" href="#__codelineno-582-39"></a>        <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span> <span class="o">=</span> <span class="n">deltas</span><span class="p">[</span><span class="n">d</span><span class="p">]</span>
<a id="__codelineno-582-40" name="__codelineno-582-40" href="#__codelineno-582-40"></a>        <span class="n">state</span><span class="p">[</span><span class="n">id_</span><span class="p">]</span> <span class="o">=</span> <span class="n">P</span><span class="p">((</span><span class="n">x</span> <span class="o">+</span> <span class="n">dx</span><span class="p">)</span> <span class="o">%</span> <span class="n">W</span><span class="p">,</span> <span class="p">(</span><span class="n">y</span> <span class="o">+</span> <span class="n">dy</span><span class="p">)</span> <span class="o">%</span> <span class="n">H</span><span class="p">)</span>
<a id="__codelineno-582-41" name="__codelineno-582-41" href="#__codelineno-582-41"></a>
<a id="__codelineno-582-42" name="__codelineno-582-42" href="#__codelineno-582-42"></a><span class="k">async</span> <span class="k">def</span> <span class="nf">view</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">screen</span><span class="p">):</span>
<a id="__codelineno-582-43" name="__codelineno-582-43" href="#__codelineno-582-43"></a>    <span class="n">offset</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">curses</span><span class="o">.</span><span class="n">COLS</span><span class="o">//</span><span class="mi">2</span> <span class="o">-</span> <span class="n">W</span><span class="o">//</span><span class="mi">2</span><span class="p">,</span> <span class="n">curses</span><span class="o">.</span><span class="n">LINES</span><span class="o">//</span><span class="mi">2</span> <span class="o">-</span> <span class="n">H</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span>
<a id="__codelineno-582-44" name="__codelineno-582-44" href="#__codelineno-582-44"></a>    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-582-45" name="__codelineno-582-45" href="#__codelineno-582-45"></a>        <span class="n">screen</span><span class="o">.</span><span class="n">erase</span><span class="p">()</span>
<a id="__codelineno-582-46" name="__codelineno-582-46" href="#__codelineno-582-46"></a>        <span class="n">curses</span><span class="o">.</span><span class="n">textpad</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">offset</span><span class="o">.</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">offset</span><span class="o">.</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">offset</span><span class="o">.</span><span class="n">y</span><span class="o">+</span><span class="n">H</span><span class="p">,</span> <span class="n">offset</span><span class="o">.</span><span class="n">x</span><span class="o">+</span><span class="n">W</span><span class="p">)</span>
<a id="__codelineno-582-47" name="__codelineno-582-47" href="#__codelineno-582-47"></a>        <span class="k">for</span> <span class="n">id_</span><span class="p">,</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">state</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<a id="__codelineno-582-48" name="__codelineno-582-48" href="#__codelineno-582-48"></a>            <span class="n">screen</span><span class="o">.</span><span class="n">addstr</span><span class="p">(</span>
<a id="__codelineno-582-49" name="__codelineno-582-49" href="#__codelineno-582-49"></a>                <span class="n">offset</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">y</span> <span class="o">-</span> <span class="n">state</span><span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">y</span> <span class="o">+</span> <span class="n">H</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="n">H</span><span class="p">,</span>
<a id="__codelineno-582-50" name="__codelineno-582-50" href="#__codelineno-582-50"></a>                <span class="n">offset</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">x</span> <span class="o">-</span> <span class="n">state</span><span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">x</span> <span class="o">+</span> <span class="n">W</span><span class="o">//</span><span class="mi">2</span><span class="p">)</span> <span class="o">%</span> <span class="n">W</span><span class="p">,</span>
<a id="__codelineno-582-51" name="__codelineno-582-51" href="#__codelineno-582-51"></a>                <span class="nb">str</span><span class="p">(</span><span class="n">id_</span><span class="p">)</span>
<a id="__codelineno-582-52" name="__codelineno-582-52" href="#__codelineno-582-52"></a>            <span class="p">)</span>
<a id="__codelineno-582-53" name="__codelineno-582-53" href="#__codelineno-582-53"></a>        <span class="n">screen</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
<a id="__codelineno-582-54" name="__codelineno-582-54" href="#__codelineno-582-54"></a>        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.005</span><span class="p">)</span>
<a id="__codelineno-582-55" name="__codelineno-582-55" href="#__codelineno-582-55"></a>
<a id="__codelineno-582-56" name="__codelineno-582-56" href="#__codelineno-582-56"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<a id="__codelineno-582-57" name="__codelineno-582-57" href="#__codelineno-582-57"></a>    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>
<a id="__codelineno-582-58" name="__codelineno-582-58" href="#__codelineno-582-58"></a>    <span class="n">curses</span><span class="o">.</span><span class="n">wrapper</span><span class="p">(</span><span class="n">main</span><span class="p">)</span>
<a id="__codelineno-582-59" name="__codelineno-582-59" href="#__codelineno-582-59"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;You survived </span><span class="si">{</span><span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">start_time</span><span class="si">:</span><span class="s1">.2f</span><span class="si">}</span><span class="s1"> seconds.&#39;</span><span class="p">)</span>
</code></pre></div>
<br></p>
<h1 id="libraries_1">Libraries<a class="headerlink" href="#libraries_1" title="Permanent link">&para;</a></h1>
<h2 id="progress-bar_1">Progress Bar<a class="headerlink" href="#progress-bar_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-583-1" name="__codelineno-583-1" href="#__codelineno-583-1"></a><span class="c1"># $ pip3 install tqdm</span>
<a id="__codelineno-583-2" name="__codelineno-583-2" href="#__codelineno-583-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">tqdm</span><span class="o">,</span> <span class="nn">time</span>
<a id="__codelineno-583-3" name="__codelineno-583-3" href="#__codelineno-583-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">el</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">desc</span><span class="o">=</span><span class="s1">&#39;Processing&#39;</span><span class="p">):</span>
<a id="__codelineno-583-4" name="__codelineno-583-4" href="#__codelineno-583-4"></a><span class="o">...</span>     <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-583-5" name="__codelineno-583-5" href="#__codelineno-583-5"></a><span class="n">Processing</span><span class="p">:</span> <span class="mi">100</span><span class="o">%|</span><span class="err">████████████████████</span><span class="o">|</span> <span class="mi">3</span><span class="o">/</span><span class="mi">3</span> <span class="p">[</span><span class="mi">00</span><span class="p">:</span><span class="mi">03</span><span class="o">&lt;</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">,</span>  <span class="mf">1.00</span><span class="n">s</span><span class="o">/</span><span class="n">it</span><span class="p">]</span>
</code></pre></div>
<h2 id="plot_1">Plot<a class="headerlink" href="#plot_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-584-1" name="__codelineno-584-1" href="#__codelineno-584-1"></a><span class="c1"># $ pip3 install matplotlib</span>
<a id="__codelineno-584-2" name="__codelineno-584-2" href="#__codelineno-584-2"></a><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<a id="__codelineno-584-3" name="__codelineno-584-3" href="#__codelineno-584-3"></a>
<a id="__codelineno-584-4" name="__codelineno-584-4" href="#__codelineno-584-4"></a><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="o">/</span><span class="n">bar</span><span class="o">/</span><span class="n">scatter</span><span class="p">(</span><span class="n">x_data</span><span class="p">,</span> <span class="n">y_data</span> <span class="p">[,</span> <span class="n">label</span><span class="o">=&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">])</span>  <span class="c1"># Or: plt.plot(y_data)</span>
<a id="__codelineno-584-5" name="__codelineno-584-5" href="#__codelineno-584-5"></a><span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>                                          <span class="c1"># Adds a legend.</span>
<a id="__codelineno-584-6" name="__codelineno-584-6" href="#__codelineno-584-6"></a><span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                                   <span class="c1"># Saves the figure.</span>
<a id="__codelineno-584-7" name="__codelineno-584-7" href="#__codelineno-584-7"></a><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                                            <span class="c1"># Displays the figure.</span>
<a id="__codelineno-584-8" name="__codelineno-584-8" href="#__codelineno-584-8"></a><span class="n">plt</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>                                             <span class="c1"># Clears the figure.</span>
</code></pre></div>
<h2 id="table_1">Table<a class="headerlink" href="#table_1" title="Permanent link">&para;</a></h2>
<h4 id="prints-a-csv-file-as-an-ascii-table_1">Prints a CSV file as an ASCII table:<a class="headerlink" href="#prints-a-csv-file-as-an-ascii-table_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-585-1" name="__codelineno-585-1" href="#__codelineno-585-1"></a><span class="c1"># $ pip3 install tabulate</span>
<a id="__codelineno-585-2" name="__codelineno-585-2" href="#__codelineno-585-2"></a><span class="kn">import</span> <span class="nn">csv</span><span class="o">,</span> <span class="nn">tabulate</span>
<a id="__codelineno-585-3" name="__codelineno-585-3" href="#__codelineno-585-3"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;test.csv&#39;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-585-4" name="__codelineno-585-4" href="#__codelineno-585-4"></a>    <span class="n">rows</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">csv</span><span class="o">.</span><span class="n">reader</span><span class="p">(</span><span class="n">file</span><span class="p">))</span>
<a id="__codelineno-585-5" name="__codelineno-585-5" href="#__codelineno-585-5"></a><span class="nb">print</span><span class="p">(</span><span class="n">tabulate</span><span class="o">.</span><span class="n">tabulate</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="s1">&#39;firstrow&#39;</span><span class="p">))</span>
</code></pre></div>
<h2 id="curses_1">Curses<a class="headerlink" href="#curses_1" title="Permanent link">&para;</a></h2>
<h4 id="runs-a-basic-file-explorer-in-the-console_1">Runs a basic file explorer in the console:<a class="headerlink" href="#runs-a-basic-file-explorer-in-the-console_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-586-1" name="__codelineno-586-1" href="#__codelineno-586-1"></a><span class="c1"># $ pip3 install windows-curses</span>
<a id="__codelineno-586-2" name="__codelineno-586-2" href="#__codelineno-586-2"></a><span class="kn">import</span> <span class="nn">curses</span><span class="o">,</span> <span class="nn">os</span>
<a id="__codelineno-586-3" name="__codelineno-586-3" href="#__codelineno-586-3"></a><span class="kn">from</span> <span class="nn">curses</span> <span class="kn">import</span> <span class="n">A_REVERSE</span><span class="p">,</span> <span class="n">KEY_DOWN</span><span class="p">,</span> <span class="n">KEY_UP</span><span class="p">,</span> <span class="n">KEY_LEFT</span><span class="p">,</span> <span class="n">KEY_RIGHT</span><span class="p">,</span> <span class="n">KEY_ENTER</span>
<a id="__codelineno-586-4" name="__codelineno-586-4" href="#__codelineno-586-4"></a>
<a id="__codelineno-586-5" name="__codelineno-586-5" href="#__codelineno-586-5"></a><span class="k">def</span> <span class="nf">main</span><span class="p">(</span><span class="n">screen</span><span class="p">):</span>
<a id="__codelineno-586-6" name="__codelineno-586-6" href="#__codelineno-586-6"></a>    <span class="n">ch</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">selected</span><span class="p">,</span> <span class="n">paths</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">()</span>
<a id="__codelineno-586-7" name="__codelineno-586-7" href="#__codelineno-586-7"></a>    <span class="k">while</span> <span class="n">ch</span> <span class="o">!=</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;q&#39;</span><span class="p">):</span>
<a id="__codelineno-586-8" name="__codelineno-586-8" href="#__codelineno-586-8"></a>        <span class="n">height</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="n">screen</span><span class="o">.</span><span class="n">getmaxyx</span><span class="p">()</span>
<a id="__codelineno-586-9" name="__codelineno-586-9" href="#__codelineno-586-9"></a>        <span class="n">screen</span><span class="o">.</span><span class="n">erase</span><span class="p">()</span>
<a id="__codelineno-586-10" name="__codelineno-586-10" href="#__codelineno-586-10"></a>        <span class="k">for</span> <span class="n">y</span><span class="p">,</span> <span class="n">filename</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">paths</span><span class="p">[</span><span class="n">first</span> <span class="p">:</span> <span class="n">first</span><span class="o">+</span><span class="n">height</span><span class="p">]):</span>
<a id="__codelineno-586-11" name="__codelineno-586-11" href="#__codelineno-586-11"></a>            <span class="n">color</span> <span class="o">=</span> <span class="n">A_REVERSE</span> <span class="k">if</span> <span class="n">filename</span> <span class="o">==</span> <span class="n">paths</span><span class="p">[</span><span class="n">selected</span><span class="p">]</span> <span class="k">else</span> <span class="mi">0</span>
<a id="__codelineno-586-12" name="__codelineno-586-12" href="#__codelineno-586-12"></a>            <span class="n">screen</span><span class="o">.</span><span class="n">addnstr</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">width</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>
<a id="__codelineno-586-13" name="__codelineno-586-13" href="#__codelineno-586-13"></a>        <span class="n">ch</span> <span class="o">=</span> <span class="n">screen</span><span class="o">.</span><span class="n">getch</span><span class="p">()</span>
<a id="__codelineno-586-14" name="__codelineno-586-14" href="#__codelineno-586-14"></a>        <span class="n">selected</span> <span class="o">+=</span> <span class="p">(</span><span class="n">ch</span> <span class="o">==</span> <span class="n">KEY_DOWN</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">ch</span> <span class="o">==</span> <span class="n">KEY_UP</span><span class="p">)</span>
<a id="__codelineno-586-15" name="__codelineno-586-15" href="#__codelineno-586-15"></a>        <span class="n">selected</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">paths</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">selected</span><span class="p">))</span>
<a id="__codelineno-586-16" name="__codelineno-586-16" href="#__codelineno-586-16"></a>        <span class="n">first</span> <span class="o">+=</span> <span class="p">(</span><span class="n">selected</span> <span class="o">&gt;=</span> <span class="n">first</span> <span class="o">+</span> <span class="n">height</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">selected</span> <span class="o">&lt;</span> <span class="n">first</span><span class="p">)</span>
<a id="__codelineno-586-17" name="__codelineno-586-17" href="#__codelineno-586-17"></a>        <span class="k">if</span> <span class="n">ch</span> <span class="ow">in</span> <span class="p">[</span><span class="n">KEY_LEFT</span><span class="p">,</span> <span class="n">KEY_RIGHT</span><span class="p">,</span> <span class="n">KEY_ENTER</span><span class="p">,</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">),</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\r</span><span class="s1">&#39;</span><span class="p">)]:</span>
<a id="__codelineno-586-18" name="__codelineno-586-18" href="#__codelineno-586-18"></a>            <span class="n">new_dir</span> <span class="o">=</span> <span class="s1">&#39;..&#39;</span> <span class="k">if</span> <span class="n">ch</span> <span class="o">==</span> <span class="n">KEY_LEFT</span> <span class="k">else</span> <span class="n">paths</span><span class="p">[</span><span class="n">selected</span><span class="p">]</span>
<a id="__codelineno-586-19" name="__codelineno-586-19" href="#__codelineno-586-19"></a>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">new_dir</span><span class="p">):</span>
<a id="__codelineno-586-20" name="__codelineno-586-20" href="#__codelineno-586-20"></a>                <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">new_dir</span><span class="p">)</span>
<a id="__codelineno-586-21" name="__codelineno-586-21" href="#__codelineno-586-21"></a>                <span class="n">first</span><span class="p">,</span> <span class="n">selected</span><span class="p">,</span> <span class="n">paths</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">()</span>
<a id="__codelineno-586-22" name="__codelineno-586-22" href="#__codelineno-586-22"></a>
<a id="__codelineno-586-23" name="__codelineno-586-23" href="#__codelineno-586-23"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<a id="__codelineno-586-24" name="__codelineno-586-24" href="#__codelineno-586-24"></a>    <span class="n">curses</span><span class="o">.</span><span class="n">wrapper</span><span class="p">(</span><span class="n">main</span><span class="p">)</span>
</code></pre></div>
<h2 id="pysimplegui_1">PySimpleGUI<a class="headerlink" href="#pysimplegui_1" title="Permanent link">&para;</a></h2>
<h4 id="a-weight-converter-gui-application_1">A weight converter GUI application:<a class="headerlink" href="#a-weight-converter-gui-application_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-587-1" name="__codelineno-587-1" href="#__codelineno-587-1"></a><span class="c1"># $ pip3 install PySimpleGUI</span>
<a id="__codelineno-587-2" name="__codelineno-587-2" href="#__codelineno-587-2"></a><span class="kn">import</span> <span class="nn">PySimpleGUI</span> <span class="k">as</span> <span class="nn">sg</span>
<a id="__codelineno-587-3" name="__codelineno-587-3" href="#__codelineno-587-3"></a>
<a id="__codelineno-587-4" name="__codelineno-587-4" href="#__codelineno-587-4"></a><span class="n">text_box</span> <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">Input</span><span class="p">(</span><span class="n">default_text</span><span class="o">=</span><span class="s1">&#39;100&#39;</span><span class="p">,</span> <span class="n">enable_events</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;-VALUE-&#39;</span><span class="p">)</span>
<a id="__codelineno-587-5" name="__codelineno-587-5" href="#__codelineno-587-5"></a><span class="n">dropdown</span> <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">InputCombo</span><span class="p">([</span><span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="s1">&#39;kg&#39;</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">],</span> <span class="s1">&#39;kg&#39;</span><span class="p">,</span> <span class="n">readonly</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">enable_events</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="s1">&#39;-UNIT-&#39;</span><span class="p">)</span>
<a id="__codelineno-587-6" name="__codelineno-587-6" href="#__codelineno-587-6"></a><span class="n">label</span>    <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">Text</span><span class="p">(</span><span class="s1">&#39;100 kg is 220.462 lbs.&#39;</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="s1">&#39;-OUTPUT-&#39;</span><span class="p">)</span>
<a id="__codelineno-587-7" name="__codelineno-587-7" href="#__codelineno-587-7"></a><span class="n">button</span>   <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="s1">&#39;Close&#39;</span><span class="p">)</span>
<a id="__codelineno-587-8" name="__codelineno-587-8" href="#__codelineno-587-8"></a><span class="n">window</span>   <span class="o">=</span> <span class="n">sg</span><span class="o">.</span><span class="n">Window</span><span class="p">(</span><span class="s1">&#39;Weight Converter&#39;</span><span class="p">,</span> <span class="p">[[</span><span class="n">text_box</span><span class="p">,</span> <span class="n">dropdown</span><span class="p">],</span> <span class="p">[</span><span class="n">label</span><span class="p">],</span> <span class="p">[</span><span class="n">button</span><span class="p">]])</span>
<a id="__codelineno-587-9" name="__codelineno-587-9" href="#__codelineno-587-9"></a>
<a id="__codelineno-587-10" name="__codelineno-587-10" href="#__codelineno-587-10"></a><span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
<a id="__codelineno-587-11" name="__codelineno-587-11" href="#__codelineno-587-11"></a>    <span class="n">event</span><span class="p">,</span> <span class="n">values</span> <span class="o">=</span> <span class="n">window</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<a id="__codelineno-587-12" name="__codelineno-587-12" href="#__codelineno-587-12"></a>    <span class="k">if</span> <span class="n">event</span> <span class="ow">in</span> <span class="p">[</span><span class="n">sg</span><span class="o">.</span><span class="n">WIN_CLOSED</span><span class="p">,</span> <span class="s1">&#39;Close&#39;</span><span class="p">]:</span>
<a id="__codelineno-587-13" name="__codelineno-587-13" href="#__codelineno-587-13"></a>        <span class="k">break</span>
<a id="__codelineno-587-14" name="__codelineno-587-14" href="#__codelineno-587-14"></a>    <span class="k">try</span><span class="p">:</span>
<a id="__codelineno-587-15" name="__codelineno-587-15" href="#__codelineno-587-15"></a>        <span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">values</span><span class="p">[</span><span class="s1">&#39;-VALUE-&#39;</span><span class="p">])</span>
<a id="__codelineno-587-16" name="__codelineno-587-16" href="#__codelineno-587-16"></a>    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
<a id="__codelineno-587-17" name="__codelineno-587-17" href="#__codelineno-587-17"></a>        <span class="k">continue</span>
<a id="__codelineno-587-18" name="__codelineno-587-18" href="#__codelineno-587-18"></a>    <span class="n">unit</span> <span class="o">=</span> <span class="n">values</span><span class="p">[</span><span class="s1">&#39;-UNIT-&#39;</span><span class="p">]</span>
<a id="__codelineno-587-19" name="__codelineno-587-19" href="#__codelineno-587-19"></a>    <span class="n">factors</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;g&#39;</span><span class="p">:</span> <span class="mf">0.001</span><span class="p">,</span> <span class="s1">&#39;kg&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;t&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">}</span>
<a id="__codelineno-587-20" name="__codelineno-587-20" href="#__codelineno-587-20"></a>    <span class="n">lbs</span> <span class="o">=</span> <span class="n">value</span> <span class="o">*</span> <span class="n">factors</span><span class="p">[</span><span class="n">unit</span><span class="p">]</span> <span class="o">/</span> <span class="mf">0.45359237</span>
<a id="__codelineno-587-21" name="__codelineno-587-21" href="#__codelineno-587-21"></a>    <span class="n">window</span><span class="p">[</span><span class="s1">&#39;-OUTPUT-&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">unit</span><span class="si">}</span><span class="s1"> is </span><span class="si">{</span><span class="n">lbs</span><span class="si">:</span><span class="s1">g</span><span class="si">}</span><span class="s1"> lbs.&#39;</span><span class="p">)</span>
<a id="__codelineno-587-22" name="__codelineno-587-22" href="#__codelineno-587-22"></a><span class="n">window</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div>
<h2 id="scraping_1">Scraping<a class="headerlink" href="#scraping_1" title="Permanent link">&para;</a></h2>
<h4 id="scrapes-pythons-url-and-logo-from-its-wikipedia-page_1">Scrapes Python's URL and logo from its Wikipedia page:<a class="headerlink" href="#scrapes-pythons-url-and-logo-from-its-wikipedia-page_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-588-1" name="__codelineno-588-1" href="#__codelineno-588-1"></a><span class="c1"># $ pip3 install requests beautifulsoup4</span>
<a id="__codelineno-588-2" name="__codelineno-588-2" href="#__codelineno-588-2"></a><span class="kn">import</span> <span class="nn">requests</span><span class="o">,</span> <span class="nn">bs4</span><span class="o">,</span> <span class="nn">os</span>
<a id="__codelineno-588-3" name="__codelineno-588-3" href="#__codelineno-588-3"></a>
<a id="__codelineno-588-4" name="__codelineno-588-4" href="#__codelineno-588-4"></a><span class="n">response</span>   <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://en.wikipedia.org/wiki/Python_(programming_language)&#39;</span><span class="p">)</span>
<a id="__codelineno-588-5" name="__codelineno-588-5" href="#__codelineno-588-5"></a><span class="n">document</span>   <span class="o">=</span> <span class="n">bs4</span><span class="o">.</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
<a id="__codelineno-588-6" name="__codelineno-588-6" href="#__codelineno-588-6"></a><span class="n">table</span>      <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;infobox vevent&#39;</span><span class="p">)</span>
<a id="__codelineno-588-7" name="__codelineno-588-7" href="#__codelineno-588-7"></a><span class="n">python_url</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;th&#39;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Website&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">next_sibling</span><span class="o">.</span><span class="n">a</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>
<a id="__codelineno-588-8" name="__codelineno-588-8" href="#__codelineno-588-8"></a><span class="n">logo_url</span>   <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;img&#39;</span><span class="p">)[</span><span class="s1">&#39;src&#39;</span><span class="p">]</span>
<a id="__codelineno-588-9" name="__codelineno-588-9" href="#__codelineno-588-9"></a><span class="n">logo</span>       <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;https:</span><span class="si">{</span><span class="n">logo_url</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">content</span>
<a id="__codelineno-588-10" name="__codelineno-588-10" href="#__codelineno-588-10"></a><span class="n">filename</span>   <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">logo_url</span><span class="p">)</span>
<a id="__codelineno-588-11" name="__codelineno-588-11" href="#__codelineno-588-11"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-588-12" name="__codelineno-588-12" href="#__codelineno-588-12"></a>    <span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">logo</span><span class="p">)</span>
<a id="__codelineno-588-13" name="__codelineno-588-13" href="#__codelineno-588-13"></a><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">python_url</span><span class="si">}</span><span class="s1">, file://</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</code></pre></div>
<h3 id="selenium_1">Selenium<a class="headerlink" href="#selenium_1" title="Permanent link">&para;</a></h3>
<p><strong>Library for scraping websites with dynamic content.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-589-1" name="__codelineno-589-1" href="#__codelineno-589-1"></a><span class="c1"># $ pip3 install selenium</span>
<a id="__codelineno-589-2" name="__codelineno-589-2" href="#__codelineno-589-2"></a><span class="kn">from</span> <span class="nn">selenium</span> <span class="kn">import</span> <span class="n">webdriver</span>
<a id="__codelineno-589-3" name="__codelineno-589-3" href="#__codelineno-589-3"></a>
<a id="__codelineno-589-4" name="__codelineno-589-4" href="#__codelineno-589-4"></a><span class="o">&lt;</span><span class="n">Drv</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">webdriver</span><span class="o">.</span><span class="n">Chrome</span><span class="o">/</span><span class="n">Firefox</span><span class="o">/</span><span class="n">Safari</span><span class="o">/</span><span class="n">Edge</span><span class="p">()</span>         <span class="c1"># Opens the browser. Also &lt;Drv&gt;.quit().</span>
<a id="__codelineno-589-5" name="__codelineno-589-5" href="#__codelineno-589-5"></a><span class="o">&lt;</span><span class="n">Drv</span><span class="o">&gt;.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;&lt;url&gt;&#39;</span><span class="p">)</span>                                     <span class="c1"># Also &lt;Drv&gt;.implicitly_wait(seconds).</span>
<a id="__codelineno-589-6" name="__codelineno-589-6" href="#__codelineno-589-6"></a><span class="o">&lt;</span><span class="n">El</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Drv</span><span class="o">/</span><span class="n">El</span><span class="o">&gt;.</span><span class="n">find_element</span><span class="p">(</span><span class="s1">&#39;css selector&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;css&gt;&#39;</span><span class="p">)</span>  <span class="c1"># &#39;&lt;tag&gt;#&lt;id&gt;.&lt;class&gt;[&lt;attr&gt;=&quot;&lt;val&gt;&quot;]&#39;.</span>
<a id="__codelineno-589-7" name="__codelineno-589-7" href="#__codelineno-589-7"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Drv</span><span class="o">/</span><span class="n">El</span><span class="o">&gt;.</span><span class="n">find_elements</span><span class="p">(</span><span class="s1">&#39;xpath&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;xpath&gt;&#39;</span><span class="p">)</span>    <span class="c1"># &#39;//&lt;tag&gt;[@&lt;attr&gt;=&quot;&lt;val&gt;&quot;]&#39;.</span>
<a id="__codelineno-589-8" name="__codelineno-589-8" href="#__codelineno-589-8"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">El</span><span class="o">&gt;.</span><span class="n">get_attribute</span><span class="o">/</span><span class="n">get_property</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Also &lt;El&gt;.text/tag_name.</span>
<a id="__codelineno-589-9" name="__codelineno-589-9" href="#__codelineno-589-9"></a><span class="o">&lt;</span><span class="n">El</span><span class="o">&gt;.</span><span class="n">click</span><span class="o">/</span><span class="n">clear</span><span class="p">()</span>                                     <span class="c1"># Also &lt;El&gt;.send_keys(&lt;str&gt;).</span>
</code></pre></div></p>
<h4 id="xpath-also-available-in-browsers-console-via-xxpath_1">XPath — also available in browser's console via <code>'$x(&lt;xpath&gt;)'</code>:<a class="headerlink" href="#xpath-also-available-in-browsers-console-via-xxpath_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-590-1" name="__codelineno-590-1" href="#__codelineno-590-1"></a><span class="o">&lt;</span><span class="n">xpath</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="o">//&lt;</span><span class="n">element</span><span class="o">&gt;</span><span class="p">[</span><span class="o">/</span> <span class="ow">or</span> <span class="o">//</span> <span class="o">&lt;</span><span class="n">element</span><span class="o">&gt;</span><span class="p">]</span>           <span class="c1"># Child: /, Descendant: //, Parent: /..</span>
<a id="__codelineno-590-2" name="__codelineno-590-2" href="#__codelineno-590-2"></a><span class="o">&lt;</span><span class="n">xpath</span><span class="o">&gt;</span>     <span class="o">=</span> <span class="o">//&lt;</span><span class="n">element</span><span class="o">&gt;/</span><span class="n">following</span><span class="p">::</span><span class="o">&lt;</span><span class="n">element</span><span class="o">&gt;</span>         <span class="c1"># Next sibling. Also preceding/parent/…</span>
<a id="__codelineno-590-3" name="__codelineno-590-3" href="#__codelineno-590-3"></a><span class="o">&lt;</span><span class="n">element</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="o">&lt;</span><span class="n">tag</span><span class="o">&gt;&lt;</span><span class="n">conditions</span><span class="o">&gt;&lt;</span><span class="n">index</span><span class="o">&gt;</span>                 <span class="c1"># `&lt;tag&gt; = */a/…`, `&lt;index&gt; = [1/2/…]`.</span>
<a id="__codelineno-590-4" name="__codelineno-590-4" href="#__codelineno-590-4"></a><span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">sub_cond</span><span class="o">&gt;</span> <span class="p">[</span><span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="o">&lt;</span><span class="n">sub_cond</span><span class="o">&gt;</span><span class="p">]]</span>         <span class="c1"># `and` is same as chaining conditions.</span>
<a id="__codelineno-590-5" name="__codelineno-590-5" href="#__codelineno-590-5"></a><span class="o">&lt;</span><span class="n">sub_cond</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">@&lt;</span><span class="n">attr</span><span class="o">&gt;=</span><span class="s2">&quot;&lt;val&gt;&quot;</span>                          <span class="c1"># `.=&quot;&lt;val&gt;&quot;` matches complete text.</span>
<a id="__codelineno-590-6" name="__codelineno-590-6" href="#__codelineno-590-6"></a><span class="o">&lt;</span><span class="n">sub_cond</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="n">contains</span><span class="p">(</span><span class="o">@&lt;</span><span class="n">attr</span><span class="o">&gt;</span><span class="p">,</span> <span class="s2">&quot;&lt;val&gt;&quot;</span><span class="p">)</span>               <span class="c1"># Is &lt;val&gt; a substring of attr&#39;s value?</span>
<a id="__codelineno-590-7" name="__codelineno-590-7" href="#__codelineno-590-7"></a><span class="o">&lt;</span><span class="n">sub_cond</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="p">[</span><span class="o">//</span><span class="p">]</span><span class="o">&lt;</span><span class="n">element</span><span class="o">&gt;</span>                            <span class="c1"># Has matching child? Descendant if //.</span>
</code></pre></div>
<h2 id="web_1">Web<a class="headerlink" href="#web_1" title="Permanent link">&para;</a></h2>
<p><strong>Flask is a micro web framework/server. If you just want to open a html file in a web browser use <code>'webbrowser.open(&lt;path&gt;)'</code> instead.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-591-1" name="__codelineno-591-1" href="#__codelineno-591-1"></a><span class="c1"># $ pip3 install flask</span>
<a id="__codelineno-591-2" name="__codelineno-591-2" href="#__codelineno-591-2"></a><span class="kn">import</span> <span class="nn">flask</span>
</code></pre></div></p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-592-1" name="__codelineno-592-1" href="#__codelineno-592-1"></a><span class="n">app</span> <span class="o">=</span> <span class="n">flask</span><span class="o">.</span><span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<a id="__codelineno-592-2" name="__codelineno-592-2" href="#__codelineno-592-2"></a><span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</code></pre></div>
* <strong>Starts the app at <code>'http://localhost:5000'</code>. Use <code>'host="0.0.0.0"'</code> to run externally.</strong>
* <strong>Install a WSGI server like <a href="https://flask.palletsprojects.com/en/latest/deploying/waitress/">Waitress</a> and a HTTP server such as <a href="https://flask.palletsprojects.com/en/latest/deploying/nginx/">Nginx</a> for better security.</strong>
* <strong>Debug mode restarts the app whenever script changes and displays errors in the browser.</strong></p>
<h3 id="static-request_1">Static Request<a class="headerlink" href="#static-request_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-593-1" name="__codelineno-593-1" href="#__codelineno-593-1"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/img/&lt;path:filename&gt;&#39;</span><span class="p">)</span>
<a id="__codelineno-593-2" name="__codelineno-593-2" href="#__codelineno-593-2"></a><span class="k">def</span> <span class="nf">serve_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-593-3" name="__codelineno-593-3" href="#__codelineno-593-3"></a>    <span class="k">return</span> <span class="n">flask</span><span class="o">.</span><span class="n">send_from_directory</span><span class="p">(</span><span class="s1">&#39;dirname/&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="p">)</span>
</code></pre></div>
<h3 id="dynamic-request_1">Dynamic Request<a class="headerlink" href="#dynamic-request_1" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-594-1" name="__codelineno-594-1" href="#__codelineno-594-1"></a><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&lt;sport&gt;&#39;</span><span class="p">)</span>
<a id="__codelineno-594-2" name="__codelineno-594-2" href="#__codelineno-594-2"></a><span class="k">def</span> <span class="nf">serve_html</span><span class="p">(</span><span class="n">sport</span><span class="p">):</span>
<a id="__codelineno-594-3" name="__codelineno-594-3" href="#__codelineno-594-3"></a>    <span class="k">return</span> <span class="n">flask</span><span class="o">.</span><span class="n">render_template_string</span><span class="p">(</span><span class="s1">&#39;&lt;h1&gt;{{title}}&lt;/h1&gt;&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">sport</span><span class="p">)</span>
</code></pre></div>
* <strong>Use <code>'render_template(filename, &lt;kwargs&gt;)'</code> to render file located in templates dir.</strong>
* <strong>To return an error code use <code>'abort(&lt;int&gt;)'</code> and to redirect use <code>'redirect(&lt;url&gt;)'</code>.</strong>
* <strong><code>'request.args[&lt;str&gt;]'</code> returns parameter from the query string (URL part after '?').</strong>
* <strong>Use <code>'session[key] = value'</code> to store session data like username, etc.</strong></p>
<h3 id="rest-request_1">REST Request<a class="headerlink" href="#rest-request_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-595-1" name="__codelineno-595-1" href="#__codelineno-595-1"></a><span class="nd">@app</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/&lt;sport&gt;/odds&#39;</span><span class="p">)</span>
<a id="__codelineno-595-2" name="__codelineno-595-2" href="#__codelineno-595-2"></a><span class="k">def</span> <span class="nf">serve_json</span><span class="p">(</span><span class="n">sport</span><span class="p">):</span>
<a id="__codelineno-595-3" name="__codelineno-595-3" href="#__codelineno-595-3"></a>    <span class="n">team</span> <span class="o">=</span> <span class="n">flask</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">form</span><span class="p">[</span><span class="s1">&#39;team&#39;</span><span class="p">]</span>
<a id="__codelineno-595-4" name="__codelineno-595-4" href="#__codelineno-595-4"></a>    <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;team&#39;</span><span class="p">:</span> <span class="n">team</span><span class="p">,</span> <span class="s1">&#39;odds&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.09</span><span class="p">,</span> <span class="mf">3.74</span><span class="p">,</span> <span class="mf">3.68</span><span class="p">]}</span>
</code></pre></div>
<h4 id="starts-the-app-in-its-own-thread-and-queries-its-rest-api_1">Starts the app in its own thread and queries its REST API:<a class="headerlink" href="#starts-the-app-in-its-own-thread-and-queries-its-rest-api_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-596-1" name="__codelineno-596-1" href="#__codelineno-596-1"></a><span class="c1"># $ pip3 install requests</span>
<a id="__codelineno-596-2" name="__codelineno-596-2" href="#__codelineno-596-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">threading</span><span class="o">,</span> <span class="nn">requests</span>
<a id="__codelineno-596-3" name="__codelineno-596-3" href="#__codelineno-596-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">app</span><span class="o">.</span><span class="n">run</span><span class="p">,</span> <span class="n">daemon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<a id="__codelineno-596-4" name="__codelineno-596-4" href="#__codelineno-596-4"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;http://localhost:5000/football/odds&#39;</span>
<a id="__codelineno-596-5" name="__codelineno-596-5" href="#__codelineno-596-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">request_data</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;team&#39;</span><span class="p">:</span> <span class="s1">&#39;arsenal f.c.&#39;</span><span class="p">}</span>
<a id="__codelineno-596-6" name="__codelineno-596-6" href="#__codelineno-596-6"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">request_data</span><span class="p">)</span>
<a id="__codelineno-596-7" name="__codelineno-596-7" href="#__codelineno-596-7"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<a id="__codelineno-596-8" name="__codelineno-596-8" href="#__codelineno-596-8"></a><span class="p">{</span><span class="s1">&#39;team&#39;</span><span class="p">:</span> <span class="s1">&#39;arsenal f.c.&#39;</span><span class="p">,</span> <span class="s1">&#39;odds&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">2.09</span><span class="p">,</span> <span class="mf">3.74</span><span class="p">,</span> <span class="mf">3.68</span><span class="p">]}</span>
</code></pre></div>
<h2 id="profiling_1">Profiling<a class="headerlink" href="#profiling_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-597-1" name="__codelineno-597-1" href="#__codelineno-597-1"></a><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">perf_counter</span>
<a id="__codelineno-597-2" name="__codelineno-597-2" href="#__codelineno-597-2"></a><span class="n">start_time</span> <span class="o">=</span> <span class="n">perf_counter</span><span class="p">()</span>
<a id="__codelineno-597-3" name="__codelineno-597-3" href="#__codelineno-597-3"></a><span class="o">...</span>
<a id="__codelineno-597-4" name="__codelineno-597-4" href="#__codelineno-597-4"></a><span class="n">duration_in_seconds</span> <span class="o">=</span> <span class="n">perf_counter</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
</code></pre></div>
<h3 id="timing-a-snippet_1">Timing a Snippet<a class="headerlink" href="#timing-a-snippet_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-598-1" name="__codelineno-598-1" href="#__codelineno-598-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">timeit</span> <span class="kn">import</span> <span class="n">timeit</span>
<a id="__codelineno-598-2" name="__codelineno-598-2" href="#__codelineno-598-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">timeit</span><span class="p">(</span><span class="s1">&#39;list(range(10000))&#39;</span><span class="p">,</span> <span class="n">number</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="nb">globals</span><span class="o">=</span><span class="nb">globals</span><span class="p">(),</span> <span class="n">setup</span><span class="o">=</span><span class="s1">&#39;pass&#39;</span><span class="p">)</span>
<a id="__codelineno-598-3" name="__codelineno-598-3" href="#__codelineno-598-3"></a><span class="mf">0.19373</span>
</code></pre></div>
<h3 id="profiling-by-line_1">Profiling by Line<a class="headerlink" href="#profiling-by-line_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-599-1" name="__codelineno-599-1" href="#__codelineno-599-1"></a>$ pip3 install line_profiler
<a id="__codelineno-599-2" name="__codelineno-599-2" href="#__codelineno-599-2"></a>$ echo &#39;@profile
<a id="__codelineno-599-3" name="__codelineno-599-3" href="#__codelineno-599-3"></a>def main():
<a id="__codelineno-599-4" name="__codelineno-599-4" href="#__codelineno-599-4"></a>    a = list(range(10000))
<a id="__codelineno-599-5" name="__codelineno-599-5" href="#__codelineno-599-5"></a>    b = set(range(10000))
<a id="__codelineno-599-6" name="__codelineno-599-6" href="#__codelineno-599-6"></a>main()&#39; &gt; test.py
<a id="__codelineno-599-7" name="__codelineno-599-7" href="#__codelineno-599-7"></a>$ kernprof -lv test.py
<a id="__codelineno-599-8" name="__codelineno-599-8" href="#__codelineno-599-8"></a>Line #      Hits         Time  Per Hit   % Time  Line Contents
<a id="__codelineno-599-9" name="__codelineno-599-9" href="#__codelineno-599-9"></a>==============================================================
<a id="__codelineno-599-10" name="__codelineno-599-10" href="#__codelineno-599-10"></a>     1                                           @profile
<a id="__codelineno-599-11" name="__codelineno-599-11" href="#__codelineno-599-11"></a>     2                                           def main():
<a id="__codelineno-599-12" name="__codelineno-599-12" href="#__codelineno-599-12"></a>     3         1        253.4    253.4     32.2      a = list(range(10000))
<a id="__codelineno-599-13" name="__codelineno-599-13" href="#__codelineno-599-13"></a>     4         1        534.1    534.1     67.8      b = set(range(10000))
</code></pre></div>
<h3 id="call-and-flame-graphs_1">Call and Flame Graphs<a class="headerlink" href="#call-and-flame-graphs_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-600-1" name="__codelineno-600-1" href="#__codelineno-600-1"></a>$ apt/brew install graphviz &amp;&amp; pip3 install gprof2dot snakeviz
<a id="__codelineno-600-2" name="__codelineno-600-2" href="#__codelineno-600-2"></a>$ tail --lines=4 test.py &gt; test.py
<a id="__codelineno-600-3" name="__codelineno-600-3" href="#__codelineno-600-3"></a>$ python3 -m cProfile -o test.prof test.py
<a id="__codelineno-600-4" name="__codelineno-600-4" href="#__codelineno-600-4"></a>$ gprof2dot --format=pstats test.prof | dot -T png -o test.png
<a id="__codelineno-600-5" name="__codelineno-600-5" href="#__codelineno-600-5"></a>$ xdg-open/open test.png
<a id="__codelineno-600-6" name="__codelineno-600-6" href="#__codelineno-600-6"></a>$ snakeviz test.prof
</code></pre></div>
<h3 id="sampling-and-memory-profilers_1">Sampling and Memory Profilers<a class="headerlink" href="#sampling-and-memory-profilers_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-601-1" name="__codelineno-601-1" href="#__codelineno-601-1"></a>+--------------+----------+------------+-------------------------------+------+
<a id="__codelineno-601-2" name="__codelineno-601-2" href="#__codelineno-601-2"></a>| pip3 install |   Type   |   Target   |          How to run           | Live |
<a id="__codelineno-601-3" name="__codelineno-601-3" href="#__codelineno-601-3"></a>+--------------+----------+------------+-------------------------------+------+
<a id="__codelineno-601-4" name="__codelineno-601-4" href="#__codelineno-601-4"></a>| pyinstrument | Sampling |    CPU     | pyinstrument test.py          | No   |
<a id="__codelineno-601-5" name="__codelineno-601-5" href="#__codelineno-601-5"></a>| py-spy       | Sampling |    CPU     | py-spy top -- python3 test.py | Yes  |
<a id="__codelineno-601-6" name="__codelineno-601-6" href="#__codelineno-601-6"></a>| scalene      | Sampling | CPU+Memory | scalene test.py               | No   |
<a id="__codelineno-601-7" name="__codelineno-601-7" href="#__codelineno-601-7"></a>| memray       | Tracing  |   Memory   | memray run --live test.py     | Yes  |
<a id="__codelineno-601-8" name="__codelineno-601-8" href="#__codelineno-601-8"></a>+--------------+----------+------------+-------------------------------+------+
</code></pre></div>
<h2 id="numpy_1">NumPy<a class="headerlink" href="#numpy_1" title="Permanent link">&para;</a></h2>
<p><strong>Array manipulation mini-language. It can run up to one hundred times faster than the equivalent Python code. An even faster alternative that runs on a GPU is called CuPy.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-602-1" name="__codelineno-602-1" href="#__codelineno-602-1"></a><span class="c1"># $ pip3 install numpy</span>
<a id="__codelineno-602-2" name="__codelineno-602-2" href="#__codelineno-602-2"></a><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-603-1" name="__codelineno-603-1" href="#__codelineno-603-1"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">/</span><span class="n">list_of_lists</span><span class="o">/</span><span class="err">…</span><span class="o">&gt;</span><span class="p">)</span>              <span class="c1"># Returns a 1d/2d/… NumPy array.</span>
<a id="__codelineno-603-2" name="__codelineno-603-2" href="#__codelineno-603-2"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="o">/</span><span class="n">ones</span><span class="o">/</span><span class="n">empty</span><span class="p">(</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">&gt;</span><span class="p">)</span>                  <span class="c1"># Also np.full(&lt;shape&gt;, &lt;el&gt;).</span>
<a id="__codelineno-603-3" name="__codelineno-603-3" href="#__codelineno-603-3"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">from_inc</span><span class="p">,</span> <span class="n">to_exc</span><span class="p">,</span> <span class="err">±</span><span class="n">step</span><span class="p">)</span>            <span class="c1"># Also np.linspace(start, stop, len).</span>
<a id="__codelineno-603-4" name="__codelineno-603-4" href="#__codelineno-603-4"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="n">from_inc</span><span class="p">,</span> <span class="n">to_exc</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">shape</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Also np.random.random(&lt;shape&gt;).</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-604-1" name="__codelineno-604-1" href="#__codelineno-604-1"></a><span class="o">&lt;</span><span class="n">view</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;.</span><span class="n">reshape</span><span class="p">(</span><span class="o">&lt;</span><span class="n">shape</span><span class="o">&gt;</span><span class="p">)</span>                      <span class="c1"># Also `&lt;array&gt;.shape = &lt;shape&gt;`.</span>
<a id="__codelineno-604-2" name="__codelineno-604-2" href="#__codelineno-604-2"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;.</span><span class="n">flatten</span><span class="p">()</span>                             <span class="c1"># Also `&lt;view&gt; = &lt;array&gt;.ravel()`.</span>
<a id="__codelineno-604-3" name="__codelineno-604-3" href="#__codelineno-604-3"></a><span class="o">&lt;</span><span class="n">view</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;.</span><span class="n">transpose</span><span class="p">()</span>                           <span class="c1"># Or: &lt;array&gt;.T</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-605-1" name="__codelineno-605-1" href="#__codelineno-605-1"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">copy</span><span class="o">/</span><span class="nb">abs</span><span class="o">/</span><span class="n">sqrt</span><span class="o">/</span><span class="n">log</span><span class="o">/</span><span class="n">int64</span><span class="p">(</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Returns new array of the same shape.</span>
<a id="__codelineno-605-2" name="__codelineno-605-2" href="#__codelineno-605-2"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;.</span><span class="n">sum</span><span class="o">/</span><span class="nb">max</span><span class="o">/</span><span class="n">mean</span><span class="o">/</span><span class="n">argmax</span><span class="o">/</span><span class="nb">all</span><span class="p">(</span><span class="n">axis</span><span class="p">)</span>         <span class="c1"># Passed dimension gets aggregated.</span>
<a id="__codelineno-605-3" name="__codelineno-605-3" href="#__codelineno-605-3"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">apply_along_axis</span><span class="p">(</span><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">axis</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">)</span>    <span class="c1"># Func can return a scalar or array.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-606-1" name="__codelineno-606-1" href="#__codelineno-606-1"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span><span class="o">&lt;</span><span class="n">list_of_arrays</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>      <span class="c1"># Links arrays along first axis (rows).</span>
<a id="__codelineno-606-2" name="__codelineno-606-2" href="#__codelineno-606-2"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">row_stack</span><span class="o">/</span><span class="n">column_stack</span><span class="p">(</span><span class="o">&lt;</span><span class="n">list_of_arrays</span><span class="o">&gt;</span><span class="p">)</span>   <span class="c1"># Treats 1d arrays as rows or columns.</span>
<a id="__codelineno-606-3" name="__codelineno-606-3" href="#__codelineno-606-3"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="o">/</span><span class="n">repeat</span><span class="p">(</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">list</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="n">axis</span><span class="p">])</span>  <span class="c1"># Tiles array or repeats its elements.</span>
</code></pre></div>
* <strong>Shape is a tuple of dimension sizes. A 100x50 RGB image has shape (50, 100, 3).</strong>
* <strong>Axis is an index of the dimension that gets aggregated. Leftmost dimension has index 0. Summing the RGB image along axis 2 will return a greyscale image with shape (50, 100).</strong></p>
<h3 id="indexing_1">Indexing<a class="headerlink" href="#indexing_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-607-1" name="__codelineno-607-1" href="#__codelineno-607-1"></a><span class="sr">&lt;el&gt;</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="n">row_index</span><span class="p">,</span><span class="w"> </span><span class="n">column_index</span><span class="p">]</span><span class="w">        </span><span class="c1"># &lt;3d_a&gt;[table_i, row_i, column_i]</span>
<a id="__codelineno-607-2" name="__codelineno-607-2" href="#__codelineno-607-2"></a><span class="sr">&lt;1d_view&gt;</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="n">row_index</span><span class="p">]</span><span class="w">                      </span><span class="c1"># &lt;3d_a&gt;[table_i, row_i]</span>
<a id="__codelineno-607-3" name="__codelineno-607-3" href="#__codelineno-607-3"></a><span class="sr">&lt;1d_view&gt;</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[:,</span><span class="w"> </span><span class="n">column_index</span><span class="p">]</span><span class="w">                </span><span class="c1"># &lt;3d_a&gt;[table_i, :, column_i]</span>
<a id="__codelineno-607-4" name="__codelineno-607-4" href="#__codelineno-607-4"></a><span class="sr">&lt;2d_view&gt;</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="n">rows_slice</span><span class="p">,</span><span class="w"> </span><span class="n">columns_slice</span><span class="p">]</span><span class="w">      </span><span class="c1"># &lt;3d_a&gt;[table_i, rows_s, columns_s]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-608-1" name="__codelineno-608-1" href="#__codelineno-608-1"></a><span class="sr">&lt;2d_array&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="n">row_indexes</span><span class="p">]</span><span class="w">                    </span><span class="c1"># &lt;3d_a&gt;[table_i/is, row_is]</span>
<a id="__codelineno-608-2" name="__codelineno-608-2" href="#__codelineno-608-2"></a><span class="sr">&lt;2d_array&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[:,</span><span class="w"> </span><span class="n">column_indexes</span><span class="p">]</span><span class="w">              </span><span class="c1"># &lt;3d_a&gt;[table_i/is, :, column_is]</span>
<a id="__codelineno-608-3" name="__codelineno-608-3" href="#__codelineno-608-3"></a><span class="sr">&lt;1d_array&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="n">row_indexes</span><span class="p">,</span><span class="w"> </span><span class="n">column_indexes</span><span class="p">]</span><span class="w">    </span><span class="c1"># &lt;3d_a&gt;[table_i/is, row_is, column_is]</span>
<a id="__codelineno-608-4" name="__codelineno-608-4" href="#__codelineno-608-4"></a><span class="sr">&lt;1d_array&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="n">row_indexes</span><span class="p">,</span><span class="w"> </span><span class="n">column_index</span><span class="p">]</span><span class="w">      </span><span class="c1"># &lt;3d_a&gt;[table_i/is, row_is, column_i]</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-609-1" name="__codelineno-609-1" href="#__codelineno-609-1"></a><span class="sr">&lt;2d_bools&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="sr">&lt;el/1d/2d_array&gt;</span><span class="w">              </span><span class="c1"># 1d_array must have size of a row.</span>
<a id="__codelineno-609-2" name="__codelineno-609-2" href="#__codelineno-609-2"></a><span class="sr">&lt;1d/2d_a&gt;</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="sr">&lt;2d_array&gt;</span><span class="p">[</span><span class="sr">&lt;2d/1d_bools&gt;</span><span class="p">]</span><span class="w">                  </span><span class="c1"># 1d_bools must have size of a column.</span>
</code></pre></div>
* <strong>Indexes should not be tuples because Python converts <code>'obj[i, j]'</code>  to <code>'obj[(i, j)]'</code>!</strong>
* <strong><code>':'</code> returns a slice of all dimension's indexes. Omitted dimensions default to <code>':'</code>.</strong>
* <strong>Any value that is broadcastable to the indexed shape can be assigned to the selection.</strong></p>
<h3 id="broadcasting_1">Broadcasting<a class="headerlink" href="#broadcasting_1" title="Permanent link">&para;</a></h3>
<p><strong>Set of rules by which NumPy functions operate on arrays of different sizes and/or dimensions.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-610-1" name="__codelineno-610-1" href="#__codelineno-610-1"></a><span class="n">left</span>  <span class="o">=</span> <span class="p">[[</span><span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.6</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.8</span><span class="p">]]</span>                           <span class="c1"># Shape: (3, 1)</span>
<a id="__codelineno-610-2" name="__codelineno-610-2" href="#__codelineno-610-2"></a><span class="n">right</span> <span class="o">=</span> <span class="p">[</span> <span class="mf">0.1</span> <span class="p">,</span>  <span class="mf">0.6</span> <span class="p">,</span>  <span class="mf">0.8</span> <span class="p">]</span>                           <span class="c1"># Shape: (3,)</span>
</code></pre></div>
<h4 id="1-if-array-shapes-differ-in-length-left-pad-the-shorter-shape-with-ones_1">1. If array shapes differ in length, left-pad the shorter shape with ones:<a class="headerlink" href="#1-if-array-shapes-differ-in-length-left-pad-the-shorter-shape-with-ones_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-611-1" name="__codelineno-611-1" href="#__codelineno-611-1"></a><span class="n">left</span>  <span class="o">=</span> <span class="p">[[</span><span class="mf">0.1</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.6</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.8</span><span class="p">]]</span>                           <span class="c1"># Shape: (3, 1)</span>
<a id="__codelineno-611-2" name="__codelineno-611-2" href="#__codelineno-611-2"></a><span class="n">right</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.1</span> <span class="p">,</span>  <span class="mf">0.6</span> <span class="p">,</span>  <span class="mf">0.8</span><span class="p">]]</span>                           <span class="c1"># Shape: (1, 3) &lt;- !</span>
</code></pre></div>
<h4 id="2-if-any-dimensions-differ-in-size-expand-the-ones-that-have-size-1-by-duplicating-their-elements_1">2. If any dimensions differ in size, expand the ones that have size 1 by duplicating their elements:<a class="headerlink" href="#2-if-any-dimensions-differ-in-size-expand-the-ones-that-have-size-1-by-duplicating-their-elements_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-612-1" name="__codelineno-612-1" href="#__codelineno-612-1"></a><span class="n">left</span>  <span class="o">=</span> <span class="p">[[</span><span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.1</span><span class="p">],</span>                             <span class="c1"># Shape: (3, 3) &lt;- !</span>
<a id="__codelineno-612-2" name="__codelineno-612-2" href="#__codelineno-612-2"></a>         <span class="p">[</span><span class="mf">0.6</span><span class="p">,</span>  <span class="mf">0.6</span><span class="p">,</span>  <span class="mf">0.6</span><span class="p">],</span>
<a id="__codelineno-612-3" name="__codelineno-612-3" href="#__codelineno-612-3"></a>         <span class="p">[</span><span class="mf">0.8</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">]]</span>
<a id="__codelineno-612-4" name="__codelineno-612-4" href="#__codelineno-612-4"></a>
<a id="__codelineno-612-5" name="__codelineno-612-5" href="#__codelineno-612-5"></a><span class="n">right</span> <span class="o">=</span> <span class="p">[[</span><span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.6</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">],</span>                             <span class="c1"># Shape: (3, 3) &lt;- !</span>
<a id="__codelineno-612-6" name="__codelineno-612-6" href="#__codelineno-612-6"></a>         <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.6</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">],</span>
<a id="__codelineno-612-7" name="__codelineno-612-7" href="#__codelineno-612-7"></a>         <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.6</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">]]</span>
</code></pre></div>
<h3 id="example_7">Example<a class="headerlink" href="#example_7" title="Permanent link">&para;</a></h3>
<h4 id="for-each-point-returns-index-of-its-nearest-point-01-06-08-1-2-1_1">For each point returns index of its nearest point (<code>[0.1, 0.6, 0.8] =&gt; [1, 2, 1]</code>):<a class="headerlink" href="#for-each-point-returns-index-of-its-nearest-point-01-06-08-1-2-1_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-613-1" name="__codelineno-613-1" href="#__codelineno-613-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">points</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">])</span>
<a id="__codelineno-613-2" name="__codelineno-613-2" href="#__codelineno-613-2"></a> <span class="p">[</span> <span class="mf">0.1</span><span class="p">,</span>  <span class="mf">0.6</span><span class="p">,</span>  <span class="mf">0.8</span><span class="p">]</span>
<a id="__codelineno-613-3" name="__codelineno-613-3" href="#__codelineno-613-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">wrapped_points</span> <span class="o">=</span> <span class="n">points</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-613-4" name="__codelineno-613-4" href="#__codelineno-613-4"></a><span class="p">[[</span> <span class="mf">0.1</span><span class="p">],</span>
<a id="__codelineno-613-5" name="__codelineno-613-5" href="#__codelineno-613-5"></a> <span class="p">[</span> <span class="mf">0.6</span><span class="p">],</span>
<a id="__codelineno-613-6" name="__codelineno-613-6" href="#__codelineno-613-6"></a> <span class="p">[</span> <span class="mf">0.8</span><span class="p">]]</span>
<a id="__codelineno-613-7" name="__codelineno-613-7" href="#__codelineno-613-7"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">distances</span> <span class="o">=</span> <span class="n">wrapped_points</span> <span class="o">-</span> <span class="n">points</span>
<a id="__codelineno-613-8" name="__codelineno-613-8" href="#__codelineno-613-8"></a><span class="p">[[</span> <span class="mf">0.</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.7</span><span class="p">],</span>
<a id="__codelineno-613-9" name="__codelineno-613-9" href="#__codelineno-613-9"></a> <span class="p">[</span> <span class="mf">0.5</span><span class="p">,</span>  <span class="mf">0.</span> <span class="p">,</span> <span class="o">-</span><span class="mf">0.2</span><span class="p">],</span>
<a id="__codelineno-613-10" name="__codelineno-613-10" href="#__codelineno-613-10"></a> <span class="p">[</span> <span class="mf">0.7</span><span class="p">,</span>  <span class="mf">0.2</span><span class="p">,</span>  <span class="mf">0.</span> <span class="p">]]</span>
<a id="__codelineno-613-11" name="__codelineno-613-11" href="#__codelineno-613-11"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">distances</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">distances</span><span class="p">)</span>
<a id="__codelineno-613-12" name="__codelineno-613-12" href="#__codelineno-613-12"></a><span class="p">[[</span> <span class="mf">0.</span> <span class="p">,</span>  <span class="mf">0.5</span><span class="p">,</span>  <span class="mf">0.7</span><span class="p">],</span>
<a id="__codelineno-613-13" name="__codelineno-613-13" href="#__codelineno-613-13"></a> <span class="p">[</span> <span class="mf">0.5</span><span class="p">,</span>  <span class="mf">0.</span> <span class="p">,</span>  <span class="mf">0.2</span><span class="p">],</span>
<a id="__codelineno-613-14" name="__codelineno-613-14" href="#__codelineno-613-14"></a> <span class="p">[</span> <span class="mf">0.7</span><span class="p">,</span>  <span class="mf">0.2</span><span class="p">,</span>  <span class="mf">0.</span> <span class="p">]]</span>
<a id="__codelineno-613-15" name="__codelineno-613-15" href="#__codelineno-613-15"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">distances</span><span class="p">[</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">inf</span>
<a id="__codelineno-613-16" name="__codelineno-613-16" href="#__codelineno-613-16"></a><span class="p">[[</span> <span class="n">inf</span><span class="p">,</span>  <span class="mf">0.5</span><span class="p">,</span>  <span class="mf">0.7</span><span class="p">],</span>
<a id="__codelineno-613-17" name="__codelineno-613-17" href="#__codelineno-613-17"></a> <span class="p">[</span> <span class="mf">0.5</span><span class="p">,</span>  <span class="n">inf</span><span class="p">,</span>  <span class="mf">0.2</span><span class="p">],</span>
<a id="__codelineno-613-18" name="__codelineno-613-18" href="#__codelineno-613-18"></a> <span class="p">[</span> <span class="mf">0.7</span><span class="p">,</span>  <span class="mf">0.2</span><span class="p">,</span>  <span class="n">inf</span><span class="p">]]</span>
<a id="__codelineno-613-19" name="__codelineno-613-19" href="#__codelineno-613-19"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">distances</span><span class="o">.</span><span class="n">argmin</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-613-20" name="__codelineno-613-20" href="#__codelineno-613-20"></a><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</code></pre></div>
<h2 id="image_1">Image<a class="headerlink" href="#image_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-614-1" name="__codelineno-614-1" href="#__codelineno-614-1"></a><span class="c1"># $ pip3 install pillow</span>
<a id="__codelineno-614-2" name="__codelineno-614-2" href="#__codelineno-614-2"></a><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-615-1" name="__codelineno-615-1" href="#__codelineno-615-1"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;&lt;mode&gt;&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>  <span class="c1"># Also `color=&lt;int/tuple/str&gt;`.</span>
<a id="__codelineno-615-2" name="__codelineno-615-2" href="#__codelineno-615-2"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                    <span class="c1"># Identifies format based on file contents.</span>
<a id="__codelineno-615-3" name="__codelineno-615-3" href="#__codelineno-615-3"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">convert</span><span class="p">(</span><span class="s1">&#39;&lt;mode&gt;&#39;</span><span class="p">)</span>             <span class="c1"># Converts image to the new mode.</span>
<a id="__codelineno-615-4" name="__codelineno-615-4" href="#__codelineno-615-4"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">save</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                            <span class="c1"># Selects format based on the path extension.</span>
<a id="__codelineno-615-5" name="__codelineno-615-5" href="#__codelineno-615-5"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">show</span><span class="p">()</span>                                  <span class="c1"># Opens image in the default preview app.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-616-1" name="__codelineno-616-1" href="#__codelineno-616-1"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">tuple</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">getpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>          <span class="c1"># Returns pixel&#39;s value (its color).</span>
<a id="__codelineno-616-2" name="__codelineno-616-2" href="#__codelineno-616-2"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">putpixel</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">/</span><span class="nb">tuple</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Updates pixel&#39;s value.</span>
<a id="__codelineno-616-3" name="__codelineno-616-3" href="#__codelineno-616-3"></a><span class="o">&lt;</span><span class="n">ImagingCore</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">getdata</span><span class="p">()</span>               <span class="c1"># Returns a flattened view of pixel values.</span>
<a id="__codelineno-616-4" name="__codelineno-616-4" href="#__codelineno-616-4"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">putdata</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">/</span><span class="n">ImagingCore</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Updates pixels with a copy of the sequence.</span>
<a id="__codelineno-616-5" name="__codelineno-616-5" href="#__codelineno-616-5"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">paste</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>                  <span class="c1"># Draws passed image at specified location.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-617-1" name="__codelineno-617-1" href="#__codelineno-617-1"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;.</span><span class="n">filter</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Filter</span><span class="o">&gt;</span><span class="p">)</span>              <span class="c1"># `&lt;Filter&gt; = ImageFilter.&lt;name&gt;([&lt;args&gt;])`</span>
<a id="__codelineno-617-2" name="__codelineno-617-2" href="#__codelineno-617-2"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Enhance</span><span class="o">&gt;.</span><span class="n">enhance</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">float</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># `&lt;Enhance&gt; = ImageEnhance.&lt;name&gt;(&lt;Image&gt;)`</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-618-1" name="__codelineno-618-1" href="#__codelineno-618-1"></a><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span><span class="p">)</span>                     <span class="c1"># Creates a 2d/3d NumPy array from the image.</span>
<a id="__codelineno-618-2" name="__codelineno-618-2" href="#__codelineno-618-2"></a><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">(</span><span class="o">&lt;</span><span class="n">array</span><span class="o">&gt;</span><span class="p">))</span>    <span class="c1"># Use `&lt;array&gt;.clip(0, 255)` to clip values.</span>
</code></pre></div>
<h3 id="modes_3">Modes<a class="headerlink" href="#modes_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>'L'</code> - 8-bit pixels, greyscale.</strong></li>
<li><strong><code>'RGB'</code> - 3x8-bit pixels, true color.</strong></li>
<li><strong><code>'RGBA'</code> - 4x8-bit pixels, true color with transparency mask.</strong></li>
<li><strong><code>'HSV'</code> - 3x8-bit pixels, Hue, Saturation, Value color space.</strong></li>
</ul>
<h3 id="examples_2">Examples<a class="headerlink" href="#examples_2" title="Permanent link">&para;</a></h3>
<h4 id="creates-a-png-image-of-a-rainbow-gradient_1">Creates a PNG image of a rainbow gradient:<a class="headerlink" href="#creates-a-png-image-of-a-rainbow-gradient_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-619-1" name="__codelineno-619-1" href="#__codelineno-619-1"></a><span class="n">WIDTH</span><span class="p">,</span> <span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">100</span>
<a id="__codelineno-619-2" name="__codelineno-619-2" href="#__codelineno-619-2"></a><span class="n">n_pixels</span> <span class="o">=</span> <span class="n">WIDTH</span> <span class="o">*</span> <span class="n">HEIGHT</span>
<a id="__codelineno-619-3" name="__codelineno-619-3" href="#__codelineno-619-3"></a><span class="n">hues</span> <span class="o">=</span> <span class="p">(</span><span class="mi">255</span> <span class="o">*</span> <span class="n">i</span><span class="o">/</span><span class="n">n_pixels</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_pixels</span><span class="p">))</span>
<a id="__codelineno-619-4" name="__codelineno-619-4" href="#__codelineno-619-4"></a><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;HSV&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">WIDTH</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">))</span>
<a id="__codelineno-619-5" name="__codelineno-619-5" href="#__codelineno-619-5"></a><span class="n">img</span><span class="o">.</span><span class="n">putdata</span><span class="p">([(</span><span class="nb">int</span><span class="p">(</span><span class="n">h</span><span class="p">),</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)</span> <span class="k">for</span> <span class="n">h</span> <span class="ow">in</span> <span class="n">hues</span><span class="p">])</span>
<a id="__codelineno-619-6" name="__codelineno-619-6" href="#__codelineno-619-6"></a><span class="n">img</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s1">&#39;RGB&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="s1">&#39;test.png&#39;</span><span class="p">)</span>
</code></pre></div>
<h4 id="adds-noise-to-the-png-image-and-displays-it_1">Adds noise to the PNG image and displays it:<a class="headerlink" href="#adds-noise-to-the-png-image-and-displays-it_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-620-1" name="__codelineno-620-1" href="#__codelineno-620-1"></a><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span>
<a id="__codelineno-620-2" name="__codelineno-620-2" href="#__codelineno-620-2"></a><span class="n">add_noise</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">value</span><span class="p">:</span> <span class="nb">max</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="n">value</span> <span class="o">+</span> <span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)))</span>
<a id="__codelineno-620-3" name="__codelineno-620-3" href="#__codelineno-620-3"></a><span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;test.png&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s1">&#39;HSV&#39;</span><span class="p">)</span>
<a id="__codelineno-620-4" name="__codelineno-620-4" href="#__codelineno-620-4"></a><span class="n">img</span><span class="o">.</span><span class="n">putdata</span><span class="p">([(</span><span class="n">add_noise</span><span class="p">(</span><span class="n">h</span><span class="p">),</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">img</span><span class="o">.</span><span class="n">getdata</span><span class="p">()])</span>
<a id="__codelineno-620-5" name="__codelineno-620-5" href="#__codelineno-620-5"></a><span class="n">img</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<h3 id="image-draw_1">Image Draw<a class="headerlink" href="#image-draw_1" title="Permanent link">&para;</a></h3>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-621-1" name="__codelineno-621-1" href="#__codelineno-621-1"></a><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">ImageDraw</span>
<a id="__codelineno-621-2" name="__codelineno-621-2" href="#__codelineno-621-2"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Image</span><span class="o">&gt;</span><span class="p">)</span>           <span class="c1"># Object for adding 2D graphics to the image.</span>
<a id="__codelineno-621-3" name="__codelineno-621-3" href="#__codelineno-621-3"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">point</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>                       <span class="c1"># Draws a point. Truncates floats into ints.</span>
<a id="__codelineno-621-4" name="__codelineno-621-4" href="#__codelineno-621-4"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">line</span><span class="p">((</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span> <span class="p">[,</span> <span class="o">...</span><span class="p">]))</span>      <span class="c1"># To get anti-aliasing use Image&#39;s resize().</span>
<a id="__codelineno-621-5" name="__codelineno-621-5" href="#__codelineno-621-5"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">arc</span><span class="p">((</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">),</span> <span class="n">deg1</span><span class="p">,</span> <span class="n">deg2</span><span class="p">)</span>   <span class="c1"># Always draws in clockwise direction.</span>
<a id="__codelineno-621-6" name="__codelineno-621-6" href="#__codelineno-621-6"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">rectangle</span><span class="p">((</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">))</span>         <span class="c1"># To rotate use Image&#39;s rotate() and paste().</span>
<a id="__codelineno-621-7" name="__codelineno-621-7" href="#__codelineno-621-7"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">polygon</span><span class="p">((</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="o">...</span><span class="p">))</span>      <span class="c1"># Last point gets connected to the first.</span>
<a id="__codelineno-621-8" name="__codelineno-621-8" href="#__codelineno-621-8"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">ellipse</span><span class="p">((</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">))</span>           <span class="c1"># To rotate use Image&#39;s rotate() and paste().</span>
<a id="__codelineno-621-9" name="__codelineno-621-9" href="#__codelineno-621-9"></a><span class="o">&lt;</span><span class="n">ImageDraw</span><span class="o">&gt;.</span><span class="n">text</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">text</span><span class="p">,</span> <span class="n">font</span><span class="o">=&lt;</span><span class="n">Font</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># `&lt;Font&gt; = ImageFont.truetype(&lt;path&gt;, size)`</span>
</code></pre></div>
* <strong>Use <code>'fill=&lt;color&gt;'</code> to set the primary color.</strong>
* <strong>Use <code>'width=&lt;int&gt;'</code> to set the width of lines or contours.</strong>
* <strong>Use <code>'outline=&lt;color&gt;'</code> to set the color of the contours.</strong>
* <strong>Color can be an int, tuple, <code>'#rrggbb[aa]'</code> string or a color name.</strong></p>
<h2 id="animation_1">Animation<a class="headerlink" href="#animation_1" title="Permanent link">&para;</a></h2>
<h4 id="creates-a-gif-of-a-bouncing-ball_1">Creates a GIF of a bouncing ball:<a class="headerlink" href="#creates-a-gif-of-a-bouncing-ball_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-622-1" name="__codelineno-622-1" href="#__codelineno-622-1"></a><span class="c1"># $ pip3 install imageio</span>
<a id="__codelineno-622-2" name="__codelineno-622-2" href="#__codelineno-622-2"></a><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span><span class="p">,</span> <span class="n">ImageDraw</span>
<a id="__codelineno-622-3" name="__codelineno-622-3" href="#__codelineno-622-3"></a><span class="kn">import</span> <span class="nn">imageio</span>
<a id="__codelineno-622-4" name="__codelineno-622-4" href="#__codelineno-622-4"></a>
<a id="__codelineno-622-5" name="__codelineno-622-5" href="#__codelineno-622-5"></a><span class="n">WIDTH</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">,</span> <span class="n">R</span> <span class="o">=</span> <span class="mi">126</span><span class="p">,</span> <span class="mi">126</span><span class="p">,</span> <span class="mi">10</span>
<a id="__codelineno-622-6" name="__codelineno-622-6" href="#__codelineno-622-6"></a><span class="n">frames</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-622-7" name="__codelineno-622-7" href="#__codelineno-622-7"></a><span class="k">for</span> <span class="n">velocity</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">):</span>
<a id="__codelineno-622-8" name="__codelineno-622-8" href="#__codelineno-622-8"></a>    <span class="n">y</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">velocity</span><span class="p">))</span>
<a id="__codelineno-622-9" name="__codelineno-622-9" href="#__codelineno-622-9"></a>    <span class="n">frame</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s1">&#39;L&#39;</span><span class="p">,</span> <span class="p">(</span><span class="n">WIDTH</span><span class="p">,</span> <span class="n">HEIGHT</span><span class="p">))</span>
<a id="__codelineno-622-10" name="__codelineno-622-10" href="#__codelineno-622-10"></a>    <span class="n">draw</span> <span class="o">=</span> <span class="n">ImageDraw</span><span class="o">.</span><span class="n">Draw</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
<a id="__codelineno-622-11" name="__codelineno-622-11" href="#__codelineno-622-11"></a>    <span class="n">draw</span><span class="o">.</span><span class="n">ellipse</span><span class="p">((</span><span class="n">WIDTH</span><span class="o">/</span><span class="mi">2</span><span class="o">-</span><span class="n">R</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">WIDTH</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="n">R</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="n">R</span><span class="o">*</span><span class="mi">2</span><span class="p">),</span> <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>
<a id="__codelineno-622-12" name="__codelineno-622-12" href="#__codelineno-622-12"></a>    <span class="n">frames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">frame</span><span class="p">)</span>
<a id="__codelineno-622-13" name="__codelineno-622-13" href="#__codelineno-622-13"></a><span class="n">frames</span> <span class="o">+=</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">frames</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-622-14" name="__codelineno-622-14" href="#__codelineno-622-14"></a><span class="n">imageio</span><span class="o">.</span><span class="n">mimsave</span><span class="p">(</span><span class="s1">&#39;test.gif&#39;</span><span class="p">,</span> <span class="n">frames</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.03</span><span class="p">)</span>
</code></pre></div>
<h2 id="audio_1">Audio<a class="headerlink" href="#audio_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-623-1" name="__codelineno-623-1" href="#__codelineno-623-1"></a><span class="kn">import</span> <span class="nn">wave</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-624-1" name="__codelineno-624-1" href="#__codelineno-624-1"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;</span>   <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;&lt;path&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span>   <span class="c1"># Opens the WAV file.</span>
<a id="__codelineno-624-2" name="__codelineno-624-2" href="#__codelineno-624-2"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">getframerate</span><span class="p">()</span>       <span class="c1"># Returns number of frames per second.</span>
<a id="__codelineno-624-3" name="__codelineno-624-3" href="#__codelineno-624-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">getnchannels</span><span class="p">()</span>       <span class="c1"># Returns number of samples per frame.</span>
<a id="__codelineno-624-4" name="__codelineno-624-4" href="#__codelineno-624-4"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">getsampwidth</span><span class="p">()</span>       <span class="c1"># Returns number of bytes per sample.</span>
<a id="__codelineno-624-5" name="__codelineno-624-5" href="#__codelineno-624-5"></a><span class="o">&lt;</span><span class="n">params</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">getparams</span><span class="p">()</span>          <span class="c1"># Returns collection of listed params.</span>
<a id="__codelineno-624-6" name="__codelineno-624-6" href="#__codelineno-624-6"></a><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">readframes</span><span class="p">(</span><span class="n">nframes</span><span class="p">)</span>  <span class="c1"># Returns next n frames. All if -1.</span>
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-625-1" name="__codelineno-625-1" href="#__codelineno-625-1"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;&lt;path&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span>     <span class="c1"># Opens WAV file for writing.</span>
<a id="__codelineno-625-2" name="__codelineno-625-2" href="#__codelineno-625-2"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">setframerate</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Pass 44100 for CD, 48000 for video.</span>
<a id="__codelineno-625-3" name="__codelineno-625-3" href="#__codelineno-625-3"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">setnchannels</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Pass 1 for mono, 2 for stereo.</span>
<a id="__codelineno-625-4" name="__codelineno-625-4" href="#__codelineno-625-4"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">setsampwidth</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Pass 1 for 8-bit sound, 2 for CD.</span>
<a id="__codelineno-625-5" name="__codelineno-625-5" href="#__codelineno-625-5"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">setparams</span><span class="p">(</span><span class="o">&lt;</span><span class="n">params</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Sets all parameters.</span>
<a id="__codelineno-625-6" name="__codelineno-625-6" href="#__codelineno-625-6"></a><span class="o">&lt;</span><span class="n">Wave</span><span class="o">&gt;.</span><span class="n">writeframes</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>            <span class="c1"># Appends frames to the file.</span>
</code></pre></div>
* <strong>Bytes object contains a sequence of frames, each consisting of one or more samples.</strong>
* <strong>In a stereo signal, the first sample of a frame belongs to the left channel.</strong>
* <strong>Each sample consists of one or more bytes that, when converted to an integer, indicate the displacement of a speaker membrane at a given moment.</strong>
* <strong>If sample width is one byte, then the integer should be encoded unsigned.</strong>
* <strong>For all other sizes, the integer should be encoded signed with little-endian byte order.</strong></p>
<h3 id="sample-values_1">Sample Values<a class="headerlink" href="#sample-values_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-626-1" name="__codelineno-626-1" href="#__codelineno-626-1"></a>+-----------+-----------+------+-----------+
<a id="__codelineno-626-2" name="__codelineno-626-2" href="#__codelineno-626-2"></a>| sampwidth |    min    | zero |    max    |
<a id="__codelineno-626-3" name="__codelineno-626-3" href="#__codelineno-626-3"></a>+-----------+-----------+------+-----------+
<a id="__codelineno-626-4" name="__codelineno-626-4" href="#__codelineno-626-4"></a>|     1     |         0 |  128 |       255 |
<a id="__codelineno-626-5" name="__codelineno-626-5" href="#__codelineno-626-5"></a>|     2     |    -32768 |    0 |     32767 |
<a id="__codelineno-626-6" name="__codelineno-626-6" href="#__codelineno-626-6"></a>|     3     |  -8388608 |    0 |   8388607 |
<a id="__codelineno-626-7" name="__codelineno-626-7" href="#__codelineno-626-7"></a>+-----------+-----------+------+-----------+
</code></pre></div>
<h3 id="read-float-samples-from-wav-file_1">Read Float Samples from WAV File<a class="headerlink" href="#read-float-samples-from-wav-file_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-627-1" name="__codelineno-627-1" href="#__codelineno-627-1"></a><span class="k">def</span> <span class="nf">read_wav_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-627-2" name="__codelineno-627-2" href="#__codelineno-627-2"></a>    <span class="k">def</span> <span class="nf">get_int</span><span class="p">(</span><span class="n">bytes_obj</span><span class="p">):</span>
<a id="__codelineno-627-3" name="__codelineno-627-3" href="#__codelineno-627-3"></a>        <span class="n">an_int</span> <span class="o">=</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">bytes_obj</span><span class="p">,</span> <span class="s1">&#39;little&#39;</span><span class="p">,</span> <span class="n">signed</span><span class="o">=</span><span class="p">(</span><span class="n">sampwidth</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-627-4" name="__codelineno-627-4" href="#__codelineno-627-4"></a>        <span class="k">return</span> <span class="n">an_int</span> <span class="o">-</span> <span class="mi">128</span> <span class="o">*</span> <span class="p">(</span><span class="n">sampwidth</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-627-5" name="__codelineno-627-5" href="#__codelineno-627-5"></a>    <span class="k">with</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-627-6" name="__codelineno-627-6" href="#__codelineno-627-6"></a>        <span class="n">sampwidth</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">getsampwidth</span><span class="p">()</span>
<a id="__codelineno-627-7" name="__codelineno-627-7" href="#__codelineno-627-7"></a>        <span class="n">frames</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readframes</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-627-8" name="__codelineno-627-8" href="#__codelineno-627-8"></a>    <span class="n">bytes_samples</span> <span class="o">=</span> <span class="p">(</span><span class="n">frames</span><span class="p">[</span><span class="n">i</span> <span class="p">:</span> <span class="n">i</span><span class="o">+</span><span class="n">sampwidth</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">frames</span><span class="p">),</span> <span class="n">sampwidth</span><span class="p">))</span>
<a id="__codelineno-627-9" name="__codelineno-627-9" href="#__codelineno-627-9"></a>    <span class="k">return</span> <span class="p">[</span><span class="n">get_int</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">sampwidth</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">bytes_samples</span><span class="p">]</span>
</code></pre></div>
<h3 id="write-float-samples-to-wav-file_1">Write Float Samples to WAV File<a class="headerlink" href="#write-float-samples-to-wav-file_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-628-1" name="__codelineno-628-1" href="#__codelineno-628-1"></a><span class="k">def</span> <span class="nf">write_to_wav_file</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">float_samples</span><span class="p">,</span> <span class="n">nchannels</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sampwidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">framerate</span><span class="o">=</span><span class="mi">44100</span><span class="p">):</span>
<a id="__codelineno-628-2" name="__codelineno-628-2" href="#__codelineno-628-2"></a>    <span class="k">def</span> <span class="nf">get_bytes</span><span class="p">(</span><span class="n">a_float</span><span class="p">):</span>
<a id="__codelineno-628-3" name="__codelineno-628-3" href="#__codelineno-628-3"></a>        <span class="n">a_float</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mf">2e-16</span><span class="p">,</span> <span class="n">a_float</span><span class="p">))</span>
<a id="__codelineno-628-4" name="__codelineno-628-4" href="#__codelineno-628-4"></a>        <span class="n">a_float</span> <span class="o">+=</span> <span class="n">sampwidth</span> <span class="o">==</span> <span class="mi">1</span>
<a id="__codelineno-628-5" name="__codelineno-628-5" href="#__codelineno-628-5"></a>        <span class="n">a_float</span> <span class="o">*=</span> <span class="nb">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">sampwidth</span> <span class="o">*</span> <span class="mi">8</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-628-6" name="__codelineno-628-6" href="#__codelineno-628-6"></a>        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">a_float</span><span class="p">)</span><span class="o">.</span><span class="n">to_bytes</span><span class="p">(</span><span class="n">sampwidth</span><span class="p">,</span> <span class="s1">&#39;little&#39;</span><span class="p">,</span> <span class="n">signed</span><span class="o">=</span><span class="p">(</span><span class="n">sampwidth</span> <span class="o">!=</span> <span class="mi">1</span><span class="p">))</span>
<a id="__codelineno-628-7" name="__codelineno-628-7" href="#__codelineno-628-7"></a>    <span class="k">with</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-628-8" name="__codelineno-628-8" href="#__codelineno-628-8"></a>        <span class="n">file</span><span class="o">.</span><span class="n">setnchannels</span><span class="p">(</span><span class="n">nchannels</span><span class="p">)</span>
<a id="__codelineno-628-9" name="__codelineno-628-9" href="#__codelineno-628-9"></a>        <span class="n">file</span><span class="o">.</span><span class="n">setsampwidth</span><span class="p">(</span><span class="n">sampwidth</span><span class="p">)</span>
<a id="__codelineno-628-10" name="__codelineno-628-10" href="#__codelineno-628-10"></a>        <span class="n">file</span><span class="o">.</span><span class="n">setframerate</span><span class="p">(</span><span class="n">framerate</span><span class="p">)</span>
<a id="__codelineno-628-11" name="__codelineno-628-11" href="#__codelineno-628-11"></a>        <span class="n">file</span><span class="o">.</span><span class="n">writeframes</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">get_bytes</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">float_samples</span><span class="p">))</span>
</code></pre></div>
<h3 id="examples_3">Examples<a class="headerlink" href="#examples_3" title="Permanent link">&para;</a></h3>
<h4 id="saves-a-440-hz-sine-wave-to-a-mono-wav-file_1">Saves a 440 Hz sine wave to a mono WAV file:<a class="headerlink" href="#saves-a-440-hz-sine-wave-to-a-mono-wav-file_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-629-1" name="__codelineno-629-1" href="#__codelineno-629-1"></a><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">pi</span><span class="p">,</span> <span class="n">sin</span>
<a id="__codelineno-629-2" name="__codelineno-629-2" href="#__codelineno-629-2"></a><span class="n">samples_f</span> <span class="o">=</span> <span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">pi</span> <span class="o">*</span> <span class="mi">440</span> <span class="o">/</span> <span class="mi">44100</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">100_000</span><span class="p">))</span>
<a id="__codelineno-629-3" name="__codelineno-629-3" href="#__codelineno-629-3"></a><span class="n">write_to_wav_file</span><span class="p">(</span><span class="s1">&#39;test.wav&#39;</span><span class="p">,</span> <span class="n">samples_f</span><span class="p">)</span>
</code></pre></div>
<h4 id="adds-noise-to-the-mono-wav-file_1">Adds noise to the mono WAV file:<a class="headerlink" href="#adds-noise-to-the-mono-wav-file_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-630-1" name="__codelineno-630-1" href="#__codelineno-630-1"></a><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">random</span>
<a id="__codelineno-630-2" name="__codelineno-630-2" href="#__codelineno-630-2"></a><span class="n">add_noise</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">value</span><span class="p">:</span> <span class="n">value</span> <span class="o">+</span> <span class="p">(</span><span class="n">random</span><span class="p">()</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.03</span>
<a id="__codelineno-630-3" name="__codelineno-630-3" href="#__codelineno-630-3"></a><span class="n">samples_f</span> <span class="o">=</span> <span class="p">(</span><span class="n">add_noise</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">read_wav_file</span><span class="p">(</span><span class="s1">&#39;test.wav&#39;</span><span class="p">))</span>
<a id="__codelineno-630-4" name="__codelineno-630-4" href="#__codelineno-630-4"></a><span class="n">write_to_wav_file</span><span class="p">(</span><span class="s1">&#39;test.wav&#39;</span><span class="p">,</span> <span class="n">samples_f</span><span class="p">)</span>
</code></pre></div>
<h4 id="plays-the-wav-file_1">Plays the WAV file:<a class="headerlink" href="#plays-the-wav-file_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-631-1" name="__codelineno-631-1" href="#__codelineno-631-1"></a><span class="c1"># $ pip3 install simpleaudio</span>
<a id="__codelineno-631-2" name="__codelineno-631-2" href="#__codelineno-631-2"></a><span class="kn">from</span> <span class="nn">simpleaudio</span> <span class="kn">import</span> <span class="n">play_buffer</span>
<a id="__codelineno-631-3" name="__codelineno-631-3" href="#__codelineno-631-3"></a><span class="k">with</span> <span class="n">wave</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;test.wav&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-631-4" name="__codelineno-631-4" href="#__codelineno-631-4"></a>    <span class="n">p</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">getparams</span><span class="p">()</span>
<a id="__codelineno-631-5" name="__codelineno-631-5" href="#__codelineno-631-5"></a>    <span class="n">frames</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">readframes</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-631-6" name="__codelineno-631-6" href="#__codelineno-631-6"></a>    <span class="n">play_buffer</span><span class="p">(</span><span class="n">frames</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">nchannels</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">sampwidth</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">framerate</span><span class="p">)</span><span class="o">.</span><span class="n">wait_done</span><span class="p">()</span>
</code></pre></div>
<h3 id="text-to-speech_1">Text to Speech<a class="headerlink" href="#text-to-speech_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-632-1" name="__codelineno-632-1" href="#__codelineno-632-1"></a><span class="c1"># $ pip3 install pyttsx3</span>
<a id="__codelineno-632-2" name="__codelineno-632-2" href="#__codelineno-632-2"></a><span class="kn">import</span> <span class="nn">pyttsx3</span>
<a id="__codelineno-632-3" name="__codelineno-632-3" href="#__codelineno-632-3"></a><span class="n">engine</span> <span class="o">=</span> <span class="n">pyttsx3</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<a id="__codelineno-632-4" name="__codelineno-632-4" href="#__codelineno-632-4"></a><span class="n">engine</span><span class="o">.</span><span class="n">say</span><span class="p">(</span><span class="s1">&#39;Sally sells seashells by the seashore.&#39;</span><span class="p">)</span>
<a id="__codelineno-632-5" name="__codelineno-632-5" href="#__codelineno-632-5"></a><span class="n">engine</span><span class="o">.</span><span class="n">runAndWait</span><span class="p">()</span>
</code></pre></div>
<h2 id="synthesizer_1">Synthesizer<a class="headerlink" href="#synthesizer_1" title="Permanent link">&para;</a></h2>
<h4 id="plays-popcorn-by-gershon-kingsley_1">Plays Popcorn by Gershon Kingsley:<a class="headerlink" href="#plays-popcorn-by-gershon-kingsley_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-633-1" name="__codelineno-633-1" href="#__codelineno-633-1"></a><span class="c1"># $ pip3 install simpleaudio</span>
<a id="__codelineno-633-2" name="__codelineno-633-2" href="#__codelineno-633-2"></a><span class="kn">import</span> <span class="nn">array</span><span class="o">,</span> <span class="nn">itertools</span> <span class="k">as</span> <span class="nn">it</span><span class="o">,</span> <span class="nn">math</span><span class="o">,</span> <span class="nn">simpleaudio</span>
<a id="__codelineno-633-3" name="__codelineno-633-3" href="#__codelineno-633-3"></a>
<a id="__codelineno-633-4" name="__codelineno-633-4" href="#__codelineno-633-4"></a><span class="n">F</span>  <span class="o">=</span> <span class="mi">44100</span>
<a id="__codelineno-633-5" name="__codelineno-633-5" href="#__codelineno-633-5"></a><span class="n">P1</span> <span class="o">=</span> <span class="s1">&#39;71♩,69♪,,71♩,66♪,,62♩,66♪,,59♩,,,71♩,69♪,,71♩,66♪,,62♩,66♪,,59♩,,,&#39;</span>
<a id="__codelineno-633-6" name="__codelineno-633-6" href="#__codelineno-633-6"></a><span class="n">P2</span> <span class="o">=</span> <span class="s1">&#39;71♩,73♪,,74♩,73♪,,74♪,,71♪,,73♩,71♪,,73♪,,69♪,,71♩,69♪,,71♪,,67♪,,71♩,,,&#39;</span>
<a id="__codelineno-633-7" name="__codelineno-633-7" href="#__codelineno-633-7"></a><span class="n">get_pause</span>   <span class="o">=</span> <span class="k">lambda</span> <span class="n">seconds</span><span class="p">:</span> <span class="n">it</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">seconds</span> <span class="o">*</span> <span class="n">F</span><span class="p">))</span>
<a id="__codelineno-633-8" name="__codelineno-633-8" href="#__codelineno-633-8"></a><span class="n">sin_f</span>       <span class="o">=</span> <span class="k">lambda</span> <span class="n">i</span><span class="p">,</span> <span class="n">hz</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">i</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">hz</span> <span class="o">/</span> <span class="n">F</span><span class="p">)</span>
<a id="__codelineno-633-9" name="__codelineno-633-9" href="#__codelineno-633-9"></a><span class="n">get_wave</span>    <span class="o">=</span> <span class="k">lambda</span> <span class="n">hz</span><span class="p">,</span> <span class="n">seconds</span><span class="p">:</span> <span class="p">(</span><span class="n">sin_f</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">hz</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">seconds</span> <span class="o">*</span> <span class="n">F</span><span class="p">)))</span>
<a id="__codelineno-633-10" name="__codelineno-633-10" href="#__codelineno-633-10"></a><span class="n">get_hz</span>      <span class="o">=</span> <span class="k">lambda</span> <span class="n">note</span><span class="p">:</span> <span class="mf">8.176</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">**</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">note</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span> <span class="o">/</span> <span class="mi">12</span><span class="p">)</span>
<a id="__codelineno-633-11" name="__codelineno-633-11" href="#__codelineno-633-11"></a><span class="n">get_sec</span>     <span class="o">=</span> <span class="k">lambda</span> <span class="n">note</span><span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span> <span class="k">if</span> <span class="s1">&#39;♩&#39;</span> <span class="ow">in</span> <span class="n">note</span> <span class="k">else</span> <span class="mi">1</span><span class="o">/</span><span class="mi">8</span>
<a id="__codelineno-633-12" name="__codelineno-633-12" href="#__codelineno-633-12"></a><span class="n">get_samples</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">note</span><span class="p">:</span> <span class="n">get_wave</span><span class="p">(</span><span class="n">get_hz</span><span class="p">(</span><span class="n">note</span><span class="p">),</span> <span class="n">get_sec</span><span class="p">(</span><span class="n">note</span><span class="p">))</span> <span class="k">if</span> <span class="n">note</span> <span class="k">else</span> <span class="n">get_pause</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">8</span><span class="p">)</span>
<a id="__codelineno-633-13" name="__codelineno-633-13" href="#__codelineno-633-13"></a><span class="n">samples_f</span>   <span class="o">=</span> <span class="n">it</span><span class="o">.</span><span class="n">chain</span><span class="o">.</span><span class="n">from_iterable</span><span class="p">(</span><span class="n">get_samples</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="p">(</span><span class="n">P1</span><span class="o">+</span><span class="n">P2</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">))</span>
<a id="__codelineno-633-14" name="__codelineno-633-14" href="#__codelineno-633-14"></a><span class="n">samples_i</span>   <span class="o">=</span> <span class="n">array</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">f</span> <span class="o">*</span> <span class="mi">30000</span><span class="p">)</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="n">samples_f</span><span class="p">))</span>
<a id="__codelineno-633-15" name="__codelineno-633-15" href="#__codelineno-633-15"></a><span class="n">simpleaudio</span><span class="o">.</span><span class="n">play_buffer</span><span class="p">(</span><span class="n">samples_i</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">F</span><span class="p">)</span><span class="o">.</span><span class="n">wait_done</span><span class="p">()</span>
</code></pre></div>
<h2 id="pygame_1">Pygame<a class="headerlink" href="#pygame_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-634-1" name="__codelineno-634-1" href="#__codelineno-634-1"></a><span class="c1"># $ pip3 install pygame</span>
<a id="__codelineno-634-2" name="__codelineno-634-2" href="#__codelineno-634-2"></a><span class="kn">import</span> <span class="nn">pygame</span> <span class="k">as</span> <span class="nn">pg</span>
<a id="__codelineno-634-3" name="__codelineno-634-3" href="#__codelineno-634-3"></a>
<a id="__codelineno-634-4" name="__codelineno-634-4" href="#__codelineno-634-4"></a><span class="n">pg</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<a id="__codelineno-634-5" name="__codelineno-634-5" href="#__codelineno-634-5"></a><span class="n">screen</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="mi">500</span><span class="p">,</span> <span class="mi">500</span><span class="p">))</span>
<a id="__codelineno-634-6" name="__codelineno-634-6" href="#__codelineno-634-6"></a><span class="n">rect</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="mi">240</span><span class="p">,</span> <span class="mi">240</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<a id="__codelineno-634-7" name="__codelineno-634-7" href="#__codelineno-634-7"></a><span class="k">while</span> <span class="ow">not</span> <span class="n">pg</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pg</span><span class="o">.</span><span class="n">QUIT</span><span class="p">):</span>
<a id="__codelineno-634-8" name="__codelineno-634-8" href="#__codelineno-634-8"></a>    <span class="n">deltas</span> <span class="o">=</span> <span class="p">{</span><span class="n">pg</span><span class="o">.</span><span class="n">K_UP</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">20</span><span class="p">),</span> <span class="n">pg</span><span class="o">.</span><span class="n">K_RIGHT</span><span class="p">:</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">pg</span><span class="o">.</span><span class="n">K_DOWN</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="n">pg</span><span class="o">.</span><span class="n">K_LEFT</span><span class="p">:</span> <span class="p">(</span><span class="o">-</span><span class="mi">20</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
<a id="__codelineno-634-9" name="__codelineno-634-9" href="#__codelineno-634-9"></a>    <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">pg</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pg</span><span class="o">.</span><span class="n">KEYDOWN</span><span class="p">):</span>
<a id="__codelineno-634-10" name="__codelineno-634-10" href="#__codelineno-634-10"></a>        <span class="n">dx</span><span class="p">,</span> <span class="n">dy</span> <span class="o">=</span> <span class="n">deltas</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">key</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<a id="__codelineno-634-11" name="__codelineno-634-11" href="#__codelineno-634-11"></a>        <span class="n">rect</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">move</span><span class="p">((</span><span class="n">dx</span><span class="p">,</span> <span class="n">dy</span><span class="p">))</span>
<a id="__codelineno-634-12" name="__codelineno-634-12" href="#__codelineno-634-12"></a>    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<a id="__codelineno-634-13" name="__codelineno-634-13" href="#__codelineno-634-13"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="p">(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">rect</span><span class="p">)</span>
<a id="__codelineno-634-14" name="__codelineno-634-14" href="#__codelineno-634-14"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
</code></pre></div>
<h3 id="rectangle_1">Rectangle<a class="headerlink" href="#rectangle_1" title="Permanent link">&para;</a></h3>
<p><strong>Object for storing rectangular coordinates.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-635-1" name="__codelineno-635-1" href="#__codelineno-635-1"></a><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>           <span class="c1"># Floats get truncated into ints.</span>
<a id="__codelineno-635-2" name="__codelineno-635-2" href="#__codelineno-635-2"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">x</span><span class="o">/</span><span class="n">y</span><span class="o">/</span><span class="n">centerx</span><span class="o">/</span><span class="n">centery</span><span class="o">/</span><span class="err">…</span>           <span class="c1"># Top, right, bottom, left. Allows assignments.</span>
<a id="__codelineno-635-3" name="__codelineno-635-3" href="#__codelineno-635-3"></a><span class="o">&lt;</span><span class="n">tup</span><span class="o">.&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">topleft</span><span class="o">/</span><span class="n">center</span><span class="o">/</span><span class="err">…</span>                <span class="c1"># Topright, bottomright, bottomleft. Same.</span>
<a id="__codelineno-635-4" name="__codelineno-635-4" href="#__codelineno-635-4"></a><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">move</span><span class="p">((</span><span class="n">delta_x</span><span class="p">,</span> <span class="n">delta_y</span><span class="p">))</span>        <span class="c1"># Use move_ip() to move in-place.</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-636-1" name="__codelineno-636-1" href="#__codelineno-636-1"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">collidepoint</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>            <span class="c1"># Checks if rectangle contains the point.</span>
<a id="__codelineno-636-2" name="__codelineno-636-2" href="#__codelineno-636-2"></a><span class="o">&lt;</span><span class="nb">bool</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">colliderect</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Checks if two rectangles overlap.</span>
<a id="__codelineno-636-3" name="__codelineno-636-3" href="#__codelineno-636-3"></a><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">collidelist</span><span class="p">(</span><span class="o">&lt;</span><span class="n">list_of_Rect</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># Returns index of first colliding Rect or -1.</span>
<a id="__codelineno-636-4" name="__codelineno-636-4" href="#__codelineno-636-4"></a><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;.</span><span class="n">collidelistall</span><span class="p">(</span><span class="o">&lt;</span><span class="n">list_of_Rect</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Returns indexes of all colliding rectangles.</span>
</code></pre></div>
<h3 id="surface_1">Surface<a class="headerlink" href="#surface_1" title="Permanent link">&para;</a></h3>
<p><strong>Object for representing images.</strong>
<div class="highlight"><pre><span></span><code><a id="__codelineno-637-1" name="__codelineno-637-1" href="#__codelineno-637-1"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>   <span class="c1"># Opens new window and returns its surface.</span>
<a id="__codelineno-637-2" name="__codelineno-637-2" href="#__codelineno-637-2"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">Surface</span><span class="p">((</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>            <span class="c1"># New RGB surface. RGBA if `flags=pg.SRCALPHA`.</span>
<a id="__codelineno-637-3" name="__codelineno-637-3" href="#__codelineno-637-3"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">/</span><span class="n">file</span><span class="o">&gt;</span><span class="p">)</span>             <span class="c1"># Loads the image. Format depends on source.</span>
<a id="__codelineno-637-4" name="__codelineno-637-4" href="#__codelineno-637-4"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">surfarray</span><span class="o">.</span><span class="n">make_surface</span><span class="p">(</span><span class="o">&lt;</span><span class="n">np_array</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Also `&lt;np_arr&gt; = surfarray.pixels3d(&lt;Surf&gt;)`.</span>
<a id="__codelineno-637-5" name="__codelineno-637-5" href="#__codelineno-637-5"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;.</span><span class="n">subsurface</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="p">)</span>              <span class="c1"># Creates a new surface from the cutout.</span>
</code></pre></div></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-638-1" name="__codelineno-638-1" href="#__codelineno-638-1"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;.</span><span class="n">fill</span><span class="p">(</span><span class="n">color</span><span class="p">)</span>                              <span class="c1"># Tuple, Color(&#39;#rrggbb[aa]&#39;) or Color(&lt;name&gt;).</span>
<a id="__codelineno-638-2" name="__codelineno-638-2" href="#__codelineno-638-2"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;.</span><span class="n">set_at</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">color</span><span class="p">)</span>                    <span class="c1"># Updates pixel. Also &lt;Surf&gt;.get_at((x, y)).</span>
<a id="__codelineno-638-3" name="__codelineno-638-3" href="#__codelineno-638-3"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;.</span><span class="n">blit</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>                     <span class="c1"># Draws passed surface to the surface.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-639-1" name="__codelineno-639-1" href="#__codelineno-639-1"></a><span class="kn">from</span> <span class="nn">pygame.transform</span> <span class="kn">import</span> <span class="n">scale</span><span class="p">,</span> <span class="o">...</span>
<a id="__codelineno-639-2" name="__codelineno-639-2" href="#__codelineno-639-2"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">scale</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">(</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">))</span>         <span class="c1"># Returns scaled surface.</span>
<a id="__codelineno-639-3" name="__codelineno-639-3" href="#__codelineno-639-3"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">rotate</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">anticlock_degrees</span><span class="p">)</span>      <span class="c1"># Returns rotated and scaled surface.</span>
<a id="__codelineno-639-4" name="__codelineno-639-4" href="#__codelineno-639-4"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">flip</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">x_bool</span><span class="p">,</span> <span class="n">y_bool</span><span class="p">)</span>           <span class="c1"># Returns flipped surface.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-640-1" name="__codelineno-640-1" href="#__codelineno-640-1"></a><span class="kn">from</span> <span class="nn">pygame.draw</span> <span class="kn">import</span> <span class="n">line</span><span class="p">,</span> <span class="o">...</span>
<a id="__codelineno-640-2" name="__codelineno-640-2" href="#__codelineno-640-2"></a><span class="n">line</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">),</span> <span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">),</span> <span class="n">width</span><span class="p">)</span>  <span class="c1"># Draws a line to the surface.</span>
<a id="__codelineno-640-3" name="__codelineno-640-3" href="#__codelineno-640-3"></a><span class="n">arc</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">from_rad</span><span class="p">,</span> <span class="n">to_rad</span><span class="p">)</span>    <span class="c1"># Also ellipse(&lt;Surf&gt;, color, &lt;Rect&gt;, width=0).</span>
<a id="__codelineno-640-4" name="__codelineno-640-4" href="#__codelineno-640-4"></a><span class="n">rect</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">color</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">Rect</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>            <span class="c1"># Also polygon(&lt;Surf&gt;, color, points, width=0).</span>
</code></pre></div>
<h3 id="font_1">Font<a class="headerlink" href="#font_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-641-1" name="__codelineno-641-1" href="#__codelineno-641-1"></a><span class="o">&lt;</span><span class="n">Font</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">font</span><span class="o">.</span><span class="n">Font</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">/</span><span class="n">file</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>        <span class="c1"># Loads TTF file. Pass None for default font.</span>
<a id="__codelineno-641-2" name="__codelineno-641-2" href="#__codelineno-641-2"></a><span class="o">&lt;</span><span class="n">Surf</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Font</span><span class="o">&gt;.</span><span class="n">render</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">antialias</span><span class="p">,</span> <span class="n">color</span><span class="p">)</span>  <span class="c1"># Background color can be specified at the end.</span>
</code></pre></div>
<h3 id="sound_1">Sound<a class="headerlink" href="#sound_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-642-1" name="__codelineno-642-1" href="#__codelineno-642-1"></a><span class="o">&lt;</span><span class="n">Sound</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">mixer</span><span class="o">.</span><span class="n">Sound</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">/</span><span class="n">file</span><span class="o">/</span><span class="nb">bytes</span><span class="o">&gt;</span><span class="p">)</span>     <span class="c1"># WAV file or bytes/array of signed shorts.</span>
<a id="__codelineno-642-2" name="__codelineno-642-2" href="#__codelineno-642-2"></a><span class="o">&lt;</span><span class="n">Sound</span><span class="o">&gt;.</span><span class="n">play</span><span class="o">/</span><span class="n">stop</span><span class="p">()</span>                             <span class="c1"># Also &lt;Sound&gt;.set_volume(&lt;float&gt;).</span>
</code></pre></div>
<h3 id="basic-mario-brothers-example_1">Basic Mario Brothers Example<a class="headerlink" href="#basic-mario-brothers-example_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-643-1" name="__codelineno-643-1" href="#__codelineno-643-1"></a><span class="kn">import</span> <span class="nn">collections</span><span class="o">,</span> <span class="nn">dataclasses</span><span class="o">,</span> <span class="nn">enum</span><span class="o">,</span> <span class="nn">io</span><span class="o">,</span> <span class="nn">itertools</span> <span class="k">as</span> <span class="nn">it</span><span class="o">,</span> <span class="nn">pygame</span> <span class="k">as</span> <span class="nn">pg</span><span class="o">,</span> <span class="nn">urllib.request</span>
<a id="__codelineno-643-2" name="__codelineno-643-2" href="#__codelineno-643-2"></a><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span>
<a id="__codelineno-643-3" name="__codelineno-643-3" href="#__codelineno-643-3"></a>
<a id="__codelineno-643-4" name="__codelineno-643-4" href="#__codelineno-643-4"></a><span class="n">P</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s1">&#39;P&#39;</span><span class="p">,</span> <span class="s1">&#39;x y&#39;</span><span class="p">)</span>          <span class="c1"># Position</span>
<a id="__codelineno-643-5" name="__codelineno-643-5" href="#__codelineno-643-5"></a><span class="n">D</span> <span class="o">=</span> <span class="n">enum</span><span class="o">.</span><span class="n">Enum</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="s1">&#39;n e s w&#39;</span><span class="p">)</span>                   <span class="c1"># Direction</span>
<a id="__codelineno-643-6" name="__codelineno-643-6" href="#__codelineno-643-6"></a><span class="n">W</span><span class="p">,</span> <span class="n">H</span><span class="p">,</span> <span class="n">MAX_S</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="n">P</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>                  <span class="c1"># Width, Height, Max speed</span>
<a id="__codelineno-643-7" name="__codelineno-643-7" href="#__codelineno-643-7"></a>
<a id="__codelineno-643-8" name="__codelineno-643-8" href="#__codelineno-643-8"></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-643-9" name="__codelineno-643-9" href="#__codelineno-643-9"></a>    <span class="k">def</span> <span class="nf">get_screen</span><span class="p">():</span>
<a id="__codelineno-643-10" name="__codelineno-643-10" href="#__codelineno-643-10"></a>        <span class="n">pg</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<a id="__codelineno-643-11" name="__codelineno-643-11" href="#__codelineno-643-11"></a>        <span class="k">return</span> <span class="n">pg</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">set_mode</span><span class="p">((</span><span class="n">W</span><span class="o">*</span><span class="mi">16</span><span class="p">,</span> <span class="n">H</span><span class="o">*</span><span class="mi">16</span><span class="p">))</span>
<a id="__codelineno-643-12" name="__codelineno-643-12" href="#__codelineno-643-12"></a>    <span class="k">def</span> <span class="nf">get_images</span><span class="p">():</span>
<a id="__codelineno-643-13" name="__codelineno-643-13" href="#__codelineno-643-13"></a>        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://gto76.github.io/python-cheatsheet/web/mario_bros.png&#39;</span>
<a id="__codelineno-643-14" name="__codelineno-643-14" href="#__codelineno-643-14"></a>        <span class="n">img</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">io</span><span class="o">.</span><span class="n">BytesIO</span><span class="p">(</span><span class="n">urllib</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()))</span>
<a id="__codelineno-643-15" name="__codelineno-643-15" href="#__codelineno-643-15"></a>        <span class="k">return</span> <span class="p">[</span><span class="n">img</span><span class="o">.</span><span class="n">subsurface</span><span class="p">(</span><span class="n">get_rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">img</span><span class="o">.</span><span class="n">get_width</span><span class="p">()</span> <span class="o">//</span> <span class="mi">16</span><span class="p">)]</span>
<a id="__codelineno-643-16" name="__codelineno-643-16" href="#__codelineno-643-16"></a>    <span class="k">def</span> <span class="nf">get_mario</span><span class="p">():</span>
<a id="__codelineno-643-17" name="__codelineno-643-17" href="#__codelineno-643-17"></a>        <span class="n">Mario</span> <span class="o">=</span> <span class="n">dataclasses</span><span class="o">.</span><span class="n">make_dataclass</span><span class="p">(</span><span class="s1">&#39;Mario&#39;</span><span class="p">,</span> <span class="s1">&#39;rect spd facing_left frame_cycle&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
<a id="__codelineno-643-18" name="__codelineno-643-18" href="#__codelineno-643-18"></a>        <span class="k">return</span> <span class="n">Mario</span><span class="p">(</span><span class="n">get_rect</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="kc">False</span><span class="p">,</span> <span class="n">it</span><span class="o">.</span><span class="n">cycle</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<a id="__codelineno-643-19" name="__codelineno-643-19" href="#__codelineno-643-19"></a>    <span class="k">def</span> <span class="nf">get_tiles</span><span class="p">():</span>
<a id="__codelineno-643-20" name="__codelineno-643-20" href="#__codelineno-643-20"></a>        <span class="n">border</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">W</span><span class="p">)</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">H</span><span class="p">)</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">W</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="ow">or</span> <span class="n">y</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">H</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span>
<a id="__codelineno-643-21" name="__codelineno-643-21" href="#__codelineno-643-21"></a>        <span class="n">platforms</span> <span class="o">=</span> <span class="p">[(</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">W</span><span class="o">-</span><span class="mi">2</span><span class="p">),</span> <span class="n">randint</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">H</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">W</span><span class="o">*</span><span class="n">H</span> <span class="o">//</span> <span class="mi">10</span><span class="p">)]</span>
<a id="__codelineno-643-22" name="__codelineno-643-22" href="#__codelineno-643-22"></a>        <span class="k">return</span> <span class="p">[</span><span class="n">get_rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="ow">in</span> <span class="n">border</span> <span class="o">+</span> <span class="n">platforms</span><span class="p">]</span>
<a id="__codelineno-643-23" name="__codelineno-643-23" href="#__codelineno-643-23"></a>    <span class="k">def</span> <span class="nf">get_rect</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<a id="__codelineno-643-24" name="__codelineno-643-24" href="#__codelineno-643-24"></a>        <span class="k">return</span> <span class="n">pg</span><span class="o">.</span><span class="n">Rect</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="mi">16</span><span class="p">,</span> <span class="n">y</span><span class="o">*</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">)</span>
<a id="__codelineno-643-25" name="__codelineno-643-25" href="#__codelineno-643-25"></a>    <span class="n">run</span><span class="p">(</span><span class="n">get_screen</span><span class="p">(),</span> <span class="n">get_images</span><span class="p">(),</span> <span class="n">get_mario</span><span class="p">(),</span> <span class="n">get_tiles</span><span class="p">())</span>
<a id="__codelineno-643-26" name="__codelineno-643-26" href="#__codelineno-643-26"></a>
<a id="__codelineno-643-27" name="__codelineno-643-27" href="#__codelineno-643-27"></a><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">images</span><span class="p">,</span> <span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">):</span>
<a id="__codelineno-643-28" name="__codelineno-643-28" href="#__codelineno-643-28"></a>    <span class="n">clock</span> <span class="o">=</span> <span class="n">pg</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">Clock</span><span class="p">()</span>
<a id="__codelineno-643-29" name="__codelineno-643-29" href="#__codelineno-643-29"></a>    <span class="n">pressed</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<a id="__codelineno-643-30" name="__codelineno-643-30" href="#__codelineno-643-30"></a>    <span class="k">while</span> <span class="ow">not</span> <span class="n">pg</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pg</span><span class="o">.</span><span class="n">QUIT</span><span class="p">)</span> <span class="ow">and</span> <span class="n">clock</span><span class="o">.</span><span class="n">tick</span><span class="p">(</span><span class="mi">28</span><span class="p">):</span>
<a id="__codelineno-643-31" name="__codelineno-643-31" href="#__codelineno-643-31"></a>        <span class="n">keys</span> <span class="o">=</span> <span class="p">{</span><span class="n">pg</span><span class="o">.</span><span class="n">K_UP</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">K_RIGHT</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">e</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">K_DOWN</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">s</span><span class="p">,</span> <span class="n">pg</span><span class="o">.</span><span class="n">K_LEFT</span><span class="p">:</span> <span class="n">D</span><span class="o">.</span><span class="n">w</span><span class="p">}</span>
<a id="__codelineno-643-32" name="__codelineno-643-32" href="#__codelineno-643-32"></a>        <span class="n">pressed</span> <span class="o">|=</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">pg</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pg</span><span class="o">.</span><span class="n">KEYDOWN</span><span class="p">)}</span>
<a id="__codelineno-643-33" name="__codelineno-643-33" href="#__codelineno-643-33"></a>        <span class="n">pressed</span> <span class="o">-=</span> <span class="p">{</span><span class="n">keys</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">e</span><span class="o">.</span><span class="n">key</span><span class="p">)</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">pg</span><span class="o">.</span><span class="n">event</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pg</span><span class="o">.</span><span class="n">KEYUP</span><span class="p">)}</span>
<a id="__codelineno-643-34" name="__codelineno-643-34" href="#__codelineno-643-34"></a>        <span class="n">update_speed</span><span class="p">(</span><span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">,</span> <span class="n">pressed</span><span class="p">)</span>
<a id="__codelineno-643-35" name="__codelineno-643-35" href="#__codelineno-643-35"></a>        <span class="n">update_position</span><span class="p">(</span><span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span>
<a id="__codelineno-643-36" name="__codelineno-643-36" href="#__codelineno-643-36"></a>        <span class="n">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">images</span><span class="p">,</span> <span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">,</span> <span class="n">pressed</span><span class="p">)</span>
<a id="__codelineno-643-37" name="__codelineno-643-37" href="#__codelineno-643-37"></a>
<a id="__codelineno-643-38" name="__codelineno-643-38" href="#__codelineno-643-38"></a><span class="k">def</span> <span class="nf">update_speed</span><span class="p">(</span><span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">,</span> <span class="n">pressed</span><span class="p">):</span>
<a id="__codelineno-643-39" name="__codelineno-643-39" href="#__codelineno-643-39"></a>    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">mario</span><span class="o">.</span><span class="n">spd</span>
<a id="__codelineno-643-40" name="__codelineno-643-40" href="#__codelineno-643-40"></a>    <span class="n">x</span> <span class="o">+=</span> <span class="mi">2</span> <span class="o">*</span> <span class="p">((</span><span class="n">D</span><span class="o">.</span><span class="n">e</span> <span class="ow">in</span> <span class="n">pressed</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">w</span> <span class="ow">in</span> <span class="n">pressed</span><span class="p">))</span>
<a id="__codelineno-643-41" name="__codelineno-643-41" href="#__codelineno-643-41"></a>    <span class="n">x</span> <span class="o">+=</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-</span> <span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-643-42" name="__codelineno-643-42" href="#__codelineno-643-42"></a>    <span class="n">y</span> <span class="o">+=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">D</span><span class="o">.</span><span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">get_boundaries</span><span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">rect</span><span class="p">,</span> <span class="n">tiles</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">n</span> <span class="ow">in</span> <span class="n">pressed</span><span class="p">)</span> <span class="o">*</span> <span class="o">-</span><span class="mi">10</span>
<a id="__codelineno-643-43" name="__codelineno-643-43" href="#__codelineno-643-43"></a>    <span class="n">mario</span><span class="o">.</span><span class="n">spd</span> <span class="o">=</span> <span class="n">P</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="n">MAX_S</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">MAX_S</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)),</span> <span class="n">y</span><span class="o">=</span><span class="nb">max</span><span class="p">(</span><span class="o">-</span><span class="n">MAX_S</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="nb">min</span><span class="p">(</span><span class="n">MAX_S</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">y</span><span class="p">)))</span>
<a id="__codelineno-643-44" name="__codelineno-643-44" href="#__codelineno-643-44"></a>
<a id="__codelineno-643-45" name="__codelineno-643-45" href="#__codelineno-643-45"></a><span class="k">def</span> <span class="nf">update_position</span><span class="p">(</span><span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">):</span>
<a id="__codelineno-643-46" name="__codelineno-643-46" href="#__codelineno-643-46"></a>    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">mario</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">topleft</span>
<a id="__codelineno-643-47" name="__codelineno-643-47" href="#__codelineno-643-47"></a>    <span class="n">n_steps</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">mario</span><span class="o">.</span><span class="n">spd</span><span class="p">)</span>
<a id="__codelineno-643-48" name="__codelineno-643-48" href="#__codelineno-643-48"></a>    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_steps</span><span class="p">):</span>
<a id="__codelineno-643-49" name="__codelineno-643-49" href="#__codelineno-643-49"></a>        <span class="n">mario</span><span class="o">.</span><span class="n">spd</span> <span class="o">=</span> <span class="n">stop_on_collision</span><span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">spd</span><span class="p">,</span> <span class="n">get_boundaries</span><span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">rect</span><span class="p">,</span> <span class="n">tiles</span><span class="p">))</span>
<a id="__codelineno-643-50" name="__codelineno-643-50" href="#__codelineno-643-50"></a>        <span class="n">mario</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">topleft</span> <span class="o">=</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">spd</span><span class="o">.</span><span class="n">x</span> <span class="o">/</span> <span class="n">n_steps</span><span class="p">),</span> <span class="n">y</span> <span class="o">+</span> <span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">spd</span><span class="o">.</span><span class="n">y</span> <span class="o">/</span> <span class="n">n_steps</span><span class="p">)</span>
<a id="__codelineno-643-51" name="__codelineno-643-51" href="#__codelineno-643-51"></a>
<a id="__codelineno-643-52" name="__codelineno-643-52" href="#__codelineno-643-52"></a><span class="k">def</span> <span class="nf">get_boundaries</span><span class="p">(</span><span class="n">rect</span><span class="p">,</span> <span class="n">tiles</span><span class="p">):</span>
<a id="__codelineno-643-53" name="__codelineno-643-53" href="#__codelineno-643-53"></a>    <span class="n">deltas</span> <span class="o">=</span> <span class="p">{</span><span class="n">D</span><span class="o">.</span><span class="n">n</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">D</span><span class="o">.</span><span class="n">e</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">D</span><span class="o">.</span><span class="n">s</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">D</span><span class="o">.</span><span class="n">w</span><span class="p">:</span> <span class="n">P</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)}</span>
<a id="__codelineno-643-54" name="__codelineno-643-54" href="#__codelineno-643-54"></a>    <span class="k">return</span> <span class="p">{</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span><span class="p">,</span> <span class="n">delta</span> <span class="ow">in</span> <span class="n">deltas</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">rect</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">delta</span><span class="p">)</span><span class="o">.</span><span class="n">collidelist</span><span class="p">(</span><span class="n">tiles</span><span class="p">)</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">}</span>
<a id="__codelineno-643-55" name="__codelineno-643-55" href="#__codelineno-643-55"></a>
<a id="__codelineno-643-56" name="__codelineno-643-56" href="#__codelineno-643-56"></a><span class="k">def</span> <span class="nf">stop_on_collision</span><span class="p">(</span><span class="n">spd</span><span class="p">,</span> <span class="n">bounds</span><span class="p">):</span>
<a id="__codelineno-643-57" name="__codelineno-643-57" href="#__codelineno-643-57"></a>    <span class="k">return</span> <span class="n">P</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span> <span class="k">if</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">w</span> <span class="ow">in</span> <span class="n">bounds</span> <span class="ow">and</span> <span class="n">spd</span><span class="o">.</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">e</span> <span class="ow">in</span> <span class="n">bounds</span> <span class="ow">and</span> <span class="n">spd</span><span class="o">.</span><span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">else</span> <span class="n">spd</span><span class="o">.</span><span class="n">x</span><span class="p">,</span>
<a id="__codelineno-643-58" name="__codelineno-643-58" href="#__codelineno-643-58"></a>             <span class="n">y</span><span class="o">=</span><span class="mi">0</span> <span class="k">if</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">n</span> <span class="ow">in</span> <span class="n">bounds</span> <span class="ow">and</span> <span class="n">spd</span><span class="o">.</span><span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">s</span> <span class="ow">in</span> <span class="n">bounds</span> <span class="ow">and</span> <span class="n">spd</span><span class="o">.</span><span class="n">y</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">else</span> <span class="n">spd</span><span class="o">.</span><span class="n">y</span><span class="p">)</span>
<a id="__codelineno-643-59" name="__codelineno-643-59" href="#__codelineno-643-59"></a>
<a id="__codelineno-643-60" name="__codelineno-643-60" href="#__codelineno-643-60"></a><span class="k">def</span> <span class="nf">draw</span><span class="p">(</span><span class="n">screen</span><span class="p">,</span> <span class="n">images</span><span class="p">,</span> <span class="n">mario</span><span class="p">,</span> <span class="n">tiles</span><span class="p">,</span> <span class="n">pressed</span><span class="p">):</span>
<a id="__codelineno-643-61" name="__codelineno-643-61" href="#__codelineno-643-61"></a>    <span class="k">def</span> <span class="nf">get_marios_image_index</span><span class="p">():</span>
<a id="__codelineno-643-62" name="__codelineno-643-62" href="#__codelineno-643-62"></a>        <span class="k">if</span> <span class="n">D</span><span class="o">.</span><span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">get_boundaries</span><span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">rect</span><span class="p">,</span> <span class="n">tiles</span><span class="p">):</span>
<a id="__codelineno-643-63" name="__codelineno-643-63" href="#__codelineno-643-63"></a>            <span class="k">return</span> <span class="mi">4</span>
<a id="__codelineno-643-64" name="__codelineno-643-64" href="#__codelineno-643-64"></a>        <span class="k">return</span> <span class="nb">next</span><span class="p">(</span><span class="n">mario</span><span class="o">.</span><span class="n">frame_cycle</span><span class="p">)</span> <span class="k">if</span> <span class="p">{</span><span class="n">D</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="n">D</span><span class="o">.</span><span class="n">e</span><span class="p">}</span> <span class="o">&amp;</span> <span class="n">pressed</span> <span class="k">else</span> <span class="mi">6</span>
<a id="__codelineno-643-65" name="__codelineno-643-65" href="#__codelineno-643-65"></a>    <span class="n">screen</span><span class="o">.</span><span class="n">fill</span><span class="p">((</span><span class="mi">85</span><span class="p">,</span> <span class="mi">168</span><span class="p">,</span> <span class="mi">255</span><span class="p">))</span>
<a id="__codelineno-643-66" name="__codelineno-643-66" href="#__codelineno-643-66"></a>    <span class="n">mario</span><span class="o">.</span><span class="n">facing_left</span> <span class="o">=</span> <span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">w</span> <span class="ow">in</span> <span class="n">pressed</span><span class="p">)</span> <span class="k">if</span> <span class="p">{</span><span class="n">D</span><span class="o">.</span><span class="n">w</span><span class="p">,</span> <span class="n">D</span><span class="o">.</span><span class="n">e</span><span class="p">}</span> <span class="o">&amp;</span> <span class="n">pressed</span> <span class="k">else</span> <span class="n">mario</span><span class="o">.</span><span class="n">facing_left</span>
<a id="__codelineno-643-67" name="__codelineno-643-67" href="#__codelineno-643-67"></a>    <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">images</span><span class="p">[</span><span class="n">get_marios_image_index</span><span class="p">()</span> <span class="o">+</span> <span class="n">mario</span><span class="o">.</span><span class="n">facing_left</span> <span class="o">*</span> <span class="mi">9</span><span class="p">],</span> <span class="n">mario</span><span class="o">.</span><span class="n">rect</span><span class="p">)</span>
<a id="__codelineno-643-68" name="__codelineno-643-68" href="#__codelineno-643-68"></a>    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">tiles</span><span class="p">:</span>
<a id="__codelineno-643-69" name="__codelineno-643-69" href="#__codelineno-643-69"></a>        <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="n">images</span><span class="p">[</span><span class="mi">18</span> <span class="k">if</span> <span class="n">t</span><span class="o">.</span><span class="n">x</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">W</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">16</span><span class="p">]</span> <span class="ow">or</span> <span class="n">t</span><span class="o">.</span><span class="n">y</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">(</span><span class="n">H</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="mi">16</span><span class="p">]</span> <span class="k">else</span> <span class="mi">19</span><span class="p">],</span> <span class="n">t</span><span class="p">)</span>
<a id="__codelineno-643-70" name="__codelineno-643-70" href="#__codelineno-643-70"></a>    <span class="n">pg</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">flip</span><span class="p">()</span>
<a id="__codelineno-643-71" name="__codelineno-643-71" href="#__codelineno-643-71"></a>
<a id="__codelineno-643-72" name="__codelineno-643-72" href="#__codelineno-643-72"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<a id="__codelineno-643-73" name="__codelineno-643-73" href="#__codelineno-643-73"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h2 id="pandas_1">Pandas<a class="headerlink" href="#pandas_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-644-1" name="__codelineno-644-1" href="#__codelineno-644-1"></a><span class="c1"># $ pip3 install pandas matplotlib</span>
<a id="__codelineno-644-2" name="__codelineno-644-2" href="#__codelineno-644-2"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span><span class="o">,</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</code></pre></div>
<h3 id="series_1">Series<a class="headerlink" href="#series_1" title="Permanent link">&para;</a></h3>
<p><strong>Ordered dictionary with a name.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-645-1" name="__codelineno-645-1" href="#__codelineno-645-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<a id="__codelineno-645-2" name="__codelineno-645-2" href="#__codelineno-645-2"></a><span class="n">x</span>    <span class="mi">1</span>
<a id="__codelineno-645-3" name="__codelineno-645-3" href="#__codelineno-645-3"></a><span class="n">y</span>    <span class="mi">2</span>
<a id="__codelineno-645-4" name="__codelineno-645-4" href="#__codelineno-645-4"></a><span class="n">Name</span><span class="p">:</span> <span class="n">a</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">int64</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-646-1" name="__codelineno-646-1" href="#__codelineno-646-1"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Assigns RangeIndex starting at 0.</span>
<a id="__codelineno-646-2" name="__codelineno-646-2" href="#__codelineno-646-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Takes dictionary&#39;s keys for index.</span>
<a id="__codelineno-646-3" name="__codelineno-646-3" href="#__codelineno-646-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">dict</span><span class="o">/</span><span class="n">Series</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">index</span><span class="o">=&lt;</span><span class="nb">list</span><span class="o">&gt;</span><span class="p">)</span>  <span class="c1"># Only keeps items with keys specified in index.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-647-1" name="__codelineno-647-1" href="#__codelineno-647-1"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>                           <span class="c1"># Or: &lt;Sr&gt;.iloc[index]</span>
<a id="__codelineno-647-2" name="__codelineno-647-2" href="#__codelineno-647-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[</span><span class="n">keys</span><span class="p">]</span>                          <span class="c1"># Or: &lt;Sr&gt;.iloc[indexes]</span>
<a id="__codelineno-647-3" name="__codelineno-647-3" href="#__codelineno-647-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[</span><span class="n">from_key</span> <span class="p">:</span> <span class="n">to_key_inclusive</span><span class="p">]</span>   <span class="c1"># Or: &lt;Sr&gt;.iloc[from_i : to_i_exclusive]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-648-1" name="__codelineno-648-1" href="#__codelineno-648-1"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span><span class="p">[</span><span class="n">key</span><span class="o">/</span><span class="n">index</span><span class="p">]</span>                         <span class="c1"># Or: &lt;Sr&gt;.key</span>
<a id="__codelineno-648-2" name="__codelineno-648-2" href="#__codelineno-648-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span><span class="p">[</span><span class="n">keys</span><span class="o">/</span><span class="n">indexes</span><span class="p">]</span>                      <span class="c1"># Or: &lt;Sr&gt;[&lt;keys_slice/slice&gt;]</span>
<a id="__codelineno-648-3" name="__codelineno-648-3" href="#__codelineno-648-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span><span class="p">[</span><span class="n">bools</span><span class="p">]</span>                             <span class="c1"># Or: &lt;Sr&gt;.loc/iloc[bools]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-649-1" name="__codelineno-649-1" href="#__codelineno-649-1"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">/</span><span class="n">Sr</span><span class="o">&gt;</span>                          <span class="c1"># Returns a Series of bools.</span>
<a id="__codelineno-649-2" name="__codelineno-649-2" href="#__codelineno-649-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">+</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">/</span><span class="n">Sr</span><span class="o">&gt;</span>                          <span class="c1"># Items with non-matching keys get value NaN.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-650-1" name="__codelineno-650-1" href="#__codelineno-650-1"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="o">&lt;</span><span class="n">coll_of_Sr</span><span class="o">&gt;</span><span class="p">)</span>                 <span class="c1"># Concats multiple series into one long Series.</span>
<a id="__codelineno-650-2" name="__codelineno-650-2" href="#__codelineno-650-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">combine_first</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span><span class="p">)</span>                <span class="c1"># Adds items that are not yet present.</span>
<a id="__codelineno-650-3" name="__codelineno-650-3" href="#__codelineno-650-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">update</span><span class="p">(</span><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span><span class="p">)</span>                              <span class="c1"># Updates items that are already present.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-651-1" name="__codelineno-651-1" href="#__codelineno-651-1"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">plot</span><span class="o">.</span><span class="n">line</span><span class="o">/</span><span class="n">area</span><span class="o">/</span><span class="n">bar</span><span class="o">/</span><span class="n">pie</span><span class="o">/</span><span class="n">hist</span><span class="p">()</span>             <span class="c1"># Generates a Matplotlib plot.</span>
<a id="__codelineno-651-2" name="__codelineno-651-2" href="#__codelineno-651-2"></a><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                                     <span class="c1"># Displays the plot. Also plt.savefig(&lt;path&gt;).</span>
</code></pre></div>
<h4 id="series-aggregate-transform-map_1">Series — Aggregate, Transform, Map:<a class="headerlink" href="#series-aggregate-transform-map_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-652-1" name="__codelineno-652-1" href="#__codelineno-652-1"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">sum</span><span class="o">/</span><span class="nb">max</span><span class="o">/</span><span class="n">mean</span><span class="o">/</span><span class="n">idxmax</span><span class="o">/</span><span class="nb">all</span><span class="p">()</span>          <span class="c1"># Or: &lt;Sr&gt;.agg(lambda &lt;Sr&gt;: &lt;el&gt;)</span>
<a id="__codelineno-652-2" name="__codelineno-652-2" href="#__codelineno-652-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">rank</span><span class="o">/</span><span class="n">diff</span><span class="o">/</span><span class="n">cumsum</span><span class="o">/</span><span class="n">ffill</span><span class="o">/</span><span class="n">interplt</span><span class="p">()</span>  <span class="c1"># Or: &lt;Sr&gt;.agg/transform(lambda &lt;Sr&gt;: &lt;Sr&gt;)</span>
<a id="__codelineno-652-3" name="__codelineno-652-3" href="#__codelineno-652-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;.</span><span class="n">fillna</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Or: &lt;Sr&gt;.agg/transform/map(lambda &lt;el&gt;: &lt;el&gt;)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-653-1" name="__codelineno-653-1" href="#__codelineno-653-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">sr</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
<a id="__codelineno-653-2" name="__codelineno-653-2" href="#__codelineno-653-2"></a><span class="n">x</span>    <span class="mi">2</span>
<a id="__codelineno-653-3" name="__codelineno-653-3" href="#__codelineno-653-3"></a><span class="n">y</span>    <span class="mi">3</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-654-1" name="__codelineno-654-1" href="#__codelineno-654-1"></a>+---------------+-------------+-------------+---------------+
<a id="__codelineno-654-2" name="__codelineno-654-2" href="#__codelineno-654-2"></a>|               |    &#39;sum&#39;    |   [&#39;sum&#39;]   | {&#39;s&#39;: &#39;sum&#39;}  |
<a id="__codelineno-654-3" name="__codelineno-654-3" href="#__codelineno-654-3"></a>+---------------+-------------+-------------+---------------+
<a id="__codelineno-654-4" name="__codelineno-654-4" href="#__codelineno-654-4"></a>| sr.apply(…)   |      5      |    sum  5   |     s  5      |
<a id="__codelineno-654-5" name="__codelineno-654-5" href="#__codelineno-654-5"></a>| sr.agg(…)     |             |             |               |
<a id="__codelineno-654-6" name="__codelineno-654-6" href="#__codelineno-654-6"></a>+---------------+-------------+-------------+---------------+
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-655-1" name="__codelineno-655-1" href="#__codelineno-655-1"></a>+---------------+-------------+-------------+---------------+
<a id="__codelineno-655-2" name="__codelineno-655-2" href="#__codelineno-655-2"></a>|               |    &#39;rank&#39;   |   [&#39;rank&#39;]  | {&#39;r&#39;: &#39;rank&#39;} |
<a id="__codelineno-655-3" name="__codelineno-655-3" href="#__codelineno-655-3"></a>+---------------+-------------+-------------+---------------+
<a id="__codelineno-655-4" name="__codelineno-655-4" href="#__codelineno-655-4"></a>| sr.apply(…)   |             |      rank   |               |
<a id="__codelineno-655-5" name="__codelineno-655-5" href="#__codelineno-655-5"></a>| sr.agg(…)     |     x  1    |   x     1   |    r  x  1    |
<a id="__codelineno-655-6" name="__codelineno-655-6" href="#__codelineno-655-6"></a>|               |     y  2    |   y     2   |       y  2    |
<a id="__codelineno-655-7" name="__codelineno-655-7" href="#__codelineno-655-7"></a>+---------------+-------------+-------------+---------------+
</code></pre></div>
* <strong>Keys/indexes/bools can't be tuples because <code>'obj[x, y]'</code> is converted to <code>'obj[(x, y)]'</code>!</strong>
* <strong>Methods ffill(), interpolate(), fillna() and dropna() accept <code>'inplace=True'</code>.</strong>
* <strong>Last result has a hierarchical index. Use <code>'&lt;Sr&gt;[key_1, key_2]'</code> to get its values.</strong></p>
<h3 id="dataframe_1">DataFrame<a class="headerlink" href="#dataframe_1" title="Permanent link">&para;</a></h3>
<p><strong>Table with labeled rows and columns.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-656-1" name="__codelineno-656-1" href="#__codelineno-656-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
<a id="__codelineno-656-2" name="__codelineno-656-2" href="#__codelineno-656-2"></a>   <span class="n">x</span>  <span class="n">y</span>
<a id="__codelineno-656-3" name="__codelineno-656-3" href="#__codelineno-656-3"></a><span class="n">a</span>  <span class="mi">1</span>  <span class="mi">2</span>
<a id="__codelineno-656-4" name="__codelineno-656-4" href="#__codelineno-656-4"></a><span class="n">b</span>  <span class="mi">3</span>  <span class="mi">4</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-657-1" name="__codelineno-657-1" href="#__codelineno-657-1"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="o">&lt;</span><span class="n">list_of_rows</span><span class="o">&gt;</span><span class="p">)</span>         <span class="c1"># Rows can be either lists, dicts or series.</span>
<a id="__codelineno-657-2" name="__codelineno-657-2" href="#__codelineno-657-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="o">&lt;</span><span class="n">dict_of_columns</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Columns can be either lists, dicts or series.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-658-1" name="__codelineno-658-1" href="#__codelineno-658-1"></a><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_key</span><span class="p">,</span> <span class="n">column_key</span><span class="p">]</span>        <span class="c1"># Or: &lt;DF&gt;.iloc[row_index, column_index]</span>
<a id="__codelineno-658-2" name="__codelineno-658-2" href="#__codelineno-658-2"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_key</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>                  <span class="c1"># Or: &lt;DF&gt;.iloc[row_index/es]</span>
<a id="__codelineno-658-3" name="__codelineno-658-3" href="#__codelineno-658-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[:,</span> <span class="n">column_key</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>            <span class="c1"># Or: &lt;DF&gt;.iloc[:, column_index/es]</span>
<a id="__codelineno-658-4" name="__codelineno-658-4" href="#__codelineno-658-4"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">loc</span><span class="p">[</span><span class="n">row_bools</span><span class="p">,</span> <span class="n">column_bools</span><span class="p">]</span>    <span class="c1"># Or: &lt;DF&gt;.iloc[row_bools, column_bools]</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-659-1" name="__codelineno-659-1" href="#__codelineno-659-1"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span><span class="p">[</span><span class="n">column_key</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>                   <span class="c1"># Or: &lt;DF&gt;.column_key</span>
<a id="__codelineno-659-2" name="__codelineno-659-2" href="#__codelineno-659-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span><span class="p">[</span><span class="n">row_bools</span><span class="p">]</span>                      <span class="c1"># Keeps rows as specified by bools.</span>
<a id="__codelineno-659-3" name="__codelineno-659-3" href="#__codelineno-659-3"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span><span class="p">[</span><span class="o">&lt;</span><span class="n">DF_of_bools</span><span class="o">&gt;</span><span class="p">]</span>                  <span class="c1"># Assigns NaN to items that are False in bools.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-660-1" name="__codelineno-660-1" href="#__codelineno-660-1"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">/</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">&gt;</span>                    <span class="c1"># Returns DF of bools. Sr is treated as a row.</span>
<a id="__codelineno-660-2" name="__codelineno-660-2" href="#__codelineno-660-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">+</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">/</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">&gt;</span>                    <span class="c1"># Items with non-matching keys get value NaN.</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-661-1" name="__codelineno-661-1" href="#__codelineno-661-1"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">set_index</span><span class="p">(</span><span class="n">column_key</span><span class="p">)</span>           <span class="c1"># Replaces row keys with values from the column.</span>
<a id="__codelineno-661-2" name="__codelineno-661-2" href="#__codelineno-661-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>         <span class="c1"># Drops or moves row keys to column named index.</span>
<a id="__codelineno-661-3" name="__codelineno-661-3" href="#__codelineno-661-3"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">sort_index</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>      <span class="c1"># Sorts rows by row keys. Use `axis=1` for cols.</span>
<a id="__codelineno-661-4" name="__codelineno-661-4" href="#__codelineno-661-4"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span>    <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">column_key</span><span class="o">/</span><span class="n">s</span><span class="p">)</span>       <span class="c1"># Sorts rows by passed column/s. Also `axis=1`.</span>
</code></pre></div>
<h4 id="dataframe-merge-join-concat_1">DataFrame — Merge, Join, Concat:<a class="headerlink" href="#dataframe-merge-join-concat_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-662-1" name="__codelineno-662-1" href="#__codelineno-662-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">l</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
<a id="__codelineno-662-2" name="__codelineno-662-2" href="#__codelineno-662-2"></a>   <span class="n">x</span>  <span class="n">y</span>
<a id="__codelineno-662-3" name="__codelineno-662-3" href="#__codelineno-662-3"></a><span class="n">a</span>  <span class="mi">1</span>  <span class="mi">2</span>
<a id="__codelineno-662-4" name="__codelineno-662-4" href="#__codelineno-662-4"></a><span class="n">b</span>  <span class="mi">3</span>  <span class="mi">4</span>
<a id="__codelineno-662-5" name="__codelineno-662-5" href="#__codelineno-662-5"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">r</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">]],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">])</span>
<a id="__codelineno-662-6" name="__codelineno-662-6" href="#__codelineno-662-6"></a>   <span class="n">y</span>  <span class="n">z</span>
<a id="__codelineno-662-7" name="__codelineno-662-7" href="#__codelineno-662-7"></a><span class="n">b</span>  <span class="mi">4</span>  <span class="mi">5</span>
<a id="__codelineno-662-8" name="__codelineno-662-8" href="#__codelineno-662-8"></a><span class="n">c</span>  <span class="mi">6</span>  <span class="mi">7</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-663-1" name="__codelineno-663-1" href="#__codelineno-663-1"></a>+------------------------+---------------+------------+------------+--------------------------+
<a id="__codelineno-663-2" name="__codelineno-663-2" href="#__codelineno-663-2"></a>|                        |    &#39;outer&#39;    |   &#39;inner&#39;  |   &#39;left&#39;   |       Description        |
<a id="__codelineno-663-3" name="__codelineno-663-3" href="#__codelineno-663-3"></a>+------------------------+---------------+------------+------------+--------------------------+
<a id="__codelineno-663-4" name="__codelineno-663-4" href="#__codelineno-663-4"></a>| l.merge(r, on=&#39;y&#39;,     |    x   y   z  | x   y   z  | x   y   z  | Merges on column if &#39;on&#39; |
<a id="__codelineno-663-5" name="__codelineno-663-5" href="#__codelineno-663-5"></a>|            how=…)      | 0  1   2   .  | 3   4   5  | 1   2   .  | or &#39;left/right_on&#39; are   |
<a id="__codelineno-663-6" name="__codelineno-663-6" href="#__codelineno-663-6"></a>|                        | 1  3   4   5  |            | 3   4   5  | set, else on shared cols.|
<a id="__codelineno-663-7" name="__codelineno-663-7" href="#__codelineno-663-7"></a>|                        | 2  .   6   7  |            |            | Uses &#39;inner&#39; by default. |
<a id="__codelineno-663-8" name="__codelineno-663-8" href="#__codelineno-663-8"></a>+------------------------+---------------+------------+------------+--------------------------+
<a id="__codelineno-663-9" name="__codelineno-663-9" href="#__codelineno-663-9"></a>| l.join(r, lsuffix=&#39;l&#39;, |    x yl yr  z |            | x yl yr  z | Merges on row keys.      |
<a id="__codelineno-663-10" name="__codelineno-663-10" href="#__codelineno-663-10"></a>|           rsuffix=&#39;r&#39;, | a  1  2  .  . | x yl yr  z | 1  2  .  . | Uses &#39;left&#39; by default.  |
<a id="__codelineno-663-11" name="__codelineno-663-11" href="#__codelineno-663-11"></a>|           how=…)       | b  3  4  4  5 | 3  4  4  5 | 3  4  4  5 | If r is a Series, it is  |
<a id="__codelineno-663-12" name="__codelineno-663-12" href="#__codelineno-663-12"></a>|                        | c  .  .  6  7 |            |            | treated as a column.     |
<a id="__codelineno-663-13" name="__codelineno-663-13" href="#__codelineno-663-13"></a>+------------------------+---------------+------------+------------+--------------------------+
<a id="__codelineno-663-14" name="__codelineno-663-14" href="#__codelineno-663-14"></a>| pd.concat([l, r],      |    x   y   z  |     y      |            | Adds rows at the bottom. |
<a id="__codelineno-663-15" name="__codelineno-663-15" href="#__codelineno-663-15"></a>|           axis=0,      | a  1   2   .  |     2      |            | Uses &#39;outer&#39; by default. |
<a id="__codelineno-663-16" name="__codelineno-663-16" href="#__codelineno-663-16"></a>|           join=…)      | b  3   4   .  |     4      |            | A Series is treated as a |
<a id="__codelineno-663-17" name="__codelineno-663-17" href="#__codelineno-663-17"></a>|                        | b  .   4   5  |     4      |            | column. To add a row use |
<a id="__codelineno-663-18" name="__codelineno-663-18" href="#__codelineno-663-18"></a>|                        | c  .   6   7  |     6      |            | pd.concat([l, DF([sr])]).|
<a id="__codelineno-663-19" name="__codelineno-663-19" href="#__codelineno-663-19"></a>+------------------------+---------------+------------+------------+--------------------------+
<a id="__codelineno-663-20" name="__codelineno-663-20" href="#__codelineno-663-20"></a>| pd.concat([l, r],      |    x  y  y  z |            |            | Adds columns at the      |
<a id="__codelineno-663-21" name="__codelineno-663-21" href="#__codelineno-663-21"></a>|           axis=1,      | a  1  2  .  . | x  y  y  z |            | right end. Uses &#39;outer&#39;  |
<a id="__codelineno-663-22" name="__codelineno-663-22" href="#__codelineno-663-22"></a>|           join=…)      | b  3  4  4  5 | 3  4  4  5 |            | by default. A Series is  |
<a id="__codelineno-663-23" name="__codelineno-663-23" href="#__codelineno-663-23"></a>|                        | c  .  .  6  7 |            |            | treated as a column.     |
<a id="__codelineno-663-24" name="__codelineno-663-24" href="#__codelineno-663-24"></a>+------------------------+---------------+------------+------------+--------------------------+
<a id="__codelineno-663-25" name="__codelineno-663-25" href="#__codelineno-663-25"></a>| l.combine_first(r)     |    x   y   z  |            |            | Adds missing rows and    |
<a id="__codelineno-663-26" name="__codelineno-663-26" href="#__codelineno-663-26"></a>|                        | a  1   2   .  |            |            | columns. Also updates    |
<a id="__codelineno-663-27" name="__codelineno-663-27" href="#__codelineno-663-27"></a>|                        | b  3   4   5  |            |            | items that contain NaN.  |
<a id="__codelineno-663-28" name="__codelineno-663-28" href="#__codelineno-663-28"></a>|                        | c  .   6   7  |            |            | Argument r must be a DF. |
<a id="__codelineno-663-29" name="__codelineno-663-29" href="#__codelineno-663-29"></a>+------------------------+---------------+------------+------------+--------------------------+
</code></pre></div>
<h4 id="dataframe-aggregate-transform-map_1">DataFrame — Aggregate, Transform, Map:<a class="headerlink" href="#dataframe-aggregate-transform-map_1" title="Permanent link">&para;</a></h4>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-664-1" name="__codelineno-664-1" href="#__codelineno-664-1"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">sum</span><span class="o">/</span><span class="nb">max</span><span class="o">/</span><span class="n">mean</span><span class="o">/</span><span class="n">idxmax</span><span class="o">/</span><span class="nb">all</span><span class="p">()</span>          <span class="c1"># Or: &lt;DF&gt;.apply/agg(lambda &lt;Sr&gt;: &lt;el&gt;)</span>
<a id="__codelineno-664-2" name="__codelineno-664-2" href="#__codelineno-664-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">rank</span><span class="o">/</span><span class="n">diff</span><span class="o">/</span><span class="n">cumsum</span><span class="o">/</span><span class="n">ffill</span><span class="o">/</span><span class="n">interplt</span><span class="p">()</span>  <span class="c1"># Or: &lt;DF&gt;.apply/agg/transfrm(lambda &lt;Sr&gt;: &lt;Sr&gt;)</span>
<a id="__codelineno-664-3" name="__codelineno-664-3" href="#__codelineno-664-3"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">fillna</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Or: &lt;DF&gt;.applymap(lambda &lt;el&gt;: &lt;el&gt;)</span>
</code></pre></div>
* <strong>All operations operate on columns by default. Pass <code>'axis=1'</code> to process the rows instead.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-665-1" name="__codelineno-665-1" href="#__codelineno-665-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]],</span> <span class="n">index</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">])</span>
<a id="__codelineno-665-2" name="__codelineno-665-2" href="#__codelineno-665-2"></a>   <span class="n">x</span>  <span class="n">y</span>
<a id="__codelineno-665-3" name="__codelineno-665-3" href="#__codelineno-665-3"></a><span class="n">a</span>  <span class="mi">1</span>  <span class="mi">2</span>
<a id="__codelineno-665-4" name="__codelineno-665-4" href="#__codelineno-665-4"></a><span class="n">b</span>  <span class="mi">3</span>  <span class="mi">4</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-666-1" name="__codelineno-666-1" href="#__codelineno-666-1"></a>+-----------------+-------------+-------------+---------------+
<a id="__codelineno-666-2" name="__codelineno-666-2" href="#__codelineno-666-2"></a>|                 |    &#39;sum&#39;    |   [&#39;sum&#39;]   | {&#39;x&#39;: &#39;sum&#39;}  |
<a id="__codelineno-666-3" name="__codelineno-666-3" href="#__codelineno-666-3"></a>+-----------------+-------------+-------------+---------------+
<a id="__codelineno-666-4" name="__codelineno-666-4" href="#__codelineno-666-4"></a>| df.apply(…)     |     x  4    |       x  y  |     x  4      |
<a id="__codelineno-666-5" name="__codelineno-666-5" href="#__codelineno-666-5"></a>| df.agg(…)       |     y  6    |  sum  4  6  |               |
<a id="__codelineno-666-6" name="__codelineno-666-6" href="#__codelineno-666-6"></a>+-----------------+-------------+-------------+---------------+
</code></pre></div>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-667-1" name="__codelineno-667-1" href="#__codelineno-667-1"></a>+-----------------+-------------+-------------+---------------+
<a id="__codelineno-667-2" name="__codelineno-667-2" href="#__codelineno-667-2"></a>|                 |    &#39;rank&#39;   |   [&#39;rank&#39;]  | {&#39;x&#39;: &#39;rank&#39;} |
<a id="__codelineno-667-3" name="__codelineno-667-3" href="#__codelineno-667-3"></a>+-----------------+-------------+-------------+---------------+
<a id="__codelineno-667-4" name="__codelineno-667-4" href="#__codelineno-667-4"></a>| df.apply(…)     |             |      x    y |               |
<a id="__codelineno-667-5" name="__codelineno-667-5" href="#__codelineno-667-5"></a>| df.agg(…)       |      x  y   |   rank rank |        x      |
<a id="__codelineno-667-6" name="__codelineno-667-6" href="#__codelineno-667-6"></a>| df.transform(…) |   a  1  1   | a    1    1 |     a  1      |
<a id="__codelineno-667-7" name="__codelineno-667-7" href="#__codelineno-667-7"></a>|                 |   b  2  2   | b    2    2 |     b  2      |
<a id="__codelineno-667-8" name="__codelineno-667-8" href="#__codelineno-667-8"></a>+-----------------+-------------+-------------+---------------+
</code></pre></div>
* <strong>Use <code>'&lt;DF&gt;[col_key_1, col_key_2][row_key]'</code> to get the fifth result's values.</strong></p>
<h4 id="dataframe-plot-encode-decode_1">DataFrame — Plot, Encode, Decode:<a class="headerlink" href="#dataframe-plot-encode-decode_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-668-1" name="__codelineno-668-1" href="#__codelineno-668-1"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">plot</span><span class="o">.</span><span class="n">line</span><span class="o">/</span><span class="n">area</span><span class="o">/</span><span class="n">bar</span><span class="o">/</span><span class="n">hist</span><span class="o">/</span><span class="n">scatter</span><span class="o">/</span><span class="n">box</span><span class="p">()</span>     <span class="c1"># Also: `x=column_key, y=column_key/s`.</span>
<a id="__codelineno-668-2" name="__codelineno-668-2" href="#__codelineno-668-2"></a><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                                     <span class="c1"># Displays the plot. Also plt.savefig(&lt;path&gt;).</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-669-1" name="__codelineno-669-1" href="#__codelineno-669-1"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="o">/</span><span class="n">html</span><span class="p">(</span><span class="s1">&#39;&lt;str/path/url&gt;&#39;</span><span class="p">)</span>     <span class="c1"># Run `$ pip3 install beautifulsoup4 lxml`.</span>
<a id="__codelineno-669-2" name="__codelineno-669-2" href="#__codelineno-669-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;&lt;path/url&gt;&#39;</span><span class="p">)</span>               <span class="c1"># Also `names=&lt;list&gt;, parse_dates=False`.</span>
<a id="__codelineno-669-3" name="__codelineno-669-3" href="#__codelineno-669-3"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="o">/</span><span class="n">excel</span><span class="p">(</span><span class="s1">&#39;&lt;path/url&gt;&#39;</span><span class="p">)</span>      <span class="c1"># Use `sheet_name=None` to get all Excel sheets.</span>
<a id="__codelineno-669-4" name="__codelineno-669-4" href="#__codelineno-669-4"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="s1">&#39;&lt;table/query&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">conn</span><span class="o">.&gt;</span><span class="p">)</span>   <span class="c1"># SQLite3/SQLAlchemy connection (see #SQLite).</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-670-1" name="__codelineno-670-1" href="#__codelineno-670-1"></a><span class="o">&lt;</span><span class="nb">dict</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">to_dict</span><span class="p">([</span><span class="s1">&#39;d/l/s/…&#39;</span><span class="p">])</span>             <span class="c1"># Returns columns as dicts, lists or series.</span>
<a id="__codelineno-670-2" name="__codelineno-670-2" href="#__codelineno-670-2"></a><span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span>  <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">to_json</span><span class="o">/</span><span class="n">html</span><span class="o">/</span><span class="n">csv</span><span class="p">([</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">])</span>       <span class="c1"># Also to_markdown/latex([&lt;path&gt;]).</span>
<a id="__codelineno-670-3" name="__codelineno-670-3" href="#__codelineno-670-3"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">to_pickle</span><span class="o">/</span><span class="n">excel</span><span class="p">(</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span><span class="p">)</span>                   <span class="c1"># Run `$ pip3 install &quot;pandas[excel]&quot; odfpy`.</span>
<a id="__codelineno-670-4" name="__codelineno-670-4" href="#__codelineno-670-4"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">to_sql</span><span class="p">(</span><span class="s1">&#39;&lt;table_name&gt;&#39;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">connection</span><span class="o">&gt;</span><span class="p">)</span>      <span class="c1"># Also `if_exists=&#39;fail/replace/append&#39;`.</span>
</code></pre></div>
<h3 id="groupby_1">GroupBy<a class="headerlink" href="#groupby_1" title="Permanent link">&para;</a></h3>
<p><strong>Object that groups together rows of a dataframe based on the value of the passed column.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-671-1" name="__codelineno-671-1" href="#__codelineno-671-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">6</span><span class="p">]],</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">),</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;xyz&#39;</span><span class="p">))</span>
<a id="__codelineno-671-2" name="__codelineno-671-2" href="#__codelineno-671-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">get_group</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<a id="__codelineno-671-3" name="__codelineno-671-3" href="#__codelineno-671-3"></a>   <span class="n">x</span>  <span class="n">y</span>  <span class="n">z</span>
<a id="__codelineno-671-4" name="__codelineno-671-4" href="#__codelineno-671-4"></a><span class="n">b</span>  <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>
<a id="__codelineno-671-5" name="__codelineno-671-5" href="#__codelineno-671-5"></a><span class="n">c</span>  <span class="mi">7</span>  <span class="mi">8</span>  <span class="mi">6</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-672-1" name="__codelineno-672-1" href="#__codelineno-672-1"></a><span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;.</span><span class="n">groupby</span><span class="p">(</span><span class="n">column_key</span><span class="o">/</span><span class="n">s</span><span class="p">)</span>              <span class="c1"># Splits DF into groups based on passed column.</span>
<a id="__codelineno-672-2" name="__codelineno-672-2" href="#__codelineno-672-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;.</span><span class="n">apply</span><span class="p">(</span><span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span><span class="p">)</span>                      <span class="c1"># Maps each group. Func can return DF, Sr or el.</span>
<a id="__codelineno-672-3" name="__codelineno-672-3" href="#__codelineno-672-3"></a><span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;</span><span class="p">[</span><span class="n">column_key</span><span class="p">]</span>                        <span class="c1"># Single column GB. All operations return a Sr.</span>
<a id="__codelineno-672-4" name="__codelineno-672-4" href="#__codelineno-672-4"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;.</span><span class="n">size</span><span class="p">()</span>                             <span class="c1"># A Sr of group sizes. Keys are group &quot;names&quot;.</span>
</code></pre></div>
<h4 id="groupby-aggregate-transform-map_1">GroupBy — Aggregate, Transform, Map:<a class="headerlink" href="#groupby-aggregate-transform-map_1" title="Permanent link">&para;</a></h4>
<div class="highlight"><pre><span></span><code><a id="__codelineno-673-1" name="__codelineno-673-1" href="#__codelineno-673-1"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;.</span><span class="n">sum</span><span class="o">/</span><span class="nb">max</span><span class="o">/</span><span class="n">mean</span><span class="o">/</span><span class="n">idxmax</span><span class="o">/</span><span class="nb">all</span><span class="p">()</span>          <span class="c1"># Or: &lt;GB&gt;.agg(lambda &lt;Sr&gt;: &lt;el&gt;)</span>
<a id="__codelineno-673-2" name="__codelineno-673-2" href="#__codelineno-673-2"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;.</span><span class="n">rank</span><span class="o">/</span><span class="n">diff</span><span class="o">/</span><span class="n">cumsum</span><span class="o">/</span><span class="n">ffill</span><span class="p">()</span>           <span class="c1"># Or: &lt;GB&gt;.transform(lambda &lt;Sr&gt;: &lt;Sr&gt;)</span>
<a id="__codelineno-673-3" name="__codelineno-673-3" href="#__codelineno-673-3"></a><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">GB</span><span class="o">&gt;.</span><span class="n">fillna</span><span class="p">(</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">)</span>                       <span class="c1"># Or: &lt;GB&gt;.transform(lambda &lt;Sr&gt;: &lt;Sr&gt;)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-674-1" name="__codelineno-674-1" href="#__codelineno-674-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">gb</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;z&#39;</span><span class="p">);</span> <span class="n">gb</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">print</span><span class="p">)</span>
<a id="__codelineno-674-2" name="__codelineno-674-2" href="#__codelineno-674-2"></a>   <span class="n">x</span>  <span class="n">y</span>  <span class="n">z</span>
<a id="__codelineno-674-3" name="__codelineno-674-3" href="#__codelineno-674-3"></a><span class="n">a</span>  <span class="mi">1</span>  <span class="mi">2</span>  <span class="mi">3</span>
<a id="__codelineno-674-4" name="__codelineno-674-4" href="#__codelineno-674-4"></a>   <span class="n">x</span>  <span class="n">y</span>  <span class="n">z</span>
<a id="__codelineno-674-5" name="__codelineno-674-5" href="#__codelineno-674-5"></a><span class="n">b</span>  <span class="mi">4</span>  <span class="mi">5</span>  <span class="mi">6</span>
<a id="__codelineno-674-6" name="__codelineno-674-6" href="#__codelineno-674-6"></a><span class="n">c</span>  <span class="mi">7</span>  <span class="mi">8</span>  <span class="mi">6</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-675-1" name="__codelineno-675-1" href="#__codelineno-675-1"></a>+-----------------+-------------+-------------+-------------+---------------+
<a id="__codelineno-675-2" name="__codelineno-675-2" href="#__codelineno-675-2"></a>|                 |    &#39;sum&#39;    |    &#39;rank&#39;   |   [&#39;rank&#39;]  | {&#39;x&#39;: &#39;rank&#39;} |
<a id="__codelineno-675-3" name="__codelineno-675-3" href="#__codelineno-675-3"></a>+-----------------+-------------+-------------+-------------+---------------+
<a id="__codelineno-675-4" name="__codelineno-675-4" href="#__codelineno-675-4"></a>| gb.agg(…)       |      x   y  |             |      x    y |               |
<a id="__codelineno-675-5" name="__codelineno-675-5" href="#__codelineno-675-5"></a>|                 |  z          |      x  y   |   rank rank |        x      |
<a id="__codelineno-675-6" name="__codelineno-675-6" href="#__codelineno-675-6"></a>|                 |  3   1   2  |   a  1  1   | a    1    1 |     a  1      |
<a id="__codelineno-675-7" name="__codelineno-675-7" href="#__codelineno-675-7"></a>|                 |  6  11  13  |   b  1  1   | b    1    1 |     b  1      |
<a id="__codelineno-675-8" name="__codelineno-675-8" href="#__codelineno-675-8"></a>|                 |             |   c  2  2   | c    2    2 |     c  2      |
<a id="__codelineno-675-9" name="__codelineno-675-9" href="#__codelineno-675-9"></a>+-----------------+-------------+-------------+-------------+---------------+
<a id="__codelineno-675-10" name="__codelineno-675-10" href="#__codelineno-675-10"></a>| gb.transform(…) |      x   y  |      x  y   |             |               |
<a id="__codelineno-675-11" name="__codelineno-675-11" href="#__codelineno-675-11"></a>|                 |  a   1   2  |   a  1  1   |             |               |
<a id="__codelineno-675-12" name="__codelineno-675-12" href="#__codelineno-675-12"></a>|                 |  b  11  13  |   b  1  1   |             |               |
<a id="__codelineno-675-13" name="__codelineno-675-13" href="#__codelineno-675-13"></a>|                 |  c  11  13  |   c  2  2   |             |               |
<a id="__codelineno-675-14" name="__codelineno-675-14" href="#__codelineno-675-14"></a>+-----------------+-------------+-------------+-------------+---------------+
</code></pre></div>
<h3 id="rolling_1">Rolling<a class="headerlink" href="#rolling_1" title="Permanent link">&para;</a></h3>
<p><strong>Object for rolling window calculations.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-676-1" name="__codelineno-676-1" href="#__codelineno-676-1"></a><span class="o">&lt;</span><span class="n">RSr</span><span class="o">/</span><span class="n">RDF</span><span class="o">/</span><span class="n">RGB</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">/</span><span class="n">GB</span><span class="o">&gt;.</span><span class="n">rolling</span><span class="p">(</span><span class="n">win_size</span><span class="p">)</span>   <span class="c1"># Also: `min_periods=None, center=False`.</span>
<a id="__codelineno-676-2" name="__codelineno-676-2" href="#__codelineno-676-2"></a><span class="o">&lt;</span><span class="n">RSr</span><span class="o">/</span><span class="n">RDF</span><span class="o">/</span><span class="n">RGB</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">RDF</span><span class="o">/</span><span class="n">RGB</span><span class="o">&gt;</span><span class="p">[</span><span class="n">column_key</span><span class="o">/</span><span class="n">s</span><span class="p">]</span>        <span class="c1"># Or: &lt;RDF/RGB&gt;.column_key</span>
<a id="__codelineno-676-3" name="__codelineno-676-3" href="#__codelineno-676-3"></a><span class="o">&lt;</span><span class="n">Sr</span><span class="o">/</span><span class="n">DF</span><span class="o">&gt;</span>       <span class="o">=</span> <span class="o">&lt;</span><span class="n">R</span><span class="o">&gt;.</span><span class="n">mean</span><span class="o">/</span><span class="nb">sum</span><span class="o">/</span><span class="nb">max</span><span class="p">()</span>             <span class="c1"># Or: &lt;R&gt;.apply/agg(&lt;agg_func/str&gt;)</span>
</code></pre></div>
<h2 id="plotly_1">Plotly<a class="headerlink" href="#plotly_1" title="Permanent link">&para;</a></h2>
<div class="highlight"><pre><span></span><code><a id="__codelineno-677-1" name="__codelineno-677-1" href="#__codelineno-677-1"></a><span class="c1"># $ pip3 install pandas plotly kaleido</span>
<a id="__codelineno-677-2" name="__codelineno-677-2" href="#__codelineno-677-2"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span><span class="o">,</span> <span class="nn">plotly.express</span> <span class="k">as</span> <span class="nn">ex</span>
<a id="__codelineno-677-3" name="__codelineno-677-3" href="#__codelineno-677-3"></a><span class="o">&lt;</span><span class="n">Figure</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ex</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="o">&lt;</span><span class="n">DF</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">x</span><span class="o">=&lt;</span><span class="n">col_name</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">y</span><span class="o">=&lt;</span><span class="n">col_name</span><span class="o">&gt;</span><span class="p">)</span>        <span class="c1"># Or: ex.line(x=&lt;list&gt;, y=&lt;list&gt;)</span>
<a id="__codelineno-677-4" name="__codelineno-677-4" href="#__codelineno-677-4"></a><span class="o">&lt;</span><span class="n">Figure</span><span class="o">&gt;.</span><span class="n">update_layout</span><span class="p">(</span><span class="n">margin</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">t</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">l</span><span class="o">=</span><span class="mi">0</span><span class="p">),</span> <span class="err">…</span><span class="p">)</span>  <span class="c1"># `paper_bgcolor=&#39;rgb(0, 0, 0)&#39;`.</span>
<a id="__codelineno-677-5" name="__codelineno-677-5" href="#__codelineno-677-5"></a><span class="o">&lt;</span><span class="n">Figure</span><span class="o">&gt;.</span><span class="n">write_html</span><span class="o">/</span><span class="n">json</span><span class="o">/</span><span class="n">image</span><span class="p">(</span><span class="s1">&#39;&lt;path&gt;&#39;</span><span class="p">)</span>                    <span class="c1"># Also &lt;Figure&gt;.show().</span>
</code></pre></div>
<h4 id="displays-a-line-chart-of-total-coronavirus-deaths-per-million-grouped-by-continent_1">Displays a line chart of total coronavirus deaths per million grouped by continent:<a class="headerlink" href="#displays-a-line-chart-of-total-coronavirus-deaths-per-million-grouped-by-continent_1" title="Permanent link">&para;</a></h4>
<p><img alt="Covid Deaths" src="web/covid_deaths.png" /></p>
<div id="2a950764-39fc-416d-97fe-0a6226a3095f" class="plotly-graph-div" style="height:312px; width:914px;"></div>

<div class="highlight"><pre><span></span><code><a id="__codelineno-678-1" name="__codelineno-678-1" href="#__codelineno-678-1"></a><span class="n">covid</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://covid.ourworldindata.org/data/owid-covid-data.csv&#39;</span><span class="p">,</span>
<a id="__codelineno-678-2" name="__codelineno-678-2" href="#__codelineno-678-2"></a>                    <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;iso_code&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;total_deaths&#39;</span><span class="p">,</span> <span class="s1">&#39;population&#39;</span><span class="p">])</span>
<a id="__codelineno-678-3" name="__codelineno-678-3" href="#__codelineno-678-3"></a><span class="n">continents</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://gist.githubusercontent.com/stevewithington/20a69c0b6d2ff&#39;</span>
<a id="__codelineno-678-4" name="__codelineno-678-4" href="#__codelineno-678-4"></a>                         <span class="s1">&#39;846ea5d35e5fc47f26c/raw/country-and-continent-codes-list-csv.csv&#39;</span><span class="p">,</span>
<a id="__codelineno-678-5" name="__codelineno-678-5" href="#__codelineno-678-5"></a>                         <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Three_Letter_Country_Code&#39;</span><span class="p">,</span> <span class="s1">&#39;Continent_Name&#39;</span><span class="p">])</span>
<a id="__codelineno-678-6" name="__codelineno-678-6" href="#__codelineno-678-6"></a><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">covid</span><span class="p">,</span> <span class="n">continents</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;iso_code&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;Three_Letter_Country_Code&#39;</span><span class="p">)</span>
<a id="__codelineno-678-7" name="__codelineno-678-7" href="#__codelineno-678-7"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Continent_Name&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
<a id="__codelineno-678-8" name="__codelineno-678-8" href="#__codelineno-678-8"></a><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Total Deaths per Million&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">total_deaths</span> <span class="o">*</span> <span class="mf">1e6</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">population</span>
<a id="__codelineno-678-9" name="__codelineno-678-9" href="#__codelineno-678-9"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">date</span> <span class="o">&gt;</span> <span class="s1">&#39;2020-03-14&#39;</span><span class="p">]</span>
<a id="__codelineno-678-10" name="__codelineno-678-10" href="#__codelineno-678-10"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="s1">&#39;date&#39;</span><span class="p">:</span> <span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Continent_Name&#39;</span><span class="p">:</span> <span class="s1">&#39;Continent&#39;</span><span class="p">},</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">)</span>
<a id="__codelineno-678-11" name="__codelineno-678-11" href="#__codelineno-678-11"></a><span class="n">ex</span><span class="o">.</span><span class="n">line</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Total Deaths per Million&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;Continent&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<h4 id="displays-a-multi-axis-line-chart-of-total-coronavirus-cases-and-changes-in-prices-of-bitcoin-dow-jones-and-gold_1">Displays a multi-axis line chart of total coronavirus cases and changes in prices of Bitcoin, Dow Jones and gold:<a class="headerlink" href="#displays-a-multi-axis-line-chart-of-total-coronavirus-cases-and-changes-in-prices-of-bitcoin-dow-jones-and-gold_1" title="Permanent link">&para;</a></h4>
<p><img alt="Covid Cases" src="web/covid_cases.png" /></p>
<div id="e23ccacc-a456-478b-b467-7282a2165921" class="plotly-graph-div" style="height:287px; width:935px;"></div>

<div class="highlight"><pre><span></span><code><a id="__codelineno-679-1" name="__codelineno-679-1" href="#__codelineno-679-1"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span><span class="o">,</span> <span class="nn">plotly.graph_objects</span> <span class="k">as</span> <span class="nn">go</span>
<a id="__codelineno-679-2" name="__codelineno-679-2" href="#__codelineno-679-2"></a>
<a id="__codelineno-679-3" name="__codelineno-679-3" href="#__codelineno-679-3"></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-679-4" name="__codelineno-679-4" href="#__codelineno-679-4"></a>    <span class="n">covid</span><span class="p">,</span> <span class="n">bitcoin</span><span class="p">,</span> <span class="n">gold</span><span class="p">,</span> <span class="n">dow</span> <span class="o">=</span> <span class="n">scrape_data</span><span class="p">()</span>
<a id="__codelineno-679-5" name="__codelineno-679-5" href="#__codelineno-679-5"></a>    <span class="n">display_data</span><span class="p">(</span><span class="n">wrangle_data</span><span class="p">(</span><span class="n">covid</span><span class="p">,</span> <span class="n">bitcoin</span><span class="p">,</span> <span class="n">gold</span><span class="p">,</span> <span class="n">dow</span><span class="p">))</span>
<a id="__codelineno-679-6" name="__codelineno-679-6" href="#__codelineno-679-6"></a>
<a id="__codelineno-679-7" name="__codelineno-679-7" href="#__codelineno-679-7"></a><span class="k">def</span> <span class="nf">scrape_data</span><span class="p">():</span>
<a id="__codelineno-679-8" name="__codelineno-679-8" href="#__codelineno-679-8"></a>    <span class="k">def</span> <span class="nf">get_covid_cases</span><span class="p">():</span>
<a id="__codelineno-679-9" name="__codelineno-679-9" href="#__codelineno-679-9"></a>        <span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://covid.ourworldindata.org/data/owid-covid-data.csv&#39;</span>
<a id="__codelineno-679-10" name="__codelineno-679-10" href="#__codelineno-679-10"></a>        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;location&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;total_cases&#39;</span><span class="p">])</span>
<a id="__codelineno-679-11" name="__codelineno-679-11" href="#__codelineno-679-11"></a>        <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">location</span> <span class="o">==</span> <span class="s1">&#39;World&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">total_cases</span>
<a id="__codelineno-679-12" name="__codelineno-679-12" href="#__codelineno-679-12"></a>    <span class="k">def</span> <span class="nf">get_ticker</span><span class="p">(</span><span class="n">symbol</span><span class="p">):</span>
<a id="__codelineno-679-13" name="__codelineno-679-13" href="#__codelineno-679-13"></a>        <span class="n">url</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s1">&#39;https://query1.finance.yahoo.com/v7/finance/download/</span><span class="si">{</span><span class="n">symbol</span><span class="si">}</span><span class="s1">?&#39;</span>
<a id="__codelineno-679-14" name="__codelineno-679-14" href="#__codelineno-679-14"></a>               <span class="s1">&#39;period1=1579651200&amp;period2=9999999999&amp;interval=1d&amp;events=history&#39;</span><span class="p">)</span>
<a id="__codelineno-679-15" name="__codelineno-679-15" href="#__codelineno-679-15"></a>        <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">,</span> <span class="s1">&#39;Close&#39;</span><span class="p">])</span>
<a id="__codelineno-679-16" name="__codelineno-679-16" href="#__codelineno-679-16"></a>        <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">Close</span>
<a id="__codelineno-679-17" name="__codelineno-679-17" href="#__codelineno-679-17"></a>    <span class="n">out</span> <span class="o">=</span> <span class="n">get_covid_cases</span><span class="p">(),</span> <span class="n">get_ticker</span><span class="p">(</span><span class="s1">&#39;BTC-USD&#39;</span><span class="p">),</span> <span class="n">get_ticker</span><span class="p">(</span><span class="s1">&#39;GC=F&#39;</span><span class="p">),</span> <span class="n">get_ticker</span><span class="p">(</span><span class="s1">&#39;^DJI&#39;</span><span class="p">)</span>
<a id="__codelineno-679-18" name="__codelineno-679-18" href="#__codelineno-679-18"></a>    <span class="k">return</span> <span class="nb">map</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="o">.</span><span class="n">rename</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;Total Cases&#39;</span><span class="p">,</span> <span class="s1">&#39;Bitcoin&#39;</span><span class="p">,</span> <span class="s1">&#39;Gold&#39;</span><span class="p">,</span> <span class="s1">&#39;Dow Jones&#39;</span><span class="p">])</span>
<a id="__codelineno-679-19" name="__codelineno-679-19" href="#__codelineno-679-19"></a>
<a id="__codelineno-679-20" name="__codelineno-679-20" href="#__codelineno-679-20"></a><span class="k">def</span> <span class="nf">wrangle_data</span><span class="p">(</span><span class="n">covid</span><span class="p">,</span> <span class="n">bitcoin</span><span class="p">,</span> <span class="n">gold</span><span class="p">,</span> <span class="n">dow</span><span class="p">):</span>
<a id="__codelineno-679-21" name="__codelineno-679-21" href="#__codelineno-679-21"></a>    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">bitcoin</span><span class="p">,</span> <span class="n">gold</span><span class="p">,</span> <span class="n">dow</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># Creates table by joining columns on dates.</span>
<a id="__codelineno-679-22" name="__codelineno-679-22" href="#__codelineno-679-22"></a>    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_index</span><span class="p">()</span><span class="o">.</span><span class="n">interpolate</span><span class="p">()</span>            <span class="c1"># Sorts table by date and interpolates NaN-s.</span>
<a id="__codelineno-679-23" name="__codelineno-679-23" href="#__codelineno-679-23"></a>    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;2020-02-23&#39;</span><span class="p">:]</span>                    <span class="c1"># Discards rows before &#39;2020-02-23&#39;.</span>
<a id="__codelineno-679-24" name="__codelineno-679-24" href="#__codelineno-679-24"></a>    <span class="n">df</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span> <span class="o">/</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>                  <span class="c1"># Calculates percentages relative to day 1.</span>
<a id="__codelineno-679-25" name="__codelineno-679-25" href="#__codelineno-679-25"></a>    <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">covid</span><span class="p">)</span>                           <span class="c1"># Adds column with covid cases.</span>
<a id="__codelineno-679-26" name="__codelineno-679-26" href="#__codelineno-679-26"></a>    <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>   <span class="c1"># Sorts columns by last day&#39;s value.</span>
<a id="__codelineno-679-27" name="__codelineno-679-27" href="#__codelineno-679-27"></a>
<a id="__codelineno-679-28" name="__codelineno-679-28" href="#__codelineno-679-28"></a><span class="k">def</span> <span class="nf">display_data</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
<a id="__codelineno-679-29" name="__codelineno-679-29" href="#__codelineno-679-29"></a>    <span class="n">figure</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>
<a id="__codelineno-679-30" name="__codelineno-679-30" href="#__codelineno-679-30"></a>    <span class="k">for</span> <span class="n">col_name</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
<a id="__codelineno-679-31" name="__codelineno-679-31" href="#__codelineno-679-31"></a>        <span class="n">yaxis</span> <span class="o">=</span> <span class="s1">&#39;y1&#39;</span> <span class="k">if</span> <span class="n">col_name</span> <span class="o">==</span> <span class="s1">&#39;Total Cases&#39;</span> <span class="k">else</span> <span class="s1">&#39;y2&#39;</span>
<a id="__codelineno-679-32" name="__codelineno-679-32" href="#__codelineno-679-32"></a>        <span class="n">trace</span> <span class="o">=</span> <span class="n">go</span><span class="o">.</span><span class="n">Scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">col_name</span><span class="p">],</span> <span class="n">name</span><span class="o">=</span><span class="n">col_name</span><span class="p">,</span> <span class="n">yaxis</span><span class="o">=</span><span class="n">yaxis</span><span class="p">)</span>
<a id="__codelineno-679-33" name="__codelineno-679-33" href="#__codelineno-679-33"></a>        <span class="n">figure</span><span class="o">.</span><span class="n">add_trace</span><span class="p">(</span><span class="n">trace</span><span class="p">)</span>
<a id="__codelineno-679-34" name="__codelineno-679-34" href="#__codelineno-679-34"></a>    <span class="n">figure</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
<a id="__codelineno-679-35" name="__codelineno-679-35" href="#__codelineno-679-35"></a>        <span class="n">yaxis1</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Total Cases&#39;</span><span class="p">,</span> <span class="n">rangemode</span><span class="o">=</span><span class="s1">&#39;tozero&#39;</span><span class="p">),</span>
<a id="__codelineno-679-36" name="__codelineno-679-36" href="#__codelineno-679-36"></a>        <span class="n">yaxis2</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;%&#39;</span><span class="p">,</span> <span class="n">rangemode</span><span class="o">=</span><span class="s1">&#39;tozero&#39;</span><span class="p">,</span> <span class="n">overlaying</span><span class="o">=</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">),</span>
<a id="__codelineno-679-37" name="__codelineno-679-37" href="#__codelineno-679-37"></a>        <span class="n">legend</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">1.08</span><span class="p">),</span>
<a id="__codelineno-679-38" name="__codelineno-679-38" href="#__codelineno-679-38"></a>        <span class="n">width</span><span class="o">=</span><span class="mi">944</span><span class="p">,</span>
<a id="__codelineno-679-39" name="__codelineno-679-39" href="#__codelineno-679-39"></a>        <span class="n">height</span><span class="o">=</span><span class="mi">423</span>
<a id="__codelineno-679-40" name="__codelineno-679-40" href="#__codelineno-679-40"></a>    <span class="p">)</span>
<a id="__codelineno-679-41" name="__codelineno-679-41" href="#__codelineno-679-41"></a>    <span class="n">figure</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<a id="__codelineno-679-42" name="__codelineno-679-42" href="#__codelineno-679-42"></a>
<a id="__codelineno-679-43" name="__codelineno-679-43" href="#__codelineno-679-43"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<a id="__codelineno-679-44" name="__codelineno-679-44" href="#__codelineno-679-44"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h2 id="appendix_1">Appendix<a class="headerlink" href="#appendix_1" title="Permanent link">&para;</a></h2>
<h3 id="cython_1">Cython<a class="headerlink" href="#cython_1" title="Permanent link">&para;</a></h3>
<p><strong>Library that compiles Python code into C.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-680-1" name="__codelineno-680-1" href="#__codelineno-680-1"></a><span class="c1"># $ pip3 install cython</span>
<a id="__codelineno-680-2" name="__codelineno-680-2" href="#__codelineno-680-2"></a><span class="kn">import</span> <span class="nn">pyximport</span><span class="p">;</span> <span class="n">pyximport</span><span class="o">.</span><span class="n">install</span><span class="p">()</span>
<a id="__codelineno-680-3" name="__codelineno-680-3" href="#__codelineno-680-3"></a><span class="kn">import</span> <span class="o">&lt;</span><span class="n">cython_script</span><span class="o">&gt;</span>
<a id="__codelineno-680-4" name="__codelineno-680-4" href="#__codelineno-680-4"></a><span class="o">&lt;</span><span class="n">cython_script</span><span class="o">&gt;.</span><span class="n">main</span><span class="p">()</span>
</code></pre></div>
<h4 id="definitions_1">Definitions:<a class="headerlink" href="#definitions_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>All <code>'cdef'</code> definitions are optional, but they contribute to the speed-up.</strong></li>
<li><strong>Script needs to be saved with a <code>'pyx'</code> extension.</strong></li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-681-1" name="__codelineno-681-1" href="#__codelineno-681-1"></a><span class="n">cdef</span> <span class="o">&lt;</span><span class="n">ctype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">var_name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span>
<a id="__codelineno-681-2" name="__codelineno-681-2" href="#__codelineno-681-2"></a><span class="n">cdef</span> <span class="o">&lt;</span><span class="n">ctype</span><span class="o">&gt;</span><span class="p">[</span><span class="n">n_elements</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">var_name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">el</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
<a id="__codelineno-681-3" name="__codelineno-681-3" href="#__codelineno-681-3"></a><span class="n">cdef</span> <span class="o">&lt;</span><span class="n">ctype</span><span class="o">/</span><span class="n">void</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">func_name</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">ctype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">arg_name</span><span class="o">&gt;</span><span class="p">):</span> <span class="o">...</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-682-1" name="__codelineno-682-1" href="#__codelineno-682-1"></a><span class="n">cdef</span> <span class="k">class</span> <span class="err">&lt;</span><span class="nc">class_name</span><span class="o">&gt;</span><span class="p">:</span>
<a id="__codelineno-682-2" name="__codelineno-682-2" href="#__codelineno-682-2"></a>    <span class="n">cdef</span> <span class="n">public</span> <span class="o">&lt;</span><span class="n">ctype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">attr_name</span><span class="o">&gt;</span>
<a id="__codelineno-682-3" name="__codelineno-682-3" href="#__codelineno-682-3"></a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ctype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">arg_name</span><span class="o">&gt;</span><span class="p">):</span>
<a id="__codelineno-682-4" name="__codelineno-682-4" href="#__codelineno-682-4"></a>        <span class="bp">self</span><span class="o">.&lt;</span><span class="n">attr_name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">arg_name</span><span class="o">&gt;</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-683-1" name="__codelineno-683-1" href="#__codelineno-683-1"></a><span class="n">cdef</span> <span class="n">enum</span> <span class="o">&lt;</span><span class="n">enum_name</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">member_name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">member_name</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span>
</code></pre></div>
<h3 id="virtual-environments_1">Virtual Environments<a class="headerlink" href="#virtual-environments_1" title="Permanent link">&para;</a></h3>
<p><strong>System for installing libraries directly into project's directory.</strong></p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-684-1" name="__codelineno-684-1" href="#__codelineno-684-1"></a>$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>&lt;name&gt;<span class="w">      </span><span class="c1"># Creates virtual environment in current directory.</span>
<a id="__codelineno-684-2" name="__codelineno-684-2" href="#__codelineno-684-2"></a>$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>&lt;name&gt;/bin/activate<span class="w">  </span><span class="c1"># Activates venv. On Windows run `&lt;name&gt;\Scripts\activate`.</span>
<a id="__codelineno-684-3" name="__codelineno-684-3" href="#__codelineno-684-3"></a>$<span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>&lt;library&gt;<span class="w">      </span><span class="c1"># Installs the library into active environment.</span>
<a id="__codelineno-684-4" name="__codelineno-684-4" href="#__codelineno-684-4"></a>$<span class="w"> </span>python3<span class="w"> </span>&lt;path&gt;<span class="w">              </span><span class="c1"># Runs the script in active environment. Also `./&lt;path&gt;`.</span>
<a id="__codelineno-684-5" name="__codelineno-684-5" href="#__codelineno-684-5"></a>$<span class="w"> </span>deactivate<span class="w">                  </span><span class="c1"># Deactivates the active virtual environment.</span>
</code></pre></div>
<h3 id="basic-script-template_1">Basic Script Template<a class="headerlink" href="#basic-script-template_1" title="Permanent link">&para;</a></h3>
<div class="highlight"><pre><span></span><code><a id="__codelineno-685-1" name="__codelineno-685-1" href="#__codelineno-685-1"></a><span class="ch">#!/usr/bin/env python3</span>
<a id="__codelineno-685-2" name="__codelineno-685-2" href="#__codelineno-685-2"></a><span class="c1">#</span>
<a id="__codelineno-685-3" name="__codelineno-685-3" href="#__codelineno-685-3"></a><span class="c1"># Usage: .py</span>
<a id="__codelineno-685-4" name="__codelineno-685-4" href="#__codelineno-685-4"></a><span class="c1">#</span>
<a id="__codelineno-685-5" name="__codelineno-685-5" href="#__codelineno-685-5"></a>
<a id="__codelineno-685-6" name="__codelineno-685-6" href="#__codelineno-685-6"></a><span class="kn">from</span> <span class="nn">sys</span> <span class="kn">import</span> <span class="n">argv</span><span class="p">,</span> <span class="n">exit</span>
<a id="__codelineno-685-7" name="__codelineno-685-7" href="#__codelineno-685-7"></a><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span><span class="p">,</span> <span class="n">namedtuple</span>
<a id="__codelineno-685-8" name="__codelineno-685-8" href="#__codelineno-685-8"></a><span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">make_dataclass</span>
<a id="__codelineno-685-9" name="__codelineno-685-9" href="#__codelineno-685-9"></a><span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<a id="__codelineno-685-10" name="__codelineno-685-10" href="#__codelineno-685-10"></a><span class="kn">import</span> <span class="nn">functools</span> <span class="k">as</span> <span class="nn">ft</span><span class="o">,</span> <span class="nn">itertools</span> <span class="k">as</span> <span class="nn">it</span><span class="o">,</span> <span class="nn">operator</span> <span class="k">as</span> <span class="nn">op</span><span class="o">,</span> <span class="nn">re</span>
<a id="__codelineno-685-11" name="__codelineno-685-11" href="#__codelineno-685-11"></a>
<a id="__codelineno-685-12" name="__codelineno-685-12" href="#__codelineno-685-12"></a>
<a id="__codelineno-685-13" name="__codelineno-685-13" href="#__codelineno-685-13"></a><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
<a id="__codelineno-685-14" name="__codelineno-685-14" href="#__codelineno-685-14"></a>    <span class="k">pass</span>
<a id="__codelineno-685-15" name="__codelineno-685-15" href="#__codelineno-685-15"></a>
<a id="__codelineno-685-16" name="__codelineno-685-16" href="#__codelineno-685-16"></a>
<a id="__codelineno-685-17" name="__codelineno-685-17" href="#__codelineno-685-17"></a><span class="c1">###</span>
<a id="__codelineno-685-18" name="__codelineno-685-18" href="#__codelineno-685-18"></a><span class="c1">##  UTIL</span>
<a id="__codelineno-685-19" name="__codelineno-685-19" href="#__codelineno-685-19"></a><span class="c1">#</span>
<a id="__codelineno-685-20" name="__codelineno-685-20" href="#__codelineno-685-20"></a>
<a id="__codelineno-685-21" name="__codelineno-685-21" href="#__codelineno-685-21"></a><span class="k">def</span> <span class="nf">read_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
<a id="__codelineno-685-22" name="__codelineno-685-22" href="#__codelineno-685-22"></a>    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<a id="__codelineno-685-23" name="__codelineno-685-23" href="#__codelineno-685-23"></a>        <span class="k">return</span> <span class="n">file</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<a id="__codelineno-685-24" name="__codelineno-685-24" href="#__codelineno-685-24"></a>
<a id="__codelineno-685-25" name="__codelineno-685-25" href="#__codelineno-685-25"></a>
<a id="__codelineno-685-26" name="__codelineno-685-26" href="#__codelineno-685-26"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
<a id="__codelineno-685-27" name="__codelineno-685-27" href="#__codelineno-685-27"></a>    <span class="n">main</span><span class="p">()</span>
</code></pre></div>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.instant", "navigation.tracking", "content.code.copy"], "search": "../assets/javascripts/workers/search.c011b7c0.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.7389ff0e.min.js"></script>
      
    
  </body>
</html>